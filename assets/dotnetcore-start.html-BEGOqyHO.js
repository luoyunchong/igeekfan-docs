import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as l,a as s,b as a,d as e,e as r,w as h,r as o,o as d}from"./app-CAdyq2UH.js";const p={};function k(c,i){const n=o("RouteLink");return d(),l("div",null,[i[4]||(i[4]=s("h1",{id:"后端准备",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#后端准备"},[s("span",null,"后端准备")])],-1)),i[5]||(i[5]=s("h2",{id:"开发环境要求",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#开发环境要求"},[s("span",null,"开发环境要求")])],-1)),i[6]||(i[6]=s("p",null,"开发LinCMS后端需要准备以下环境：",-1)),s("ul",null,[i[3]||(i[3]=a('<li><a href="https://dotnet.microsoft.com/zh-cn/download/dotnet/9.0" target="_blank" rel="noopener noreferrer">.NET SDK 9.0</a> 或更高版本</li><li>开发IDE（二选一）： <ul><li><a href="https://visualstudio.microsoft.com/zh-hans/vs/" target="_blank" rel="noopener noreferrer">Visual Studio 2022</a></li><li><a href="https://www.jetbrains.com/rider/" target="_blank" rel="noopener noreferrer">JetBrains Rider</a></li></ul></li><li>数据库：MySQL 5.7+ 或其他支持的数据库（SqlServer/PostgreSQL/Oracle/SQLite）</li><li>Redis：<a href="https://github.com/tporadowski/redis/releases" target="_blank" rel="noopener noreferrer">Redis for Windows</a> - 可选，用于分布式缓存</li>',4)),s("li",null,[i[1]||(i[1]=e("消息队列：")),r(n,{to:"/dotnetcore/lin-cms/rabbitmq.html"},{default:h(()=>i[0]||(i[0]=[e("RabbitMQ")])),_:1}),i[2]||(i[2]=e(" - 可选，用于事件总线"))])]),i[7]||(i[7]=a(`<h2 id="获取源码" tabindex="-1"><a class="header-anchor" href="#获取源码"><span>获取源码</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 克隆项目仓库</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://github.com/luoyunchong/lin-cms-dotnetcore.git</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 进入项目目录</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> lin-cms-dotnetcore</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="数据库配置" tabindex="-1"><a class="header-anchor" href="#数据库配置"><span>数据库配置</span></a></h2><p>配置文件位置：<code>src/LinCms.Web/appsettings.json</code></p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;ConnectionStrings&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">  &quot;DefaultDB&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">  &quot;DataType&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">    &quot;MySql&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">    &quot;SqlServer&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">    &quot;PostgreSQL&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">    &quot;Oracle&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">    &quot;Sqlite&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">  &quot;MySql&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Data Source=localhost;Port=3306;User ID=root;Password=root;Initial Catalog=lincms;Charset=utf8mb4;SslMode=none;Max pool size=1;Connection LifeTime=20&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">  &quot;SqlServer&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Data Source=.;User ID=sa;Password=123456;Integrated Security=True;Initial Catalog=LinCMS;Pooling=true;Min Pool Size=1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">  &quot;PostgreSQL&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Host=localhost;Port=5432;Username=postgres;Password=123456; Database=lincms;Pooling=true;Minimum Pool Size=1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">  &quot;Oracle&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;user id=root;password=root; data source=//127.0.0.1:1521/ORCL;Pooling=true;Min Pool Size=1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">  &quot;Sqlite&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Data Source=|DataDirectory|</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">lincms.db; Attachs=lincms.db; Pooling=true;Min Pool Size=1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">  &quot;CsRedis&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;127.0.0.1:6379,password=,defaultDatabase=0&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通过修改<code>DefaultDB</code>的值可以切换数据库类型：</p><ul><li><code>0</code>: MySQL</li><li><code>1</code>: SqlServer</li><li><code>2</code>: PostgreSQL</li><li><code>3</code>: Oracle</li><li><code>4</code>: SQLite</li></ul><blockquote><p><strong>注意</strong>：请根据实际环境修改连接字符串。如果需要存储emoji表情，请确保MySQL使用<code>utf8mb4</code>字符集。</p></blockquote><h2 id="数据库迁移" tabindex="-1"><a class="header-anchor" href="#数据库迁移"><span>数据库迁移</span></a></h2><p>项目使用<a href="https://github.com/dotnetcore/FreeSql" target="_blank" rel="noopener noreferrer">FreeSql</a>进行数据访问，会根据配置自动创建数据库、迁移表结构并初始化种子数据。</p><p>默认会创建以下账号：</p><ul><li>管理员用户：<code>admin</code></li><li>密码：<code>123qwe</code></li></ul><h2 id="运行项目" tabindex="-1"><a class="header-anchor" href="#运行项目"><span>运行项目</span></a></h2><h3 id="使用visual-studio" tabindex="-1"><a class="header-anchor" href="#使用visual-studio"><span>使用Visual Studio</span></a></h3><ol><li>双击<code>LinCms.sln</code>，使用Visual Studio打开项目</li><li>右键解决方案，点击&quot;生成解决方案&quot;</li><li>按<code>F5</code>运行项目，或使用&quot;调试 &gt; 开始调试&quot;</li></ol><p>系统将自动打开浏览器，访问Swagger接口文档：<code>https://localhost:5001/swagger/index.html</code></p><h3 id="使用命令行" tabindex="-1"><a class="header-anchor" href="#使用命令行"><span>使用命令行</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 进入Web项目目录</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> src/LinCms.Web</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 运行项目</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> run</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 使用watch模式(修改代码自动重启)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> watch</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> run</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="部署指南" tabindex="-1"><a class="header-anchor" href="#部署指南"><span>部署指南</span></a></h2><p>详细的部署文档请参考：</p><ul><li><a href="https://blog.igeekfan.cn/2022/06/09/dotnetcore/ASP.NET-Core-Deploy-To-Ubuntu" target="_blank" rel="noopener noreferrer">部署至Linux(Ubuntu)</a></li><li><a href="https://blog.igeekfan.cn/2022/06/09/dotnetcore/ASP.NET-Core-Deploy-To-Docker-Ubuntu/" target="_blank" rel="noopener noreferrer">部署至Docker</a></li></ul><h2 id="常见问题" tabindex="-1"><a class="header-anchor" href="#常见问题"><span>常见问题</span></a></h2><h3 id="数据库连接失败" tabindex="-1"><a class="header-anchor" href="#数据库连接失败"><span>数据库连接失败</span></a></h3><ul><li>检查数据库服务是否启动</li><li>验证连接字符串中的用户名和密码是否正确</li><li>确认数据库名称是否存在，如不存在将自动创建</li></ul><h3 id="项目无法启动" tabindex="-1"><a class="header-anchor" href="#项目无法启动"><span>项目无法启动</span></a></h3><ul><li><a href="http://xn--ruq77z4zb85oejfu1l3nh24dea2492b.NET" target="_blank" rel="noopener noreferrer">确保已安装正确版本的.NET</a> SDK</li><li>使用<code>dotnet --info</code>查看当前安装的SDK版本</li><li>查看启动日志，定位具体错误</li></ul>`,26))])}const m=t(p,[["render",k],["__file","dotnetcore-start.html.vue"]]),y=JSON.parse('{"path":"/dotnetcore/lin-cms/dotnetcore-start.html","title":"后端准备","lang":"zh-CN","frontmatter":{"description":"后端准备 开发环境要求 开发LinCMS后端需要准备以下环境： .NET SDK 9.0 或更高版本 开发IDE（二选一）： Visual Studio 2022 JetBrains Rider 数据库：MySQL 5.7+ 或其他支持的数据库（SqlServer/PostgreSQL/Oracle/SQLite） Redis：Redis for Wi...","head":[["meta",{"property":"og:url","content":"https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/dotnetcore-start.html"}],["meta",{"property":"og:site_name","content":".NET 开发者指北"}],["meta",{"property":"og:title","content":"后端准备"}],["meta",{"property":"og:description","content":"后端准备 开发环境要求 开发LinCMS后端需要准备以下环境： .NET SDK 9.0 或更高版本 开发IDE（二选一）： Visual Studio 2022 JetBrains Rider 数据库：MySQL 5.7+ 或其他支持的数据库（SqlServer/PostgreSQL/Oracle/SQLite） Redis：Redis for Wi..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-04-28T14:32:13.000Z"}],["meta",{"property":"article:modified_time","content":"2025-04-28T14:32:13.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"后端准备\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-04-28T14:32:13.000Z\\",\\"author\\":[]}"],["link",{"rel":"alternate","type":"application/atom+xml","href":"https://igeekfan.cn/igeekfan-docs/atom.xml","title":".NET 开发者指北 Atom Feed"}],["link",{"rel":"alternate","type":"application/json","href":"https://igeekfan.cn/igeekfan-docs/feed.json","title":".NET 开发者指北 JSON Feed"}],["link",{"rel":"alternate","type":"application/rss+xml","href":"https://igeekfan.cn/igeekfan-docs/rss.xml","title":".NET 开发者指北 RSS Feed"}]]},"headers":[{"level":2,"title":"开发环境要求","slug":"开发环境要求","link":"#开发环境要求","children":[]},{"level":2,"title":"获取源码","slug":"获取源码","link":"#获取源码","children":[]},{"level":2,"title":"数据库配置","slug":"数据库配置","link":"#数据库配置","children":[]},{"level":2,"title":"数据库迁移","slug":"数据库迁移","link":"#数据库迁移","children":[]},{"level":2,"title":"运行项目","slug":"运行项目","link":"#运行项目","children":[{"level":3,"title":"使用Visual Studio","slug":"使用visual-studio","link":"#使用visual-studio","children":[]},{"level":3,"title":"使用命令行","slug":"使用命令行","link":"#使用命令行","children":[]}]},{"level":2,"title":"部署指南","slug":"部署指南","link":"#部署指南","children":[]},{"level":2,"title":"常见问题","slug":"常见问题","link":"#常见问题","children":[{"level":3,"title":"数据库连接失败","slug":"数据库连接失败","link":"#数据库连接失败","children":[]},{"level":3,"title":"项目无法启动","slug":"项目无法启动","link":"#项目无法启动","children":[]}]}],"git":{"createdTime":1582888231000,"updatedTime":1745850733000,"contributors":[{"name":"luoyunchong","email":"luoyunchong@foxmail.com","commits":6},{"name":"igeekfan","email":"luoyunchong@foxmail.com","commits":3},{"name":"igeekfan","email":"igeekfan@foxmail.com","commits":2}]},"readingTime":{"minutes":2.06,"words":617},"filePathRelative":"dotnetcore/lin-cms/dotnetcore-start.md","localizedDate":"2020年2月28日","autoDesc":true}');export{m as comp,y as data};
