(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{622:function(s,n,e){"use strict";e.r(n);var t=e(10),a=Object(t.a)({},(function(){var s=this,n=s.$createElement,e=s._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h3",{attrs:{id:"lincms-scaffolding代码生成器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lincms-scaffolding代码生成器"}},[s._v("#")]),s._v(" LinCms.Scaffolding代码生成器")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/luoyunchong/lin-cms-dotnetcore/tree/dev",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/luoyunchong/lin-cms-dotnetcore/tree/dev"),e("OutboundLink")],1)]),s._v(" "),e("p",[s._v("打开项目LinCms.Scaffolding.sln。")]),s._v(" "),e("p",[s._v("看到appsettings.json配置如下")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('{\n  "SettingOptions": {\n    "ProjectName": "LinCms",\n    "BaseDirectory": "D:/code/github/lin-cms-dotnetcore/src/LinCms.Core/"\n    "EntityFilePath": "Entities/Base/Doc.cs", \n    "Areas": "Base",\n    "TemplatePath": "./Templates",\n    "OutputDirectory": "D:/code/github/lin-cms-dotnetcore/code-scaffolding"\n  }\n}\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("p",[s._v("完成一个简单的表的CRUD，只需要，创建一个实体类，修改一下上面的配置项，即可生成代码。")]),s._v(" "),e("ul",[e("li",[s._v("BaseDirectory:BaseDirectory请配置成LinCms.Core的项目路径。后缀要加/")])]),s._v(" "),e("p",[s._v("由于项目使用"),e("strong",[s._v("Microsoft.CodeAnalysis.CSharp")]),s._v("解析出类的属性，需要知道项目的在哪个位置。")]),s._v(" "),e("p",[s._v("另外，本项目，会根据LinCms.Core.xml中的内容解析出类和属性的注释。")]),s._v(" "),e("ul",[e("li",[s._v("EntityFilePath 实体类所在文件位置")]),s._v(" "),e("li",[s._v("Areas 区域模块名,eg:(Base)")]),s._v(" "),e("li",[s._v("TemplatePath 相对路径，当前项目下的Templates目录,不需要修改")]),s._v(" "),e("li",[s._v("OutputDirectory 生成的代码路径。可以是相对路径，也可以是绝对路径")])]),s._v(" "),e("p",[s._v("我们在LinCms.Core中的Entities中Base目录，新建一个类Doc.cs，并写上注释信息，以便生成列表和表单。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("using FreeSql.DataAnnotations;\nusing System;\nusing System.Collections.Generic;\nusing System.Text;\n\nnamespace LinCms.Entities.Base\n{\n    /// <summary>\n    /// 文档\n    /// </summary>\n    public class Doc : FullAduitEntity\n    {\n        /// <summary>\n        /// 文档名\n        /// </summary>\n        [Column(StringLength = 50)]\n        public string Name { get; set; }\n\n        /// <summary>\n        /// 显示名\n        /// </summary>\n        [Column(StringLength = 50)]\n        public string DisplayName { get; set; }\n\n    }\n}\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br")])]),e("p",[s._v("我们可以根据需要，修改上面的配置信息。")]),s._v(" "),e("p",[s._v("我们可以打开Lincms的项目。删除所有的Docs相关的代码。")]),s._v(" "),e("p",[s._v("然后运行此代码生成器。即可生成所有CRUD代码。然后。代码会输出到此目录 "),e("strong",[s._v('"D:/code/github/lin-cms-dotnetcore/code-scaffolding"')]),s._v(",")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://pic.downk.cc/item/5f1da73014195aa594ee9888.jpg",alt:""}})]),s._v(" "),e("p",[s._v("然后。我们将前五个代码，依次复制到项目中，因为可能覆盖现有的代码，所以不推荐将此代码的输出目录写成"),e("strong",[s._v("D:/code/github/lin-cms-dotnetcore/src")]),s._v("。")]),s._v(" "),e("p",[s._v("然后将最后一个lin-cms-vue。按模块复制到自己项目中即可。")])])}),[],!1,null,null,null);n.default=a.exports}}]);