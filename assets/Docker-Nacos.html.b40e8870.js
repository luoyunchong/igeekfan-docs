import{_ as s}from"./plugin-vue_export-helper.21dcd24c.js";import{d as n}from"./app.ec493689.js";const a={},e=n(`<h1 id="docker-\u914D\u7F6E-nacos" tabindex="-1"><a class="header-anchor" href="#docker-\u914D\u7F6E-nacos" aria-hidden="true">#</a> Docker \u914D\u7F6E Nacos</h1><h2 id="_1\u3001\u521B\u5EFA\u672C\u5730\u7684\u6620\u5C04\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u521B\u5EFA\u672C\u5730\u7684\u6620\u5C04\u6587\u4EF6" aria-hidden="true">#</a> 1\u3001\u521B\u5EFA\u672C\u5730\u7684\u6620\u5C04\u6587\u4EF6</h2><p>\u521B\u5EFA\u76EE\u5F55</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">mkdir</span> -p  /usr/local/docker/nacos/logs /usr/local/docker/nacos/conf
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u914D\u7F6E\u6570\u636E\u5E93 application.properties</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">vim</span> /usr/local/docker/nacos/conf/application.properties
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>application.properties</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>spring.datasource.platform<span class="token operator">=</span>mysql
db.num<span class="token operator">=</span><span class="token number">1</span>
db.url.0<span class="token operator">=</span>jdbc:mysql://localhost:3310/nacos_config?characterEncoding<span class="token operator">=</span>utf8<span class="token operator">&amp;</span><span class="token assign-left variable">connectTimeout</span><span class="token operator">=</span><span class="token number">1000</span><span class="token operator">&amp;</span><span class="token assign-left variable">socketTimeout</span><span class="token operator">=</span><span class="token number">3000</span><span class="token operator">&amp;</span><span class="token assign-left variable">autoReconnect</span><span class="token operator">=</span>true
db.user<span class="token operator">=</span>user
db.password<span class="token operator">=</span>password
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u4E0B\u9762\u901A\u8FC7\u914D\u7F6E\u6765\u66B4\u9732\u9664\u4E86/shutdown\u4E4B\u5916\u7684\u6240\u6709\u7AEF\u70B9\u3002\u4E0B\u9762\u901A\u8FC7\u914D\u7F6E\u6765\u66B4\u9732\u9664\u4E86/shutdown\u4E4B\u5916\u7684\u6240\u6709\u7AEF\u70B9</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>management.endpoints.web.exposure.include<span class="token operator">=</span>* 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_2\u3001\u8FD0\u884C\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#_2\u3001\u8FD0\u884C\u5BB9\u5668" aria-hidden="true">#</a> 2\u3001\u8FD0\u884C\u5BB9\u5668</h2><p>\u4F7F\u7528<code>standalone</code>(\u5355\u673A)\u6A21\u5F0F\u5E76\u5F00\u653E8848\u7AEF\u53E3\uFF0C\u5E76\u6620\u5C04\u914D\u7F6E\u6587\u4EF6\u548C\u65E5\u5FD7\u76EE\u5F55\uFF0C\u6570\u636E\u5E93\u5728application.properties\u4E2D\u914D\u7F6E</p><p>\u5176\u4E2D <code>\\</code>(\u7A7A\u683C+\u53CD\u659C\u6760)\u6765\u652F\u6301\u547D\u4EE4\u884C\u6362\u884C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run -d <span class="token punctuation">\\</span>
-p <span class="token number">8848</span>:8848 -p <span class="token number">9848</span>:9848 -p <span class="token number">9555</span>:9555 <span class="token punctuation">\\</span>
-e <span class="token assign-left variable">MODE</span><span class="token operator">=</span>standalone <span class="token punctuation">\\</span>
-e <span class="token assign-left variable">TZ</span><span class="token operator">=</span><span class="token string">&quot;Asia/Shanghai&quot;</span> <span class="token punctuation">\\</span>
-e <span class="token assign-left variable">PREFER_HOST_MODE</span><span class="token operator">=</span>hostname <span class="token punctuation">\\</span>
-v /usr/local/docker/nacos/logs:/home/nacos/logs <span class="token punctuation">\\</span>
-v /usr/local/docker/nacos/conf/application.properties:/home/nacos/conf/application.properties <span class="token punctuation">\\</span>
--restart always <span class="token punctuation">\\</span>
--name nacos <span class="token punctuation">\\</span>
nacos/nacos-server
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>\u5176\u4E2D-v \u6307\u5B9A\u6620\u5C04\u914D\u7F6E\u3002\u5DE6\u4FA7\u4E3Alinux\u6587\u4EF6\uFF0C\u53F3\u4FA7\u4E3Adocker\u76EE\u5F55</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> network create mysql-net
<span class="token comment"># \u521B\u5EFA\u6865\u63A5\u7F51\u7EDC mysql-net</span>
<span class="token function">docker</span> network connect mysql-net mysql
<span class="token comment"># \u5BB9\u5668 mysql \u8FDE\u5165 mysql-net</span>
<span class="token function">docker</span> network connect mysql-net nacos
<span class="token comment"># \u540C\u4E0A\uFF0Cnacos</span>
<span class="token function">docker</span> network inspect mysql-net
<span class="token comment"># \u914D\u7F6E\u5B8C\u540E\u5BB9\u5668\u8FD0\u884C\u8D77\u6765\u4F7F\u7528\u8BE5\u547D\u4EE4\u67E5\u770B\u8BE5\u6865\u63A5\u7F51\u7EDC\u4E0B\u5BB9\u5668\u4FE1\u606F</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div>`,16);function p(o,r){return e}var t=s(a,[["render",p],["__file","Docker-Nacos.html.vue"]]);export{t as default};
