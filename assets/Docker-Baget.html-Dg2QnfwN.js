import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as e,b as a,o as t}from"./app-CAdyq2UH.js";const n={};function l(h,i){return t(),e("div",null,i[0]||(i[0]=[a(`<h1 id="docker-配置-baget" tabindex="-1"><a class="header-anchor" href="#docker-配置-baget"><span>Docker 配置 Baget</span></a></h1><p>创建一个名为baget.env存储BaGet的配置：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /var</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> baget</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /var/baget</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> baget.env</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>baget.env</li></ul><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span># 以下配置是用于发布包的API密钥,您应该将其更改ApiKey的值以保护服务器。</span></span>
<span class="line"><span>ApiKey=Your-API-Key</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Storage__Type=FileSystem</span></span>
<span class="line"><span>Storage__Path=/var/baget/packages</span></span>
<span class="line"><span>Database__Type=Sqlite</span></span>
<span class="line"><span>Database__ConnectionString=Data Source=/var/baget/baget.db</span></span>
<span class="line"><span>Search__Type=Database</span></span>
<span class="line"><span>Mirror__Enabled=true</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>有关配置的完整列表，请参阅<a href="https://loic-sharma.github.io/BaGet/configuration/" target="_blank" rel="noopener noreferrer">Configuration - BaGet (loic-sharma.github.io)</a>的配置指北。</p><h2 id="docker" tabindex="-1"><a class="header-anchor" href="#docker"><span>Docker</span></a></h2><p>在baget.env同目录创建一个<code>baget-data</code> 的目录</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> baget-data</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>拉取baget最新的镜像</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> loicsharma/baget</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>运行BaGet</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /var/baget</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nuget-server</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --restart=always</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 5555:80</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --env-file</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> baget.env</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -v</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;$(</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">pwd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">)/baget-data:/var/baget&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> loicsharma/baget:latest</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="发布包" tabindex="-1"><a class="header-anchor" href="#发布包"><span>发布包</span></a></h2><p>发布第一个nuget包</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nuget</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> push</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> http://localhost:5555/v3/index.json</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -k</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Your-API-Key</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">package.1.0.0.nupkg</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>发布第一个symbol package</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nuget</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> push</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> http://localhost:5555/v3/index.json</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -k</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Your-API-Key</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> package.1.0.0.snupkg</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>示例</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nuget</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> push</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> http://124.70.130.97:5555/v3/index.json</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> src/IGeekFan.Localization.FreeSql/bin/Debug/IGeekFan.Localization.FreeSql.0.0.3.nupkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -k</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Your-API-Key</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nuget</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> push</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> http://124.70.130.97:5555/v3/index.json</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> src/IGeekFan.Localization.FreeSql/bin/Debug/IGeekFan.Localization.FreeSql.0.0.3.snupkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -k</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Your-API-Key</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="还原包" tabindex="-1"><a class="header-anchor" href="#还原包"><span>还原包</span></a></h2><p>你可以通过以下源还原包</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>http://localhost:5555/v3/index.json</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>可以通过打开URL来浏览包<a href="http://localhost:5555/" target="_blank" rel="noopener noreferrer">http://localhost:5555/</a>在浏览器中。</p><h2 id="symbol-server" tabindex="-1"><a class="header-anchor" href="#symbol-server"><span>Symbol server</span></a></h2><p>可以使用以下符号位置加载符号：</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>http://localhost:5555/api/download/symbols</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="https-loic-sharma-github-io-baget-installation-docker" tabindex="-1"><a class="header-anchor" href="#https-loic-sharma-github-io-baget-installation-docker"><span><a href="https://loic-sharma.github.io/BaGet/installation/docker/" target="_blank" rel="noopener noreferrer">https://loic-sharma.github.io/BaGet/installation/docker/</a></span></a></h3>`,28)]))}const k=s(n,[["render",l],["__file","Docker-Baget.html.vue"]]),p=JSON.parse('{"path":"/dotnetcore/docker/Docker-Baget.html","title":"Docker 配置 Baget","lang":"zh-CN","frontmatter":{"description":"Docker 配置 Baget 创建一个名为baget.env存储BaGet的配置： baget.env 有关配置的完整列表，请参阅Configuration - BaGet (loic-sharma.github.io)的配置指北。 Docker 在baget.env同目录创建一个baget-data 的目录 拉取baget最新的镜像 运行BaGet...","head":[["meta",{"property":"og:url","content":"https://igeekfan.cn/igeekfan-docs/dotnetcore/docker/Docker-Baget.html"}],["meta",{"property":"og:site_name","content":".NET 开发者指北"}],["meta",{"property":"og:title","content":"Docker 配置 Baget"}],["meta",{"property":"og:description","content":"Docker 配置 Baget 创建一个名为baget.env存储BaGet的配置： baget.env 有关配置的完整列表，请参阅Configuration - BaGet (loic-sharma.github.io)的配置指北。 Docker 在baget.env同目录创建一个baget-data 的目录 拉取baget最新的镜像 运行BaGet..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2022-08-15T16:21:26.000Z"}],["meta",{"property":"article:modified_time","content":"2022-08-15T16:21:26.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Docker 配置 Baget\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2022-08-15T16:21:26.000Z\\",\\"author\\":[]}"],["link",{"rel":"alternate","type":"application/atom+xml","href":"https://igeekfan.cn/igeekfan-docs/atom.xml","title":".NET 开发者指北 Atom Feed"}],["link",{"rel":"alternate","type":"application/json","href":"https://igeekfan.cn/igeekfan-docs/feed.json","title":".NET 开发者指北 JSON Feed"}],["link",{"rel":"alternate","type":"application/rss+xml","href":"https://igeekfan.cn/igeekfan-docs/rss.xml","title":".NET 开发者指北 RSS Feed"}]]},"headers":[{"level":2,"title":"Docker","slug":"docker","link":"#docker","children":[]},{"level":2,"title":"发布包","slug":"发布包","link":"#发布包","children":[]},{"level":2,"title":"还原包","slug":"还原包","link":"#还原包","children":[]},{"level":2,"title":"Symbol server","slug":"symbol-server","link":"#symbol-server","children":[{"level":3,"title":"https://loic-sharma.github.io/BaGet/installation/docker/","slug":"https-loic-sharma-github-io-baget-installation-docker","link":"#https-loic-sharma-github-io-baget-installation-docker","children":[]}]}],"git":{"createdTime":1656530243000,"updatedTime":1660580486000,"contributors":[{"name":"igeekfan","email":"luoyunchong@foxmail.com","commits":4}]},"readingTime":{"minutes":0.97,"words":291},"filePathRelative":"dotnetcore/docker/Docker-Baget.md","localizedDate":"2022年6月29日","autoDesc":true}');export{k as comp,p as data};
