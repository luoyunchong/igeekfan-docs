import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as n,b as a,o as e}from"./app-OEpYmDMf.js";const l={};function t(h,i){return e(),n("div",null,i[0]||(i[0]=[a(`<h1 id="docker配置-nginx" tabindex="-1"><a class="header-anchor" href="#docker配置-nginx"><span>Docker配置 Nginx</span></a></h1><h2 id="拉取nginx镜像" tabindex="-1"><a class="header-anchor" href="#拉取nginx镜像"><span>拉取nginx镜像</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="启动nginx" tabindex="-1"><a class="header-anchor" href="#启动nginx"><span>启动nginx</span></a></h2><p>直接启动一个nginx容器，端口映射到本地80端口，然后将容器的配置文件拷贝到本地，然后停止并移除容器，最后启动容器并挂载本地目录</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 80:80</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ps</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>因为nginx需要经常需要变更配置并需要发布静态文件，需要最好通过文件映射出来</p><h2 id="本地创建管理目录" tabindex="-1"><a class="header-anchor" href="#本地创建管理目录"><span>本地创建管理目录</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/nginx</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/nginx/www</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /var/www/html</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/nginx/conf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/nginx/logs</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="copy到刚创建的管理目录" tabindex="-1"><a class="header-anchor" href="#copy到刚创建的管理目录"><span>copy到刚创建的管理目录</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx:/etc/nginx/nginx.conf</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/nginx/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx:/etc/nginx/conf.d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/nginx/conf/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx:/usr/share/nginx/html/</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/nginx/www/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx:/var/log/nginx/</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/nginx/logs/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="停止并移除容器" tabindex="-1"><a class="header-anchor" href="#停止并移除容器"><span>停止并移除容器</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> stop</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> rm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="启动容器并目录挂载" tabindex="-1"><a class="header-anchor" href="#启动容器并目录挂载"><span>启动容器并目录挂载</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 80:80</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">-v </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/etc/nginx/nginx.conf:/etc/nginx/nginx.conf</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">-v </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/etc/nginx/www/:/usr/share/nginx/html/</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">-v </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/var/www/html/:/var/www/html/</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">-v </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/etc/nginx/logs/:/var/log/nginx/</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">-v </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/etc/nginx/conf/:/etc/nginx/conf.d</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">--privileged=true </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">-d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>--name</code> 容器名称</li><li><code>-p</code> 端口映射</li><li><code>-v</code> 目录映射</li><li><code>--privileged=true</code> 以root权限运行</li><li><code>-d</code> 后台运行</li></ul>`,16)]))}const d=s(l,[["render",t],["__file","Docker-Nginx.html.vue"]]),p=JSON.parse('{"path":"/dotnetcore/docker/Docker-Nginx.html","title":"Docker配置 Nginx","lang":"zh-CN","frontmatter":{"description":"Docker配置 Nginx 拉取nginx镜像 启动nginx 直接启动一个nginx容器，端口映射到本地80端口，然后将容器的配置文件拷贝到本地，然后停止并移除容器，最后启动容器并挂载本地目录 因为nginx需要经常需要变更配置并需要发布静态文件，需要最好通过文件映射出来 本地创建管理目录 copy到刚创建的管理目录 停止并移除容器 启动容器并目录...","head":[["meta",{"property":"og:url","content":"https://igeekfan.cn/igeekfan-docs/dotnetcore/docker/Docker-Nginx.html"}],["meta",{"property":"og:site_name","content":".NET 开发者指北"}],["meta",{"property":"og:title","content":"Docker配置 Nginx"}],["meta",{"property":"og:description","content":"Docker配置 Nginx 拉取nginx镜像 启动nginx 直接启动一个nginx容器，端口映射到本地80端口，然后将容器的配置文件拷贝到本地，然后停止并移除容器，最后启动容器并挂载本地目录 因为nginx需要经常需要变更配置并需要发布静态文件，需要最好通过文件映射出来 本地创建管理目录 copy到刚创建的管理目录 停止并移除容器 启动容器并目录..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-03-13T06:20:58.000Z"}],["meta",{"property":"article:modified_time","content":"2023-03-13T06:20:58.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Docker配置 Nginx\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-03-13T06:20:58.000Z\\",\\"author\\":[]}"],["link",{"rel":"alternate","type":"application/atom+xml","href":"https://igeekfan.cn/igeekfan-docs/atom.xml","title":".NET 开发者指北 Atom Feed"}],["link",{"rel":"alternate","type":"application/json","href":"https://igeekfan.cn/igeekfan-docs/feed.json","title":".NET 开发者指北 JSON Feed"}],["link",{"rel":"alternate","type":"application/rss+xml","href":"https://igeekfan.cn/igeekfan-docs/rss.xml","title":".NET 开发者指北 RSS Feed"}]]},"headers":[{"level":2,"title":"拉取nginx镜像","slug":"拉取nginx镜像","link":"#拉取nginx镜像","children":[]},{"level":2,"title":"启动nginx","slug":"启动nginx","link":"#启动nginx","children":[]},{"level":2,"title":"本地创建管理目录","slug":"本地创建管理目录","link":"#本地创建管理目录","children":[]},{"level":2,"title":"copy到刚创建的管理目录","slug":"copy到刚创建的管理目录","link":"#copy到刚创建的管理目录","children":[]},{"level":2,"title":"停止并移除容器","slug":"停止并移除容器","link":"#停止并移除容器","children":[]},{"level":2,"title":"启动容器并目录挂载","slug":"启动容器并目录挂载","link":"#启动容器并目录挂载","children":[]}],"git":{"createdTime":1678629000000,"updatedTime":1678688458000,"contributors":[{"name":"igeekfan","email":"igeekfan@foxmail.com","commits":1},{"name":"igeekfan","email":"luoyunchong@foxmail.com","commits":1}]},"readingTime":{"minutes":0.84,"words":251},"filePathRelative":"dotnetcore/docker/Docker-Nginx.md","localizedDate":"2023年3月12日","autoDesc":true}');export{d as comp,p as data};
