import{_ as o}from"./plugin-vue_export-helper.21dcd24c.js";import{c as p,a as n,b as t,e as s,d as e,r as c,o as l}from"./app.a4b121e2.js";const i={},u=n("h1",{id:"nacos-\u914D\u7F6E\u4E2D\u5FC3",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#nacos-\u914D\u7F6E\u4E2D\u5FC3","aria-hidden":"true"},"#"),s(" Nacos \u914D\u7F6E\u4E2D\u5FC3")],-1),r=n("p",null,[n("code",null,"nacos"),s(" \u662F\u4E00\u4E2A\u6784\u5EFA\u4E91\u539F\u751F\u5E94\u7528\u7684\u52A8\u6001\u670D\u52A1\u53D1\u73B0\u3001\u914D\u7F6E\u7BA1\u7406\u548C\u670D\u52A1\u7BA1\u7406\u5E73\u53F0\u3002\u3002")],-1),d=n("h2",{id:"\u914D\u7F6E\u7BA1\u7406",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u914D\u7F6E\u7BA1\u7406","aria-hidden":"true"},"#"),s(" \u914D\u7F6E\u7BA1\u7406")],-1),k={href:"http://asp.net",target:"_blank",rel:"noopener noreferrer"},v=s("asp.net"),m=s(" core \u4E2D\u6240\u6709\u7684\u914D\u7F6E\u9879\uFF0C\u5982 appsetting.json \u8FDB\u884C\u96C6\u4E2D\u7BA1\u7406,\u652F\u6301\u70ED\u52A0\u8F7D\uFF0C\u652F\u6301\u670D\u52A1\u53D1\u73B0\u3002"),g=s("nacos github "),b={href:"https://github.com/alibaba/nacos",target:"_blank",rel:"noopener noreferrer"},h=s("https://github.com/alibaba/nacos"),q=s("csharp sdk github "),f={href:"https://github.com/nacos-group/nacos-sdk-csharp",target:"_blank",rel:"noopener noreferrer"},y=s("https://github.com/nacos-group/nacos-sdk-csharp"),_=s("csharp sdk \u6587\u6863\uFF1A"),w={href:"https://nacos-sdk-csharp.readthedocs.io/en/latest/introduction/gettingstarted.html",target:"_blank",rel:"noopener noreferrer"},x=s("https://nacos-sdk-csharp.readthedocs.io/en/latest/introduction/gettingstarted.html"),C={href:"https://nacos.io/zh-cn/",target:"_blank",rel:"noopener noreferrer"},I=s("https://nacos.io/zh-cn/"),N=s("\u5B89\u88C5\u8BF7\u53C2\u8003\uFF1A"),A={href:"https://nacos.io/zh-cn/docs/quick-start.html",target:"_blank",rel:"noopener noreferrer"},S=s("https://nacos.io/zh-cn/docs/quick-start.html"),U=e(`<h3 id="\u5F00\u59CB" tabindex="-1"><a class="header-anchor" href="#\u5F00\u59CB" aria-hidden="true">#</a> \u5F00\u59CB</h3><ul><li>windows \u8FDB\u5165 nacos \u7684 bin \u76EE\u5F55\uFF0C\u6216\u628A\u76EE\u5F55 <code>D:\\work\\tools\\nacos\\bin</code>\uFF08\u6211\u672C\u5730\uFF09\u914D\u7F6E\u5230\u73AF\u5883\u53D8\u91CF\u4E2D\u7684 Path \u4E2D\u3002</li></ul><p>\u5373\u53EF\u5728\u4EFB\u610F\u4F4D\u7F6E\uFF0C\u6267\u884C\u547D\u4EE4</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>startup.cmd -m standalone
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>standalone \u4EE3\u8868\u7740\u5355\u673A\u6A21\u5F0F\u8FD0\u884C\uFF0C\u975E\u96C6\u7FA4\u6A21\u5F0F</li></ul><div class="language-cmd ext-cmd line-numbers-mode"><pre class="language-cmd"><code>C:\\WINDOWS\\system32&gt;startup.cmd -m standalone
&quot;nacos is starting with standalone&quot;

         ,--.
       ,--.&#39;|
   ,--,:  : |                                           Nacos 2.0.3
,\`--.&#39;\`|  &#39; :                       ,---.               Running in stand alone mode, All function modules
|   :  :  | |                      &#39;   ,&#39;\\   .--.--.    Port: 8848
:   |   \\ | :  ,--.--.     ,---.  /   /   | /  /    &#39;   Pid: 14504
|   : &#39;  &#39;; | /       \\   /     \\.   ; ,. :|  :  /\`./   Console: http://192.168.0.10:8848/nacos/index.html
&#39;   &#39; ;.    ;.--.  .-. | /    / &#39;&#39;   | |: :|  :  ;_
|   | | \\   | \\__\\/: . ..    &#39; / &#39;   | .; : \\  \\    \`.      https://nacos.io
&#39;   : |  ; .&#39; ,&quot; .--.; |&#39;   ; :__|   :    |  \`----.   \\
|   | &#39;\`--&#39;  /  /  ,.  |&#39;   | &#39;.&#39;|\\   \\  /  /  /\`--&#39;  /
&#39;   : |     ;  :   .&#39;   \\   :    : \`----&#39;  &#39;--&#39;.     /
;   |.&#39;     |  ,     .-./\\   \\  /            \`--&#39;---&#39;
&#39;---&#39;        \`--\`---&#39;     \`----&#39;

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u9ED8\u8BA4\u8FD0\u884C\u5728 8848 \u7AEF\u53E3</p>`,7),O={href:"http://localhost:8848/nacos/#/login",target:"_blank",rel:"noopener noreferrer"},P=s("http://localhost:8848/nacos/#/login"),G=n("li",null,"nacos",-1),L=n("li",null,"nacos",-1),T=e(`<h2 id="\u5FC5\u505A" tabindex="-1"><a class="header-anchor" href="#\u5FC5\u505A" aria-hidden="true">#</a> \u5FC5\u505A</h2><p>\u767B\u5F55\u540E\uFF0C\u6253\u5F00<strong>\u547D\u540D\u7A7A\u95F4</strong>-&gt;\u65B0\u5EFA\u547D\u540D\u7A7A\u95F4-&gt;</p><ul><li><code> \u547D\u540D\u7A7A\u95F4ID</code>:\u8FD9\u91CC\u586B\uFF0C<code>cs-test</code>\uFF0C\u6CE8\u610F\u4E0B\u65B9\u7684\u914D\u7F6E\u9879 Namespace \u8BF7\u586B\u5199\u6B64\u503C\u3002</li><li><code>\u547D\u540D\u7A7A\u95F4\u540D\uFF1A</code>\u8FD9\u4E2A\u53EA\u662F\u7528\u4E8E\u5C55\u793A\u533A\u5206\uFF0C\u586B<code>cs-test</code>\uFF0C\u5EFA\u8BAE\u76F4\u63A5\u548C\u547D\u540D\u7A7A\u95F4 id \u76F8\u540C\u5373\u53EF\u3002</li><li><code>\u63CF\u8FF0\uFF1A</code>:\u8FD9\u4E2A\u968F\u4FBF\u586B</li></ul><h2 id="nacos-console" tabindex="-1"><a class="header-anchor" href="#nacos-console" aria-hidden="true">#</a> Nacos+Console</h2><p>\u65B0\u5EFA\u4E00\u4E2A\u63A7\u5236\u53F0\u9879\u76EE</p><p>\u5F15\u5165\u5305</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageReference</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Microsoft.Extensions.Hosting<span class="token punctuation">&quot;</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>6.0.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageReference</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nacos-sdk-csharp<span class="token punctuation">&quot;</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.2.2<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">static</span> <span class="token return-type class-name">IHost</span> <span class="token function">AppStartup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">var</span></span> host <span class="token operator">=</span> Host<span class="token punctuation">.</span><span class="token function">CreateDefaultBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">ConfigureServices</span><span class="token punctuation">(</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> services<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
                <span class="token punctuation">{</span>
                    <span class="token function">ConfigureServices</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> services<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    services<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddTransient</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>App<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">ConfigureAppConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">(</span>host<span class="token punctuation">,</span> config<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
                <span class="token punctuation">{</span>

                <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Build the Host</span>

    <span class="token keyword">return</span> host<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u914D\u7F6E<code>nacos</code>\u7684\u670D\u52A1</p><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">ConfigureServices</span><span class="token punctuation">(</span><span class="token class-name">HostBuilderContext</span> context<span class="token punctuation">,</span><span class="token class-name">IServiceCollection</span> services<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    services<span class="token punctuation">.</span><span class="token function">AddNacosV2Config</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span>
    <span class="token punctuation">{</span>
        x<span class="token punctuation">.</span>ServerAddresses <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic<span class="token punctuation">.</span>List<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span> <span class="token string">&quot;http://localhost:8848/&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        x<span class="token punctuation">.</span>EndPoint <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
        x<span class="token punctuation">.</span>Namespace <span class="token operator">=</span> <span class="token string">&quot;cs-test&quot;</span><span class="token punctuation">;</span>

        <span class="token comment">/*x.UserName = &quot;nacos&quot;;
       x.Password = &quot;nacos&quot;;*/</span>

        <span class="token comment">// swich to use http or rpc</span>
        x<span class="token punctuation">.</span>ConfigUseRpc <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    services<span class="token punctuation">.</span><span class="token function">AddNacosV2Naming</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span>
    <span class="token punctuation">{</span>
        x<span class="token punctuation">.</span>ServerAddresses <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic<span class="token punctuation">.</span>List<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span> <span class="token string">&quot;http://localhost:8848/&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        x<span class="token punctuation">.</span>EndPoint <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
        x<span class="token punctuation">.</span>Namespace <span class="token operator">=</span> <span class="token string">&quot;cs-test&quot;</span><span class="token punctuation">;</span>

        <span class="token comment">/*x.UserName = &quot;nacos&quot;;
       x.Password = &quot;nacos&quot;;*/</span>

        <span class="token comment">// swich to use http or rpc</span>
        x<span class="token punctuation">.</span>NamingUseRpc <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8C03\u7528</p><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code><span class="token class-name"><span class="token keyword">var</span></span> host <span class="token operator">=</span> <span class="token function">AppStartup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> service <span class="token operator">=</span> ActivatorUtilities<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">CreateInstance</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>App<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>host<span class="token punctuation">.</span>Services<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> service<span class="token punctuation">.</span><span class="token function">RunAsync</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>App.cs \u6587\u4EF6\u914D\u7F6E</p><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">App</span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">ILogger<span class="token punctuation">&lt;</span>App<span class="token punctuation">&gt;</span></span> _logger<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">INacosConfigService</span> _ns<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token class-name">ILogger<span class="token punctuation">&lt;</span>App<span class="token punctuation">&gt;</span></span> logger<span class="token punctuation">,</span> <span class="token class-name">INacosConfigService</span> ns<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        _logger <span class="token operator">=</span> logger<span class="token punctuation">;</span>
        _ns <span class="token operator">=</span> ns<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">RunAsync</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">await</span> <span class="token function">PublishConfig</span><span class="token punctuation">(</span>_ns<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">await</span> <span class="token function">GetConfig</span><span class="token punctuation">(</span>_ns<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">await</span> <span class="token function">RemoveConfig</span><span class="token punctuation">(</span>_ns<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">PublishConfig</span><span class="token punctuation">(</span><span class="token class-name">INacosConfigService</span> svc<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">var</span></span> dataId <span class="token operator">=</span> <span class="token string">&quot;demo-dateid&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword">var</span></span> <span class="token keyword">group</span> <span class="token operator">=</span> <span class="token string">&quot;demo-group&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword">var</span></span> val <span class="token operator">=</span> <span class="token string">&quot;test-value-&quot;</span> <span class="token operator">+</span> DateTimeOffset<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">ToUnixTimeSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">await</span> Task<span class="token punctuation">.</span><span class="token function">Delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword">var</span></span> flag <span class="token operator">=</span> <span class="token keyword">await</span> svc<span class="token punctuation">.</span><span class="token function">PublishConfig</span><span class="token punctuation">(</span>dataId<span class="token punctuation">,</span> <span class="token keyword">group</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;======================\u53D1\u5E03\u914D\u7F6E\u7ED3\u679C\uFF0C</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">flag</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">GetConfig</span><span class="token punctuation">(</span><span class="token class-name">INacosConfigService</span> svc<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">var</span></span> dataId <span class="token operator">=</span> <span class="token string">&quot;demo-dateid&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword">var</span></span> <span class="token keyword">group</span> <span class="token operator">=</span> <span class="token string">&quot;demo-group&quot;</span><span class="token punctuation">;</span>

        <span class="token keyword">await</span> Task<span class="token punctuation">.</span><span class="token function">Delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword">var</span></span> config <span class="token operator">=</span> <span class="token keyword">await</span> svc<span class="token punctuation">.</span><span class="token function">GetConfig</span><span class="token punctuation">(</span>dataId<span class="token punctuation">,</span> <span class="token keyword">group</span><span class="token punctuation">,</span> <span class="token number">5000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;======================\u83B7\u53D6\u914D\u7F6E\u7ED3\u679C\uFF0C</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">config</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">RemoveConfig</span><span class="token punctuation">(</span><span class="token class-name">INacosConfigService</span> svc<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">var</span></span> dataId <span class="token operator">=</span> <span class="token string">&quot;demo-dateid&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword">var</span></span> <span class="token keyword">group</span> <span class="token operator">=</span> <span class="token string">&quot;demo-group&quot;</span><span class="token punctuation">;</span>

        <span class="token keyword">await</span> Task<span class="token punctuation">.</span><span class="token function">Delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword">var</span></span> flag <span class="token operator">=</span> <span class="token keyword">await</span> svc<span class="token punctuation">.</span><span class="token function">RemoveConfig</span><span class="token punctuation">(</span>dataId<span class="token punctuation">,</span> <span class="token keyword">group</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;=====================\u5220\u9664\u914D\u7F6E\u7ED3\u679C\uFF0C</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">flag</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>f5 \u8FD0\u884C\u540E\u53EF\u770B\u5230\u8F93\u51FA\u5982\u4E0B\u5185\u5BB9</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>======================\u53D1\u5E03\u914D\u7F6E\u7ED3\u679C\uFF0CTrue
======================\u83B7\u53D6\u914D\u7F6E\u7ED3\u679C\uFF0Ctest-value-1637000754
=====================\u5220\u9664\u914D\u7F6E\u7ED3\u679C\uFF0CTrue
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6211\u4EEC\u628A<code>await RemoveConfig(_ns);</code>\u8FD9\u884C\u5220\u9664\uFF0C\u5373\u53EF\u5728 nacos \u7684\u7F51\u7AD9\u4E0A\u770B\u5230\u4FE1\u606F\u3002</p><p>\u914D\u7F6E\u7BA1\u7406 -\u9009<code>cs-test</code>,\u53EF\u4EE5\u770B\u5230<code>Data Id\u4E3Ademo-dateid</code>\uFF0C<code>Group</code>\u4E3A<code>demo-group</code>\u7684\u4E00\u884C\u6570\u636E\uFF0C\u70B9\u51FB\u884C\u5185\u7684\u7F16\u8F91\u5373\u53EF\u770B\u5230\u5177\u4F53\u4FE1\u606F\u3002</p>`,18),j={id:"nacso-asp-net-core",tabindex:"-1"},D=n("a",{class:"header-anchor",href:"#nacso-asp-net-core","aria-hidden":"true"},"#",-1),E=s(),R={href:"http://Nacso+Asp.NET",target:"_blank",rel:"noopener noreferrer"},B=s("Nacso+Asp.NET"),V=s(" Core"),F=e(`<p>\u65B0\u589E\u5305</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageReference</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nacos-sdk-csharp.AspNetCore<span class="token punctuation">&quot;</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.2.2<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageReference</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nacos-sdk-csharp.Extensions.Configuration<span class="token punctuation">&quot;</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.2.2<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728 Program \u4E2D\u914D\u7F6E\u670D\u52A1</p><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code>builder<span class="token punctuation">.</span>Host<span class="token punctuation">.</span><span class="token function">ConfigureAppConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> builder<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
        <span class="token punctuation">{</span>
            <span class="token class-name"><span class="token keyword">var</span></span> c <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// \u4ECE\u914D\u7F6E\u6587\u4EF6\u8BFB\u53D6Nacos\u76F8\u5173\u914D\u7F6E</span>
            <span class="token comment">// \u9ED8\u8BA4\u4F1A\u4F7F\u7528JSON\u89E3\u6790\u5668\u6765\u89E3\u6790\u5B58\u5728Nacos Server\u7684\u914D\u7F6E</span>
            builder<span class="token punctuation">.</span><span class="token function">AddNacosV2Configuration</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">GetSection</span><span class="token punctuation">(</span><span class="token string">&quot;NacosConfig&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// \u4E5F\u53EF\u4EE5\u6309\u9700\u4F7F\u7528ini\u6216yaml\u7684\u89E3\u6790\u5668</span>
            <span class="token comment">// builder.AddNacosV2Configuration(c.GetSection(&quot;NacosConfig&quot;), Nacos.IniParser.IniConfigurationStringParser.Instance);</span>
            <span class="token comment">// builder.AddNacosV2Configuration(c.GetSection(&quot;NacosConfig&quot;), Nacos.YamlParser.YamlConfigurationStringParser.Instance);</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>appsetting.json</code>\u914D\u7F6E</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;NacosConfig&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;Listeners&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;Optional&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token property">&quot;DataId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;common&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Group&quot;</span><span class="token operator">:</span> <span class="token string">&quot;DEFAULT_GROUP&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;Optional&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token property">&quot;DataId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;demo&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Group&quot;</span><span class="token operator">:</span> <span class="token string">&quot;DEFAULT_GROUP&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Namespace&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cs-test&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ServerAddresses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;http://localhost:8848/&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;UserName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nacos&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Password&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nacos&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;AccessKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;SecretKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;EndPoint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ConfigFilterAssemblies&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ConfigFilterExtInfo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u4E0A\u9762\u6211\u4EEC\u53EF\u4EE5\u770B\u5230<code>DataId</code>\u4E3A<code>common</code>\u7684\u3001\u6211\u4EEC\u53BB\u7BA1\u7406\u7AEF UI\uFF0C\u547D\u540D\u7A7A\u95F4\u4E3A<code>cs-test</code>\u65B0\u589E\u4E00\u4E2A\u914D\u7F6E</p><p>\u65B0\u589E\u4E8C\u4E2A\u914D\u7F6E\u9879</p><ul><li>Data ID:common</li><li>Group:DEFAULT_GROUP</li><li>\u914D\u7F6E\u5185\u5BB9\uFF1A\u9009\u62E9 json\u3002</li></ul><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;UserInfo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;luo&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Sex&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Boy&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Age&quot;</span><span class="token operator">:</span> <span class="token number">99</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;commonkey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;commonkey_value_\u503C&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Data ID:demo</li><li>Group:DEFAULT_GROUP</li><li>\u914D\u7F6E\u5185\u5BB9\uFF1A\u9009\u62E9 json\u3002</li></ul><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;demokey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;demo_value_\u503C&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u90A3\u6211\u4EEC\u5982\u4F55\u83B7\u53D6\u7684\u8FD9\u4E48\u4E00\u4E2A json \u503C\u548C demokey \u4E2D\u7684\u503C\u5462\u3002</p><p>\u6211\u4EEC\u65B0\u589E\u4E00\u4E2A\u7C7B</p><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code>    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserInfo</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Name <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Sex <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Age <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u9ED8\u8BA4\u7684\u63A7\u5236\u5668\u6CE8\u5165 <code>IConfiguration</code>,\u50CF\u4ECE appsettings.json \u4E2D\u83B7\u53D6\u6570\u636E\u4E00\u6837\uFF0C\u53EF\u76F4\u63A5\u53D6\u51FA\u6765\u3002</p><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code>    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">ILogger<span class="token punctuation">&lt;</span>ConfigController<span class="token punctuation">&gt;</span></span> _logger<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">IConfiguration</span> _configuration<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">ConfigController</span><span class="token punctuation">(</span><span class="token class-name">ILogger<span class="token punctuation">&lt;</span>WeatherForecastController<span class="token punctuation">&gt;</span></span> logger<span class="token punctuation">,</span> <span class="token class-name">IConfiguration</span> configuration<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        _logger <span class="token operator">=</span> logger<span class="token punctuation">;</span>
        _configuration <span class="token operator">=</span> configuration<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HttpGet</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;getconfig&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">UserInfo</span> <span class="token function">GetConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">var</span></span> userInfo1 <span class="token operator">=</span> _configuration<span class="token punctuation">.</span><span class="token function">GetSection</span><span class="token punctuation">(</span><span class="token string">&quot;UserInfo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Get</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>UserInfo<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword">var</span></span> commonvalue <span class="token operator">=</span> _configuration<span class="token punctuation">[</span><span class="token string">&quot;commonkey&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword">var</span></span> demovalue <span class="token operator">=</span> _configuration<span class="token punctuation">[</span><span class="token string">&quot;demokey&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        _logger<span class="token punctuation">.</span><span class="token function">LogInformation</span><span class="token punctuation">(</span><span class="token string">&quot;commonkey:&quot;</span> <span class="token operator">+</span> commonvalue<span class="token punctuation">)</span><span class="token punctuation">;</span>
        _logger<span class="token punctuation">.</span><span class="token function">LogInformation</span><span class="token punctuation">(</span><span class="token string">&quot;demokey:&quot;</span> <span class="token operator">+</span> demovalue<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> userInfo1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4F1A\u8F93\u51FA\u5982\u4E0B\u5185\u5BB9</p><div class="language-log ext-log line-numbers-mode"><pre class="language-log"><code><span class="token property">info:</span> NacosApi<span class="token punctuation">.</span>Controllers<span class="token punctuation">.</span>WeatherForecastController<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
      commonkey<span class="token operator">:</span>commonkey_value_\u503C
<span class="token property">info:</span> NacosApi<span class="token punctuation">.</span>Controllers<span class="token punctuation">.</span>WeatherForecastController<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
      demokey<span class="token operator">:</span>demo_value_\u503C
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5E76\u5728\u754C\u9762\u4E0A\u8FD4\u56DE UserInfo \u7684\u4FE1\u606F\u3002</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;luo&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sex&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Boy&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;age&quot;</span><span class="token operator">:</span> <span class="token number">99</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u6CE8\u610F" tabindex="-1"><a class="header-anchor" href="#\u6CE8\u610F" aria-hidden="true">#</a> \u6CE8\u610F</h4><ul><li>\u5F53\u4E8C\u4E2A<code>DataId</code>\u4E2D\u914D\u7F6E\u7684 json,\u5305\u542B\u76F8\u540C\u7684 Key \u65F6\uFF0C\u5B9E\u9645\u4F1A\u4F9D\u540E\u9762\u7684 Key \u4E2D\u503C\u4E3A\u51C6\u3002\u987A\u5E8F\u4EE5 appsetting.json \u4E2D\u7684\u914D\u7F6E Listeners \u7684\u6570\u7EC4\u987A\u5E8F\u4E3A\u4F9D\u636E\u3002</li></ul><p>\u5F53\u7136\u6211\u4EEC\u901A\u8FC7\u5F3A\u7C7B\u578B\u7ED1\u5B9A<code>UserInfo</code>,\u5728<code>Program</code>\u914D\u7F6E\u670D\u52A1</p><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code>builder<span class="token punctuation">.</span>Services<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Configure</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>UserInfo<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>builder<span class="token punctuation">.</span>Configuration<span class="token punctuation">.</span><span class="token function">GetSection</span><span class="token punctuation">(</span><span class="token string">&quot;UserInfo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token function">ConfigController</span><span class="token punctuation">(</span><span class="token class-name">ILogger<span class="token punctuation">&lt;</span>ConfigController<span class="token punctuation">&gt;</span></span> logger<span class="token punctuation">,</span>
        <span class="token class-name">IConfiguration</span> configuration<span class="token punctuation">,</span>
        <span class="token class-name">IOptions<span class="token punctuation">&lt;</span>UserInfo<span class="token punctuation">&gt;</span></span> options1<span class="token punctuation">,</span>
        <span class="token class-name">IOptionsSnapshot<span class="token punctuation">&lt;</span>UserInfo<span class="token punctuation">&gt;</span></span> options2<span class="token punctuation">,</span>
        <span class="token class-name">IOptionsMonitor<span class="token punctuation">&lt;</span>UserInfo<span class="token punctuation">&gt;</span></span> options3
    <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    _logger <span class="token operator">=</span> logger<span class="token punctuation">;</span>
    _configuration <span class="token operator">=</span> configuration<span class="token punctuation">;</span>
    _user1 <span class="token operator">=</span> options1<span class="token punctuation">.</span>Value<span class="token punctuation">;</span>
    _user2 <span class="token operator">=</span> options2<span class="token punctuation">.</span>Value<span class="token punctuation">;</span>
    _user3 <span class="token operator">=</span> options3<span class="token punctuation">.</span>CurrentValue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HttpGet</span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">Get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">string</span></span> id <span class="token operator">=</span> Guid<span class="token punctuation">.</span><span class="token function">NewGuid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token string">&quot;N&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    _logger<span class="token punctuation">.</span><span class="token function">LogInformation</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;============== begin </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">id</span><span class="token punctuation">}</span></span><span class="token string"> =====================&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name"><span class="token keyword">var</span></span> str1 <span class="token operator">=</span> Newtonsoft<span class="token punctuation">.</span>Json<span class="token punctuation">.</span>JsonConvert<span class="token punctuation">.</span><span class="token function">SerializeObject</span><span class="token punctuation">(</span>_user1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    _logger<span class="token punctuation">.</span><span class="token function">LogInformation</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">id</span><span class="token punctuation">}</span></span><span class="token string"> IOptions = </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">str1</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name"><span class="token keyword">var</span></span> str2 <span class="token operator">=</span> Newtonsoft<span class="token punctuation">.</span>Json<span class="token punctuation">.</span>JsonConvert<span class="token punctuation">.</span><span class="token function">SerializeObject</span><span class="token punctuation">(</span>_user2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    _logger<span class="token punctuation">.</span><span class="token function">LogInformation</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">id</span><span class="token punctuation">}</span></span><span class="token string"> IOptionsSnapshot = </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">str2</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name"><span class="token keyword">var</span></span> str3 <span class="token operator">=</span> Newtonsoft<span class="token punctuation">.</span>Json<span class="token punctuation">.</span>JsonConvert<span class="token punctuation">.</span><span class="token function">SerializeObject</span><span class="token punctuation">(</span>_user3<span class="token punctuation">)</span><span class="token punctuation">;</span>
    _logger<span class="token punctuation">.</span><span class="token function">LogInformation</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">id</span><span class="token punctuation">}</span></span><span class="token string"> IOptionsMonitor = </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">str3</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    _logger<span class="token punctuation">.</span><span class="token function">LogInformation</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;===============================================&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5F53\u7136\u8F93\u51FA\u662F\u4E00\u6A21\u4E00\u6837\u7684\u3002\u6211\u4EEC\u5728\u754C\u9762\u4E0A\u518D\u6B21\u8C03\u6574\u4E0B\u6570\u636E</p><div class="language-log ext-log line-numbers-mode"><pre class="language-log"><code><span class="token property">info:</span> NacosApi<span class="token punctuation">.</span>Controllers<span class="token punctuation">.</span>ConfigController<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
      <span class="token hash constant">7bafb7f9cd2a46ec95324e38d01048aa</span> IOptions <span class="token operator">=</span> <span class="token operator">{</span><span class="token string">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;luo&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Sex&quot;</span><span class="token operator">:</span><span class="token string">&quot;Boy&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Age&quot;</span><span class="token operator">:</span><span class="token number">99</span><span class="token operator">}</span>
<span class="token property">info:</span> NacosApi<span class="token punctuation">.</span>Controllers<span class="token punctuation">.</span>ConfigController<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
      <span class="token hash constant">7bafb7f9cd2a46ec95324e38d01048aa</span> IOptionsSnapshot <span class="token operator">=</span> <span class="token operator">{</span><span class="token string">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;luo&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Sex&quot;</span><span class="token operator">:</span><span class="token string">&quot;Boy&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Age&quot;</span><span class="token operator">:</span><span class="token number">99</span><span class="token operator">}</span>
<span class="token property">info:</span> NacosApi<span class="token punctuation">.</span>Controllers<span class="token punctuation">.</span>ConfigController<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
      <span class="token hash constant">7bafb7f9cd2a46ec95324e38d01048aa</span> IOptionsMonitor <span class="token operator">=</span> <span class="token operator">{</span><span class="token string">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;luo&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Sex&quot;</span><span class="token operator">:</span><span class="token string">&quot;Boy&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Age&quot;</span><span class="token operator">:</span><span class="token number">99</span><span class="token operator">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53EA\u6709<code>IOptions&lt;UserInfo&gt;</code>\u4E0D\u4F1A\u53D8\u5316\uFF0C\u5176\u4ED6\u662F\u4F1A\u8DDF\u7740\u53D8\u5316\u7684\u3002</p><div class="language-log ext-log line-numbers-mode"><pre class="language-log"><code><span class="token property">info:</span> NacosApi<span class="token punctuation">.</span>Controllers<span class="token punctuation">.</span>ConfigController<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
      <span class="token hash constant">604d8db7b0ad48ccbc64c3ccd06eb524</span> IOptions <span class="token operator">=</span> <span class="token operator">{</span><span class="token string">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;luo&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Sex&quot;</span><span class="token operator">:</span><span class="token string">&quot;Boy&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Age&quot;</span><span class="token operator">:</span><span class="token number">99</span><span class="token operator">}</span>
<span class="token property">info:</span> NacosApi<span class="token punctuation">.</span>Controllers<span class="token punctuation">.</span>ConfigController<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
      <span class="token hash constant">604d8db7b0ad48ccbc64c3ccd06eb524</span> IOptionsSnapshot <span class="token operator">=</span> <span class="token operator">{</span><span class="token string">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Sex&quot;</span><span class="token operator">:</span><span class="token string">&quot;Boy&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Age&quot;</span><span class="token operator">:</span><span class="token number">99</span><span class="token operator">}</span>
<span class="token property">info:</span> NacosApi<span class="token punctuation">.</span>Controllers<span class="token punctuation">.</span>ConfigController<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
      <span class="token hash constant">604d8db7b0ad48ccbc64c3ccd06eb524</span> IOptionsMonitor <span class="token operator">=</span> <span class="token operator">{</span><span class="token string">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Sex&quot;</span><span class="token operator">:</span><span class="token string">&quot;Boy&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Age&quot;</span><span class="token operator">:</span><span class="token number">99</span><span class="token operator">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="docker-\u5B89\u88C5-nacos" tabindex="-1"><a class="header-anchor" href="#docker-\u5B89\u88C5-nacos" aria-hidden="true">#</a> Docker \u5B89\u88C5 Nacos</h2>`,31),H={href:"https://www.cnblogs.com/niunafei/p/12803965.html",target:"_blank",rel:"noopener noreferrer"},J=s("https://www.cnblogs.com/niunafei/p/12803965.html"),W=n("p",null,"1.\u62C9\u53D6\u955C\u50CF",-1),$=e(`<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker pull nacos/nacos-server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>2\u3001\u521B\u5EFA\u672C\u5730\u7684\u6620\u5C04\u6587\u4EF6\uFF0Capplication.properties\uFF0C</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mkdir -p  /root/nacos/logs /root/nacos/conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u914D\u7F6E\u6570\u636E\u5E93</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>vim /root/nacos/conf/application.properties
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>application.properties</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>spring.datasource.platform=mysql
db.num=1
db.url.0=jdbc:mysql://ip:3306/nacos_config?characterEncoding=utf8&amp;connectTimeout=1000&amp;socketTimeout=3000&amp;autoReconnect=true
db.user=userid
db.password=userpassword

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0B\u9762\u901A\u8FC7\u914D\u7F6E\u6765\u66B4\u9732\u9664\u4E86/shutdown \u4E4B\u5916\u7684\u6240\u6709\u7AEF\u70B9\u3002\u4E0B\u9762\u901A\u8FC7\u914D\u7F6E\u6765\u66B4\u9732\u9664\u4E86/shutdown \u4E4B\u5916\u7684\u6240\u6709\u7AEF\u70B9</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>management.endpoints.web.exposure.include=*
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u8FD0\u884C\u5BB9\u5668\uFF1A\u4F7F\u7528<code>standalone</code>\u6A21\u5F0F\u5E76\u5F00\u653E 8848 \u7AEF\u53E3\uFF0C\u5E76\u6620\u5C04\u914D\u7F6E\u6587\u4EF6\u548C\u65E5\u5FD7\u76EE\u5F55\uFF0C\u6570\u636E\u5E93\u5728 application.properties \u4E2D\u914D\u7F6E</p><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code>docker run -d -p 8848:8848 -p 9848:9848 -p 9555:9555 -e MODE=standalone -e PREFER_HOST_MODE=hostname -v /root/nacos/logs:/home/nacos/logs -v /root/nacos/conf/application.properties:/home/nacos/conf/application.properties --restart always --name nacos nacos/nacos-server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5176\u4E2D-v \u6307\u5B9A\u6620\u5C04\u914D\u7F6E\u3002\u5DE6\u4FA7\u4E3A linux \u6587\u4EF6\uFF0C\u53F3\u4FA7\u4E3A docker \u76EE\u5F55</p><h3 id="\u66F4\u591A\u6307\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u66F4\u591A\u6307\u4EE4" aria-hidden="true">#</a> \u66F4\u591A\u6307\u4EE4</h3><p>\u542F\u52A8\u5BB9\u5668</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker start \u5BB9\u5668id
\u6216\u8005
docker start nacos
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5173\u95ED\u5BB9\u5668</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker stop nacos
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u535A\u5BA2" tabindex="-1"><a class="header-anchor" href="#\u535A\u5BA2" aria-hidden="true">#</a> \u535A\u5BA2</h2>`,18),z={href:"https://mp.weixin.qq.com/s/iC6lFJJsHUFUveSJhoZxgA",target:"_blank",rel:"noopener noreferrer"},M=s("\u804A\u4E00\u804A\u5982\u4F55\u5728.NET Core \u4E2D\u4F7F\u7528 Nacos 2.0");function K(Y,Z){const a=c("ExternalLinkIcon");return l(),p("div",null,[u,r,d,n("p",null,[n("a",k,[v,t(a)]),m]),n("ul",null,[n("li",null,[g,n("a",b,[h,t(a)])]),n("li",null,[q,n("a",f,[y,t(a)])]),n("li",null,[_,n("a",w,[x,t(a)])]),n("li",null,[n("a",C,[I,t(a)])])]),n("p",null,[N,n("a",A,[S,t(a)])]),U,n("ul",null,[n("li",null,[n("a",O,[P,t(a)])]),G,L]),T,n("h2",j,[D,E,n("a",R,[B,t(a)]),V]),F,n("ul",null,[n("li",null,[n("p",null,[n("a",H,[J,t(a)])]),W])]),$,n("ul",null,[n("li",null,[n("a",z,[M,t(a)])])])])}var nn=o(i,[["render",K],["__file","nacos-aspnetcore.html.vue"]]);export{nn as default};
