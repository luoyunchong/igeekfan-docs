<?xml version="1.0" encoding="utf-8"?><?xml-stylesheet type="text/xsl" href="https://igeekfan.cn/igeekfan-docs/rss.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <atom:link href="https://igeekfan.cn/igeekfan-docs/rss.xml" rel="self" type="application/rss+xml"/>
    <title>.NET å¼€å‘è€…æŒ‡åŒ—</title>
    <link>https://igeekfan.cn/igeekfan-docs/</link>
    <description>é—®å›èƒ½æœ‰å‡ å¤šæ„ï¼Ÿæ°ä¼¼ä¸€æ±Ÿæ˜¥æ°´å‘ä¸œæµã€‚</description>
    <language>zh-CN</language>
    <pubDate>Fri, 11 Apr 2025 15:11:36 GMT</pubDate>
    <lastBuildDate>Fri, 11 Apr 2025 15:11:36 GMT</lastBuildDate>
    <generator>@vuepress/plugin-feed</generator>
    <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
    <copyright>&amp;lt;a href=&amp;quot;https://beian.miit.gov.cn/&amp;quot; data-v-c3cf170c=&amp;quot;&amp;quot;&amp;gt;è±«ICPå¤‡2025116077å·-2&amp;lt;/a&amp;gt;</copyright>
    <category>ASP.NET Core</category>
    <category>lin-cms-dotnetcore</category>
    <item>
      <title>Fluent Emoji MS</title>
      <link>https://igeekfan.cn/igeekfan-docs/blogs/fluent-emoji-ms.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/blogs/fluent-emoji-ms.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">Fluent Emoji MS</source>
      <description>Fluent Emoji MS å…³äº Fluent Emoji Fluent Emoji MS Emoji è¡¨æƒ…æ˜¯é£é¡å…¨çƒçš„è¡¨æƒ…åŒ…ï¼Œé€šç”¨æ€§å¾ˆå¼ºï¼ŒåŒ…å«å¤§é‡çš„äººç‰©å’Œé£Ÿç‰©ç­‰å„ç§å½¢è±¡ï¼Œä¿—ç§°é»„è±†è¡¨æƒ…ã€‚éšç€ Windows 11 æ“ä½œç³»ç»Ÿçš„æ–°ç‰ˆæœ¬å‘å¸ƒï¼Œå¾®è½¯å¯¹å†…ç½®çš„ Emoji è¡¨æƒ…è¿›è¡Œæ›´æ–°ï¼Œæ”¯æŒ 3D é£æ ¼ï¼Œçœ‹ä¸Šå»æ›´åŠ å…·æœ‰ç«‹ä½“æ´»æ³¼æ„Ÿã€‚å¾®è½¯å®£å¸ƒå¼€æºäº†è¿™å¥—è¡¨æƒ…åŒ…ï¼Œè®©æ›´...</description>
      <pubDate>Sun, 30 Mar 2025 16:42:42 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>å…³äº Fluent Emoji</h2>
<p></p>
<p>Emoji è¡¨æƒ…æ˜¯é£é¡å…¨çƒçš„è¡¨æƒ…åŒ…ï¼Œé€šç”¨æ€§å¾ˆå¼ºï¼ŒåŒ…å«å¤§é‡çš„äººç‰©å’Œé£Ÿç‰©ç­‰å„ç§å½¢è±¡ï¼Œä¿—ç§°é»„è±†è¡¨æƒ…ã€‚éšç€ Windows 11 æ“ä½œç³»ç»Ÿçš„æ–°ç‰ˆæœ¬å‘å¸ƒï¼Œå¾®è½¯å¯¹å†…ç½®çš„ Emoji è¡¨æƒ…è¿›è¡Œæ›´æ–°ï¼Œæ”¯æŒ 3D é£æ ¼ï¼Œçœ‹ä¸Šå»æ›´åŠ å…·æœ‰ç«‹ä½“æ´»æ³¼æ„Ÿã€‚å¾®è½¯å®£å¸ƒå¼€æºäº†è¿™å¥—è¡¨æƒ…åŒ…ï¼Œè®©æ›´å¤šçš„åˆ›ä½œè€…å¯ä»¥ä½¿ç”¨ <code>Fluent Emoji</code></p>
<h2>fluent-emoji-ms</h2>
<p>å®ƒæ˜¯ä¸€ä¸ªVue 3 ç»„ä»¶åº“ï¼Œé›†æˆäº†å¾®è½¯ Fluent UI è¡¨æƒ…ç¬¦å·ï¼Œæä¾›æ˜“ç”¨çš„è¡¨æƒ…é€‰æ‹©å™¨ç»„ä»¶ï¼Œæ”¯æŒå¤šç§é£æ ¼å’Œä¸°å¯Œçš„è‡ªå®šä¹‰é…ç½®ã€‚</p>
<h2>ç‰¹æ€§</h2>
<ul>
<li>ğŸ¨ ä¸‰ç§è¡¨æƒ…é£æ ¼ï¼šç°ä»£é£æ ¼ (modern)ã€æ‰å¹³é£æ ¼ (flat) å’Œé«˜å¯¹æ¯”åº¦é£æ ¼ (high-contrast)</li>
<li>ğŸ” å†…ç½®è¡¨æƒ…æœç´¢åŠŸèƒ½</li>
<li>ğŸ“‚ æŒ‰åˆ†ç±»æµè§ˆè¡¨æƒ…</li>
<li>ğŸ“± å“åº”å¼è®¾è®¡ï¼Œé€‚é…ä¸åŒå±å¹•å°ºå¯¸</li>
<li>âš™ï¸ é«˜åº¦å¯å®šåˆ¶çš„ç•Œé¢å’Œæ ·å¼</li>
<li>ğŸ§© æ”¯æŒè¡¨æƒ…åˆ†ç±»æ’åº</li>
<li>ğŸ”„ æ™ºèƒ½å›¾ç‰‡åŠ è½½é”™è¯¯å¤„ç†</li>
<li>ğŸ’¡ è½»é‡çº§è®¾è®¡ï¼Œé›¶ä¾èµ–</li>
</ul>
<h2>ç¤ºä¾‹</h2>
<ul>
<li><a href="https://igeekfan.github.io/fluent-emoji-ms/" target="_blank" rel="noopener noreferrer">https://igeekfan.github.io/fluent-emoji-ms/</a></li>
</ul>
<p><br>
<br>
</p>
<h2>å®‰è£…</h2>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># npm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> fluent-emoji-ms</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># yarn</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> fluent-emoji-ms</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># pnpm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> fluent-emoji-ms</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>å¿«é€Ÿå¼€å§‹</h2>
<h3>å¯¼å…¥å’Œæ³¨å†Œ</h3>
<div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// æ–¹å¼1ï¼šç›´æ¥å¯¼å…¥ç»„ä»¶</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">FluentEmojiPicker</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">from</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 'fluent-emoji-ms'</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 'fluent-emoji-ms/style.css'</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // åˆ«å¿˜è®°å¯¼å…¥æ ·å¼ï¼</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// æ–¹å¼2ï¼šå…¨å±€æ³¨å†Œ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">FluentEmojiPicker</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">from</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 'fluent-emoji-ms'</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 'fluent-emoji-ms/style.css'</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B"> app</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> createApp</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">App</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">use</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">FluentEmojiMS</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">mount</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">'#app'</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>åŸºæœ¬ä½¿ç”¨</h3>
<div class="language-vue line-numbers-mode" data-highlighter="shiki" data-ext="vue" data-title="vue" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">template</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">div</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">FluentEmojiPicker</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66"> @select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"handleSelectEmoji"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66"> v-if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"selectedEmoji"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"selected-emoji-info"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">img</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66">        :src</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"`https://cdn.jsdelivr.net/npm/fluentui-emoji@1.1.1/icons/${selectedEmoji.style}/${selectedEmoji.path}`"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66">        width</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"32"</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66">        :alt</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"selectedEmoji.name"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">span</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;{{ selectedEmoji.name }}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">span</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">div</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">div</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">template</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">ref</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">from</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 'vue'</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">FluentEmojiPicker</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">from</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 'fluent-emoji-ms'</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 'fluent-emoji-ms/style.css'</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B"> selectedEmoji</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">null</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> handleSelectEmoji</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">emoji</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">  selectedEmoji</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> emoji</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">'Selected emoji:'</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">emoji</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  // emoji å¯¹è±¡åŒ…å«: { name, category, path, style }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">script</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>é…ç½®é€‰é¡¹</h2>
<h3>è¡¨æƒ…é£æ ¼</h3>
<p>æ”¯æŒä¸‰ç§ä¸åŒçš„è¡¨æƒ…é£æ ¼ï¼Œå¯ä»¥é€šè¿‡ <code>initialStyle</code> å±æ€§è®¾ç½®é»˜è®¤é£æ ¼:</p>
<div class="language-vue line-numbers-mode" data-highlighter="shiki" data-ext="vue" data-title="vue" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">template</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  &lt;!-- è®¾ç½®é»˜è®¤ä¸ºæ‰å¹³é£æ ¼ --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">FluentEmojiPicker</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66"> initialStyle</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"flat"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66"> @select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"handleSelectEmoji"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">template</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯é€‰é£æ ¼:</p>
<ul>
<li><code>"modern"</code> - ç°ä»£é£æ ¼ï¼ˆé»˜è®¤ï¼‰</li>
<li><code>"flat"</code> - æ‰å¹³é£æ ¼</li>
<li><code>"high-contrast"</code> - é«˜å¯¹æ¯”åº¦é£æ ¼</li>
</ul>
<h3>è‡ªå®šä¹‰æŒ‰é’®</h3>
<div class="language-vue line-numbers-mode" data-highlighter="shiki" data-ext="vue" data-title="vue" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">template</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  &lt;!-- è‡ªå®šä¹‰æŒ‰é’®æ–‡æœ¬ --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">FluentEmojiPicker</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66"> buttonText</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"æ’å…¥è¡¨æƒ…"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> /&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  &lt;!-- ä½¿ç”¨æ’æ§½è‡ªå®šä¹‰æŒ‰é’® --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">FluentEmojiPicker</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66"> @select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"handleSelectEmoji"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">button</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"custom-button"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;ğŸ˜Š é€‰æ‹©è¡¨æƒ…&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">button</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">FluentEmojiPicker</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">template</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>å®Œæ•´é…ç½®ç¤ºä¾‹</h3>
<div class="language-vue line-numbers-mode" data-highlighter="shiki" data-ext="vue" data-title="vue" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">template</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">FluentEmojiPicker</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66">    :disabled</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"false"</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66">    initialStyle</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"modern"</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66">    defaultCategory</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"all"</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66">    buttonText</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"é€‰æ‹©è¡¨æƒ…"</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66">    :baseUrl</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"cdnUrl"</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66">    :width</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"320"</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66">    :columns</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"6"</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66">    :categories</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"['smileys', 'people-body', 'animals-nature']"</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66">    :closeOnSelect</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"true"</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66">    :showSelectedEmoji</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"true"</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66">    :autoFill</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"true"</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66">    :emojiSize</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"28"</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66">    @select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"handleSelectEmoji"</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66">    @clear</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"handleClear"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">template</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B"> cdnUrl</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 'https://cdn.jsdelivr.net/npm/fluentui-emoji@1.1.1'</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">script</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>API å‚è€ƒ</h2>
<h3>FluentEmojiPicker</h3>
<h4>Props</h4>
<p>| å±æ€§å | ç±»å‹ | é»˜è®¤å€¼ | æè¿° |<br>
|</p>
]]></content:encoded>
    </item>
    <item>
      <title></title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/docker/Docker-Elasticsearch.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/docker/Docker-Elasticsearch.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml"></source>
      <description>æ‹‰å– Elasticsearch é•œåƒ å¯åŠ¨ Elasticsearch å®¹å™¨</description>
      <pubDate>Tue, 01 Oct 2024 08:10:29 GMT</pubDate>
      <content:encoded><![CDATA[<ul>
<li>æ‹‰å– Elasticsearch é•œåƒ</li>
</ul>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> docker.elastic.co/elasticsearch/elasticsearch:7.11.2</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><ul>
<li>å¯åŠ¨ Elasticsearch å®¹å™¨</li>
</ul>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-p </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">9200:9200</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">--name </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">elasticsearch</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-p </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">9300:9300</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-d </span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-e </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"discovery.type=single-node"</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">docker.elastic.co/elasticsearch/elasticsearch:7.11.2</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>Docker å›½å†…é•œåƒæº/åŠ é€Ÿåˆ—è¡¨</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/docker/DockerHub.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/docker/DockerHub.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">Docker å›½å†…é•œåƒæº/åŠ é€Ÿåˆ—è¡¨</source>
      <description>Docker å›½å†…é•œåƒæº/åŠ é€Ÿåˆ—è¡¨ https://dockerproxy.cn https://dislabaiot.xyz https://ginger20240704.asia https://doublezonline.cloud</description>
      <pubDate>Tue, 01 Oct 2024 08:10:29 GMT</pubDate>
      <content:encoded><![CDATA[
<ul>
<li><a href="https://dockerproxy.cn" target="_blank" rel="noopener noreferrer">https://dockerproxy.cn</a></li>
<li><a href="https://dislabaiot.xyz" target="_blank" rel="noopener noreferrer">https://dislabaiot.xyz</a></li>
<li><a href="https://ginger20240704.asia" target="_blank" rel="noopener noreferrer">https://ginger20240704.asia</a></li>
<li><a href="https://doublezonline.cloud" target="_blank" rel="noopener noreferrer">https://doublezonline.cloud</a></li>
</ul>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /etc/docker</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> tee</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /etc/docker/daemon.json</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> &lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF">EOF</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379">    "registry-mirrors": [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379">        "https://hub.uuuadc.top",</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379">        "https://docker.anyhub.us.kg",</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379">        "https://dockerhub.jobcher.com",</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379">        "https://dockerhub.icu",</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379">        "https://docker.ckyl.me",</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379">        "https://docker.awsl9527.cn"</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379">    ]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379">}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379">sudo systemctl daemon-reload</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379">sudo systemctl restart docker</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>HuggingFace å®‰è£…æœ¬åœ°æ¨¡å‹</title>
      <link>https://igeekfan.cn/igeekfan-docs/ai/HuggingFace.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/ai/HuggingFace.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">HuggingFace å®‰è£…æœ¬åœ°æ¨¡å‹</source>
      <description>HuggingFace å®‰è£…æœ¬åœ°æ¨¡å‹ https://hf-mirror.com/ é•œåƒç«™ç‚¹ https://huggingface.co å®˜ç½‘ https://huggingface.co/shenzhi-wang/Llama3-8B-Chinese-Chat æ”¯æŒä¸­æ–‡çš„ Llama3-8B æ¨¡å‹ å®‰è£…ç›¸å…³ä¾èµ– è®¾ç½®ç¯å¢ƒå˜é‡ HF_ENDPOINT:...</description>
      <pubDate>Wed, 10 Jul 2024 15:03:54 GMT</pubDate>
      <content:encoded><![CDATA[
<ul>
<li><a href="https://hf-mirror.com/" target="_blank" rel="noopener noreferrer">https://hf-mirror.com/</a> é•œåƒç«™ç‚¹</li>
<li><a href="https://huggingface.co" target="_blank" rel="noopener noreferrer">https://huggingface.co</a> å®˜ç½‘</li>
<li><a href="https://huggingface.co/shenzhi-wang/Llama3-8B-Chinese-Chat" target="_blank" rel="noopener noreferrer">https://huggingface.co/shenzhi-wang/Llama3-8B-Chinese-Chat</a> æ”¯æŒä¸­æ–‡çš„ Llama3-8B æ¨¡å‹</li>
</ul>
<ol>
<li>å®‰è£…ç›¸å…³ä¾èµ–</li>
</ol>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -U</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> huggingface_hub</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><ol start="2">
<li>è®¾ç½®ç¯å¢ƒå˜é‡</li>
</ol>
<ul>
<li>HF_ENDPOINT: è®¾ç½®ä¸º <a href="https://hf-mirror.com" target="_blank" rel="noopener noreferrer">https://hf-mirror.com</a> è§£å†³ä¸‹è½½é€Ÿåº¦æ…¢çš„é—®é¢˜</li>
<li>HF_HOME: è®¾ç½®ä¸ºæœ¬åœ°ç›®å½•ï¼ˆå¦‚ E:\data\huggingfaceï¼‰ è§£å†³å®‰è£…ç›®å½•é»˜è®¤ C ç›˜ï¼Œä¼šå¯¼è‡´ç£ç›˜ç©ºé—´ä¸è¶³çš„é—®é¢˜</li>
</ul>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> HF_ENDPOINT</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">https</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">://</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">hf-mirror</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">com</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> HF_HOME</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">var</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">huggingface</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3">
<li>å®‰è£… Llama3-8B-Chinese-Chat æ¨¡å‹</li>
</ol>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">huggingface-cli</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> download</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --resume-download</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --local-dir-use-symlinks</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> False</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> shenzhi-wang/Llama3-8B-Chinese-Chat</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>ASP.NET Core+Supervisordéƒ¨ç½²è‡³Ubuntu</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/examples/ASPNETCore-Supervisord-Ubuntu.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/examples/ASPNETCore-Supervisord-Ubuntu.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">ASP.NET Core+Supervisordéƒ¨ç½²è‡³Ubuntu</source>
      <description>ASP.NET Core+Supervisordéƒ¨ç½²è‡³Ubuntu ASP.NET Core+Supervisordéƒ¨ç½²è‡³Ubuntu asp.netcoreä¸­å†…ç½®äº†kestrel,å¦‚æœä¸é€šè¿‡ä»£ç†å·¥å…·ï¼Œå¦‚IISï¼ŒNginx,Apacheï¼ŒHTTPè¯·æ±‚å†…å®¹å¦‚ä¸‹ å‰ææ¡ä»¶ ubuntuæœåŠ¡å™¨ å®‰è£…nginx æœåŠ¡å™¨å·²å®‰è£….net sdk 6 å®‰è£…å®ˆæŠ¤è¿›ç¨‹ ...</description>
      <pubDate>Fri, 05 Jan 2024 14:23:40 GMT</pubDate>
      <content:encoded><![CDATA[
<h1><a class="header-anchor" href="#asp-net-core-supervisordéƒ¨ç½²è‡³ubuntu-1"><span></span></a><a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Core+Supervisordéƒ¨ç½²è‡³Ubuntu</h1>
<p>asp.netcoreä¸­å†…ç½®äº†kestrel,å¦‚æœä¸é€šè¿‡ä»£ç†å·¥å…·ï¼Œå¦‚IISï¼ŒNginx,Apacheï¼ŒHTTPè¯·æ±‚å†…å®¹å¦‚ä¸‹</p>
<h2>å‰ææ¡ä»¶</h2>
<ul>
<li>ubuntuæœåŠ¡å™¨</li>
<li>å®‰è£…nginx</li>
<li><a href="http://xn--zfru1gtwfryc62q5j3c.net" target="_blank" rel="noopener noreferrer">æœåŠ¡å™¨å·²å®‰è£….net</a> sdk 6</li>
<li>å®‰è£…å®ˆæŠ¤è¿›ç¨‹ supervisor</li>
</ul>
<h2>supervisor å®ˆæŠ¤è¿›ç¨‹</h2>
<ul>
<li>å®˜ç½‘ <a href="http://supervisord.org/" target="_blank" rel="noopener noreferrer">http://supervisord.org/</a></li>
</ul>
<p>ä»€ä¹ˆæ˜¯å®ˆæŠ¤è¿›ç¨‹</p>
<p>å®ˆæŠ¤è¿›ç¨‹(Daemon)æ˜¯ä¸€ä¸ªè¿è¡Œåœ¨åå°çš„ç‰¹æ®Šè¿›ç¨‹ï¼Œå®ƒç‹¬ç«‹äºç»ˆç«¯ï¼Œå¹¶ä¸”ä»¥å‘¨æœŸæ€§åœ°æ‰§è¡ŒæŸäº›ä»»åŠ¡,åœ¨linuxä¸­ï¼Œç”±äºåœ¨linuxä¸­ï¼Œæ¯ä¸ªç³»ç»Ÿä¸ç”¨æˆ·è¿›è¡Œäº¤æµçš„ç•Œé¢ç§°ä¸ºç»ˆç«¯ï¼Œæ¯ä¸€ä¸ªä»æ­¤ç»ˆç«¯å¼€å§‹è¿è¡Œçš„è¿›ç¨‹éƒ½ä¼šä¾é™„äºè¿™ä¸ªç»ˆç«¯ï¼Œè¿™ä¸ªç»ˆç«¯è¢«ç§°ä¸ºè¿™äº›è¿›ç¨‹çš„æ§åˆ¶ç»ˆç«¯ï¼Œå½“æ§åˆ¶ç»ˆç«¯è¢«å…³é—­çš„æ—¶å€™ï¼Œç›¸åº”çš„è¿›ç¨‹éƒ½ä¼šè‡ªåŠ¨å…³é—­ã€‚ä½†æ˜¯å®ˆæŠ¤è¿›ç¨‹å´èƒ½çªç ´è¿™ç§é™åˆ¶ï¼Œå®ƒè„±ç¦»äºç»ˆç«¯å¹¶ä¸”åœ¨åå°è¿è¡Œï¼Œå¹¶ä¸”å®ƒè„±ç¦»ç»ˆç«¯çš„ç›®çš„æ˜¯ä¸ºäº†é¿å…è¿›ç¨‹åœ¨è¿è¡Œçš„è¿‡ç¨‹ä¸­çš„ä¿¡æ¯åœ¨ä»»ä½•ç»ˆç«¯ä¸­æ˜¾ç¤ºå¹¶ä¸”è¿›ç¨‹ä¹Ÿä¸ä¼šè¢«ä»»ä½•ç»ˆç«¯æ‰€äº§ç”Ÿçš„ç»ˆç«¯ä¿¡æ¯æ‰€æ‰“æ–­ã€‚å®ƒä»è¢«æ‰§è¡Œçš„æ—¶å€™å¼€å§‹è¿è½¬ï¼Œç›´åˆ°æ•´ä¸ªç³»ç»Ÿå…³é—­æ‰é€€å‡ºã€‚åœ¨ Linux ä¸Šæœ‰å¾ˆå¤šå¯ä»¥ç®¡ç†è¿›ç¨‹çš„å·¥å…·ï¼Œæˆ‘ä»¬ä½¿ç”¨ Supervisor æ¥åšè¿™ä¸ªäº‹æƒ…ã€‚</p>
<p>ä¸ºä»€ä¹ˆéƒ¨ç½²asp.netcoreé¡¹ç›®éœ€è¦ä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹</p>
<p>å› ä¸ºasp.netcoreé¡¹ç›®éƒ¨ç½²åï¼ŒæœåŠ¡å™¨å¯èƒ½å­˜åœ¨å…³æœºï¼Œæ–­å¼€ç»ˆç«¯ï¼Œæ— æ³•ä¿è¯webç¨‹åºè‡ªå¯åŠ¨ã€‚</p>
<h2>Ubuntuå®‰è£…supervisor</h2>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> supervisor</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  # å®‰è£… å®ˆæŠ¤è¿›ç¨‹ supervisor</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /etc/supervisor/conf.d/</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     # è¿›å…¥é…ç½®ç›®å½• </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> devops_api.conf</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        # æ–°å»º ä¸€ä¸ªé…ç½®æ–‡ä»¶ ï¼Œåªè¦ä»¥ .confç»“å°¾å³å¯ã€‚</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>é…ç½®devops_api.conf</h2>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[program:devops_api]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">command</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">dotnet</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> DevOps.Api.dll</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --urls=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"http://*:7000"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">directory</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">/home/igeekfan/code/devops_api</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">environment</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">ASPNETCORE__ENVIRONMENT</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">Production</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">user</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">www-data</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">stopsignal</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">INT</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">autostart</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">autorestart</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">startsecs</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">stderr_logfile</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">/home/igeekfan/code/devops_api/DevOps_Api.err.log</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">stdout_logfile</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">/home/igeekfan/code/devops_api/DevOps_Api.out.log</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æŠŠlinuxçš„å‘å¸ƒåŒ…æ”¾åˆ°äº†/home/igeekfan/code/devops_apiç›®å½•ä¸­</p>
<p>æœ‰ç›¸åº”æ³¨é‡Šçš„ï¼Œconfä¸èƒ½æœ‰æ³¨é‡Šï¼Œè™½ç„¶æ²¡æœ‰ä»»ä½•å¼‚å¸¸ï¼Œä½†æ— æ³•å¯åŠ¨æœåŠ¡ã€‚</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[program:devops_api]##ç¨‹åºåç§°ï¼Œç»ˆç«¯æ§åˆ¶æ—¶éœ€è¦çš„æ ‡è¯†</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">command</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">dotnet</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> DevOps.Api.dll</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --urls=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"http://*:7000"</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  #è¦æ‰§è¡Œçš„å‘½ä»¤</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">directory</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">/home/igeekfan/code/devops_api</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> #å‘½ä»¤æ‰§è¡Œçš„ç›®å½•</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">environment</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">ASPNETCORE__ENVIRONMENT</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">Production</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> #ç¯å¢ƒå˜é‡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">user</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">www-data</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  #è¿›ç¨‹æ‰§è¡Œçš„ç”¨æˆ·èº«ä»½</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">stopsignal</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">INT</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">autostart</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">true</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> #æ˜¯å¦è‡ªåŠ¨å¯åŠ¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">autorestart</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">true</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> #æ˜¯å¦è‡ªåŠ¨é‡å¯</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">startsecs</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">1</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> #è‡ªåŠ¨é‡å¯é—´éš”</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">stderr_logfile</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">/home/igeekfan/code/devops_api/DevOps_Api.err.log</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> #æ ‡å‡†é”™è¯¯æ—¥å¿—</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">stdout_logfile</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">/home/igeekfan/code/devops_api/DevOps_Api.out.log</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> #æ ‡å‡†è¾“å‡ºæ—¥å¿—</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>é‡å¯å®ˆæŠ¤è¿›ç¨‹</h3>
<p>ï¼ˆé‡æ–°å‘å¸ƒåï¼Œæˆ–æœåŠ¡å´©æºƒåï¼‰</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#é‡å¯å®ˆæŠ¤è¿›ç¨‹</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /etc/init.d/supervisor</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> restart</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> service</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> supervisor</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> restart</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># æš‚åœæœåŠ¡supervisor</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> service</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> supervisor</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> stop</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># å¯åŠ¨æœåŠ¡supervisor</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> service</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> supervisor</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> start</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>supervisorctl å¸¸ç”¨çš„ç›¸å…³å‘½ä»¤</h2>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># æŸ¥çœ‹æ‰€æœ‰ä»»åŠ¡çŠ¶æ€</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">supervisorctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> status</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># å…³é—­æ‰€æœ‰ä»»åŠ¡ </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">supervisorctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> shutdown</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#é‡å¯æŒ‡å®šåº”ç”¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">supervisorctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> restart</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">application</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> nam</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#åœæ­¢æŒ‡å®šåº”ç”¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">supervisorctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> stop</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">application</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> nam</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#å¯åŠ¨æŒ‡å®šåº”ç”¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">supervisorctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> start</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">application</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> nam</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#é‡å¯æ‰€æœ‰åº”ç”¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">supervisorctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> all</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#åœæ­¢æ‰€æœ‰åº”ç”¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">supervisorctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> stop</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> all</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#å¯åŠ¨æ‰€æœ‰åº”ç”¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">supervisorctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> all</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># ä¿®æ”¹é…ç½®æ–‡ä»¶å¯ç”¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> supervisorctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">  reload</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æŸ¥çœ‹æ—¥å¿—</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># æŸ¥çœ‹æ—¥å¿—</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">tail</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">  /home/igeekfan/code/devops_api/DevOps_Api.err.log</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>æŸ¥çœ‹devops_apiè¿›ç¨‹</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ps</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -ef</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> devops_api</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">www-data</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">    38</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">    31</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">  0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 02:57</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">        00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /home/igeekfan/code/devops_api/DevOps.Api.dll</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --urls=http://</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">:7000</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">igeekfan</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">   124</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">     9</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">  0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 03:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> pts/0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">    00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --color=auto</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> devops_api</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>supervisorè®¾ç½®å¼€æœº</h2>
<p>è®¾ç½®<code>ubuntu</code>ä¸‹çš„supervisorå¼€æœº è‡ªå¯åŠ¨</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> vim</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /etc/rc.local</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>åœ¨exit 0 ä¹‹å‰åŠ å…¥ä»¥ä¸‹å‘½ä»¤</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">/usr/local/bin/supervisord</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h2>Supervisor UI ç®¡ç†å°</h2>
<p>Supervisor é»˜è®¤ç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå›¾å½¢ç•Œé¢æ¥ä¾›æˆ‘ä»¬ç®¡ç†è¿›ç¨‹å’Œä»»åŠ¡ï¼Œlinuxä¸‹éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å¼€å¯</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> vim</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /etc/supervisor/supervisord.conf</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>å¢åŠ é…ç½®,æˆ‘ä»¬å°±èƒ½ç›´æ¥è®¿é—®localhost:7002</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[inet_http_server]</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">port</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">0.0.0.0:</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">7002username</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">userpassword</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">123</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>å¦‚æœæœ‰é˜²ç«å¢™</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">firewall-cmd</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --zone=public</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --add-port=7002/tcp</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --permanent</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">firewall-cmd</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --reload</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><h2>Nginxåå‘ä»£ç†</h2>
<p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨nginxè¿›è¡Œä»£ç†</p>
<p></p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> nginx</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>å®‰è£…å¥½ä»¥åï¼Œå®šä½åˆ° /etc/nginx/sites-available/default æ–‡ä»¶ã€‚æ›´æ”¹server èŠ‚ç‚¹å¦‚ä¸‹</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">server</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">    listen</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 80</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">    location</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">        proxy_pass</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> http://localhost:7000</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">        proxy_http_version</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 1.1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">        proxy_set_header</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> Upgrade</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> $http_upgrade</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">        proxy_set_header</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> Connection</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> keep-alive</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">        proxy_set_header</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> Host</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> $host</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">        proxy_cache_bypass</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> $http_upgrade</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åé‡æ–°å¯åŠ¨ Nginx</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> service</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> nginx</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> restart</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> reloadã€€</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  #ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™æ¡å‘½ä»¤é‡æ–°åŠ è½½é…ç½®é¡¹</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>ASP.NET Core+Systemdéƒ¨ç½²è‡³Ubuntu</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/examples/ASPNETCore-Systemd-Ubuntu.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/examples/ASPNETCore-Systemd-Ubuntu.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">ASP.NET Core+Systemdéƒ¨ç½²è‡³Ubuntu</source>
      <description>ASP.NET Core+Systemdéƒ¨ç½²è‡³Ubuntu Systemdéƒ¨ç½²è‡³Ubuntu æœ¬æŒ‡å—ä»‹ç»å¦‚ä½•åœ¨ Ubuntu 16.04 æœåŠ¡å™¨ä¸Šè®¾ç½®ç”Ÿäº§å°±ç»ª ASP.NET Core ç¯å¢ƒã€‚ è¿™äº›è¯´æ˜å¯èƒ½é€‚ç”¨äºè¾ƒæ–°ç‰ˆæœ¬çš„ Ubunt å¯¹äº Ubuntu 14.04ï¼Œå»ºè®®ä½¿ç”¨ supervisord ä½œä¸ºç›‘è§† Kestrel è¿›ç¨‹çš„è§£å†³æ–¹æ¡ˆã€‚ syst...</description>
      <pubDate>Fri, 05 Jan 2024 14:23:40 GMT</pubDate>
      <content:encoded><![CDATA[
<h1>Systemdéƒ¨ç½²è‡³Ubuntu</h1>
<p>æœ¬æŒ‡å—ä»‹ç»å¦‚ä½•åœ¨ Ubuntu 16.04 æœåŠ¡å™¨ä¸Šè®¾ç½®ç”Ÿäº§å°±ç»ª <a href="http://asp.net/" target="_blank" rel="noopener noreferrer">ASP.NET</a> Core ç¯å¢ƒã€‚ è¿™äº›è¯´æ˜å¯èƒ½é€‚ç”¨äºè¾ƒæ–°ç‰ˆæœ¬çš„ Ubunt</p>
<blockquote>
<p>å¯¹äº Ubuntu 14.04ï¼Œå»ºè®®ä½¿ç”¨ supervisord ä½œä¸ºç›‘è§† Kestrel è¿›ç¨‹çš„è§£å†³æ–¹æ¡ˆã€‚ systemd ä¸é€‚ç”¨äº Ubuntu 14.04ã€‚</p>
</blockquote>
<p>æœ‰å…³ Ubuntu 14.04 çš„è¯´æ˜ï¼Œè¯·å‚é˜…<a href="https://github.com/dotnet/AspNetCore.Docs/blob/e9c1419175c4dd7e152df3746ba1df5935aaafd5/aspnetcore/publishing/linuxproduction.md" target="_blank" rel="noopener noreferrer">æœ¬ä¸»é¢˜çš„ä»¥å‰ç‰ˆæœ¬</a>ã€‚</p>
<h2>ä¸‹è½½æºç </h2>
<p>éƒ¨ç½²devops/Devops.Api.csprojï¼Œæ‰“åŒ…ï¼Œå°†æ‰€æœ‰æ–‡ä»¶ä¸Šä¼ è‡³linuxçš„ <code>/var/www/devops_api</code> ç›®å½•ä¸­</p>
<p><a href="https://github.com/luoyunchong/devops" target="_blank" rel="noopener noreferrer">https://github.com/luoyunchong/devops</a></p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> e:/code:/devops/DevOps.Api</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> publish</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --configuration</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> Release</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><h2>Systemd</h2>
<p>æœåŠ¡å™¨è®¾ç½®ä¸ºå°†å¯¹ <code>http://&lt;serveraddress&gt;:80</code> å‘èµ·çš„è¯·æ±‚è½¬å‘åˆ°åœ¨ <code>http://127.0.0.1:5000</code> ä¸­çš„ Kestrel ä¸Šè¿è¡Œçš„ <a href="http://asp.net/" target="_blank" rel="noopener noreferrer">ASP.NET</a> Core åº”ç”¨ã€‚ ä½†æ˜¯ï¼Œæœªå°† Nginx è®¾ç½®ä¸ºç®¡ç† Kestrel è¿›ç¨‹ã€‚ <code>systemd</code> å¯ç”¨äºåˆ›å»ºæœåŠ¡æ–‡ä»¶ä»¥å¯åŠ¨å’Œç›‘è§†åŸºç¡€ Web åº”ç”¨ã€‚ <code>systemd</code> æ˜¯ä¸€ä¸ªåˆå§‹ç³»ç»Ÿï¼Œå¯ä»¥æä¾›å¯åŠ¨ã€åœæ­¢å’Œç®¡ç†è¿›ç¨‹çš„è®¸å¤šå¼ºå¤§çš„åŠŸèƒ½ã€‚</p>
<p>åˆ›å»ºæœåŠ¡å®šä¹‰æ–‡ä»¶ï¼š</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> vim</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /etc/systemd/system/kestrel-devops-api.service</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>ä¸‹ç¤ºä¾‹æ˜¯åº”ç”¨çš„ä¸€ä¸ª <code>.ini</code> æœåŠ¡æ–‡ä»¶ï¼š</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[Unit]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">Description</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">Example</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> .NET</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> Web</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> API</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> App</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> running</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> Ubuntu</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">After</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">network.target</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[Service]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">WorkingDirectory</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">/var/www/devops_api</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">ExecStart</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">/usr/bin/dotnet</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> /var/www/devops_api/DevOps.Api.dll</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --urls=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"http://*:7000"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">Restart</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">always</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Restart service after 10 seconds if the dotnet service crashes:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">RestartSec</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">10</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">KillSignal</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">SIGINT</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">SyslogIdentifier</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">devops-api</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">User</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">www-data</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">Environment</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">ASPNETCORE_ENVIRONMENT</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">Production</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">Environment</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">DOTNET_PRINT_TELEMETRY_MESSAGE</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[Install]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">WantedBy</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">multi-user.target</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨å‰é¢çš„ç¤ºä¾‹ä¸­ï¼Œç®¡ç†æœåŠ¡çš„ç”¨æˆ·ç”± <code>User</code> é€‰é¡¹æŒ‡å®šã€‚ ç”¨æˆ· (<code>www-data</code>) å¿…é¡»å­˜åœ¨å¹¶ä¸”æ‹¥æœ‰æ­£ç¡®åº”ç”¨æ–‡ä»¶çš„æ‰€æœ‰æƒã€‚</p>
<p>ä½¿ç”¨ <code>TimeoutStopSec</code> é…ç½®åœ¨æ”¶åˆ°åˆå§‹ä¸­æ–­ä¿¡å·åç­‰å¾…åº”ç”¨ç¨‹åºå…³é—­çš„æŒç»­æ—¶é—´ã€‚ å¦‚æœåº”ç”¨ç¨‹åºåœ¨æ­¤æ—¶é—´æ®µå†…æœªå…³é—­ï¼Œåˆ™å°†å‘å‡º SIGKILL ä»¥ç»ˆæ­¢è¯¥åº”ç”¨ç¨‹åºã€‚ æä¾›ä½œä¸ºæ— å•ä½ç§’æ•°çš„å€¼ï¼ˆä¾‹å¦‚ï¼Œ<code>150</code>ï¼‰ã€æ—¶é—´è·¨åº¦å€¼ï¼ˆä¾‹å¦‚ï¼Œ<code>2min 30s</code>ï¼‰æˆ– <code>infinity</code> ä»¥ç¦ç”¨è¶…æ—¶ã€‚ <code>TimeoutStopSec</code> é»˜è®¤ä¸ºç®¡ç†å™¨é…ç½®æ–‡ä»¶ (<code>systemd-system.conf</code>, <code>system.conf.d</code>, <code>systemd-user.conf</code>, <code>user.conf.d</code>) ä¸­ <code>DefaultTimeoutStopSec</code> çš„å€¼ã€‚ å¤§å¤šæ•°åˆ†å‘ç‰ˆçš„é»˜è®¤è¶…æ—¶æ—¶é—´ä¸º 90 ç§’ã€‚</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># The default value is 90 seconds for most distributions.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">TimeoutStopSec</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">90</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>Linux å…·æœ‰åŒºåˆ†å¤§å°å†™çš„æ–‡ä»¶ç³»ç»Ÿã€‚ å°† <code>ASPNETCORE_ENVIRONMENT</code> è®¾ç½®ä¸º <code>Production</code> æ—¶ï¼Œå°†æœç´¢é…ç½®æ–‡ä»¶ <code>appsettings.Production.json</code>ï¼Œè€Œä¸æœç´¢ <code>appsettings.production.json</code>ã€‚</p>
<p>å¿…é¡»è½¬ä¹‰æŸäº›å€¼ï¼ˆä¾‹å¦‚ï¼ŒSQL è¿æ¥å­—ç¬¦ä¸²ï¼‰ä»¥ä¾›é…ç½®æä¾›ç¨‹åºè¯»å–ç¯å¢ƒå˜é‡ã€‚ ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç”Ÿæˆé€‚å½“çš„è½¬ä¹‰å€¼ä»¥ä¾›åœ¨é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨ï¼š</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">systemd-escape</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "&lt;value-to-escape&gt;"</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>ç¯å¢ƒå˜é‡åä¸æ”¯æŒå†’å· (<code>:</code>) åˆ†éš”ç¬¦ã€‚ ä½¿ç”¨åŒä¸‹åˆ’çº¿ (<code>__</code>) ä»£æ›¿å†’å·ã€‚ ç¯å¢ƒå˜é‡è¯»å…¥é…ç½®æ—¶ï¼Œ<a href="https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/configuration/?view=aspnetcore-6.0#environment-variables" target="_blank" rel="noopener noreferrer">ç¯å¢ƒå˜é‡é…ç½®æä¾›ç¨‹åº</a>å°†åŒä¸‹åˆ’çº¿è½¬æ¢ä¸ºå†’å·ã€‚ ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œè¿æ¥å­—ç¬¦ä¸²å¯†é’¥ <code>ConnectionStrings:DefaultConnection</code> ä»¥ <code>ConnectionStrings__DefaultConnection</code> å½¢å¼è®¾ç½®åˆ°æœåŠ¡å®šä¹‰æ–‡ä»¶ä¸­ï¼š</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">Environment</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">ConnectionStrings__DefaultConnection</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Connection</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> String}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p><code>After=network.target</code> æ˜¯systemdæœåŠ¡å•å…ƒæ–‡ä»¶ä¸­çš„ä¸€ä¸ªè®¾ç½®ï¼Œå®ƒæŒ‡å®šäº†æœåŠ¡å•å…ƒåº”è¯¥åœ¨å“ªä¸ªç³»ç»Ÿç›®æ ‡ï¼ˆtargetï¼‰ä¹‹åå¯åŠ¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ<code>network.target</code> æŒ‡çš„æ˜¯ç½‘ç»œæœåŠ¡çš„å¯åŠ¨ã€‚è¿™ä¸ªè®¾ç½®ç¡®ä¿äº†åœ¨ç½‘ç»œæœåŠ¡å¯åŠ¨ä¹‹åï¼Œæ‰ä¼šå¯åŠ¨ä½ çš„æœåŠ¡å•å…ƒã€‚è¿™æ˜¯å› ä¸ºåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½ çš„æœåŠ¡å¯èƒ½éœ€è¦ä¾èµ–äºç½‘ç»œæœåŠ¡ã€‚è¿™ä¸ªè®¾ç½®å¯ä»¥ç¡®ä¿ä½ çš„æœåŠ¡åœ¨ç½‘ç»œæœåŠ¡å¯ç”¨æ—¶å¯åŠ¨ï¼Œé¿å…äº†å¯åŠ¨æœåŠ¡æ—¶å‡ºç°é—®é¢˜çš„å¯èƒ½æ€§ã€‚</p>
<p>ä¿å­˜è¯¥æ–‡ä»¶å¹¶å¯ç”¨è¯¥æœåŠ¡ã€‚</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> enable</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> kestrel-devops-api.service</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>å¯ç”¨è¯¥æœåŠ¡ï¼Œå¹¶ç¡®è®¤å®ƒæ­£åœ¨è¿è¡Œ</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> kestrel-devops-api.service</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> kestrel-devops-api.service</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> stop</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> kestrel-devops-api.service</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">â—</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> kestrel-devops-api.service</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> Example</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> .NET</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> Web</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> API</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> App</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> running</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> Ubuntu</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">     Loaded:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> loaded</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (/etc/systemd/system/kestrel-devops-api.service; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">enabled</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">vendor</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> preset:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> enabled</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">     Active:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> active</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (running) since Sun 2022-06-12 01:41:00 CST; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">2min</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 2s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> ago</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">   Main</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> PID:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 2395006</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (dotnet)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">      Tasks:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 14</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (limit: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">4612</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">     Memory:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 26.8M</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">     CGroup:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /system.slice/kestrel-devops-api.service</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">             â””â”€2395006</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /usr/bin/dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /var/www/devops_api/DevOps.Api.dll</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --urls=http://</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">:7000</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Jun</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 12</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 01:41:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> hecs-x-large-2-linux-20200616150407</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> dotnet-example[2395006]:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> info:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> Microsoft.Hosting.Lifetime[14]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Jun</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 12</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 01:41:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> hecs-x-large-2-linux-20200616150407</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> dotnet-example[2395006]:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">       Now</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> listening</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> on:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> http://[::]:7000</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Jun</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 12</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 01:41:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> hecs-x-large-2-linux-20200616150407</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> dotnet-example[2395006]:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> info:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> Microsoft.Hosting.Lifetime[0]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Jun</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 12</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 01:41:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> hecs-x-large-2-linux-20200616150407</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> dotnet-example[2395006]:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">       Application</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> started.</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> Press</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> Ctrl+C</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> shut</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> down.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Jun</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 12</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 01:41:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> hecs-x-large-2-linux-20200616150407</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> dotnet-example[2395006]:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> info:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> Microsoft.Hosting.Lifetime[0]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Jun</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 12</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 01:41:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> hecs-x-large-2-linux-20200616150407</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> dotnet-example[2395006]:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">       Hosting</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> environment:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> Production</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Jun</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 12</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 01:41:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> hecs-x-large-2-linux-20200616150407</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> dotnet-example[2395006]:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> info:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> Microsoft.Hosting.Lifetime[0]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Jun</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 12</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 01:41:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> hecs-x-large-2-linux-20200616150407</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> dotnet-example[2395006]:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">       Content</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> path:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /var/www/devops_api/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Jun</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 12</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 01:41:12</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> hecs-x-large-2-linux-20200616150407</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> dotnet-example[2395006]:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> warn:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware[3]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Jun</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 12</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 01:41:12</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> hecs-x-large-2-linux-20200616150407</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> dotnet-example[2395006]:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">       Failed</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> determine</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> https</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> port</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> redirect.</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>æŸ¥çœ‹æ—¥å¿—</h2>
<p>ä½¿ç”¨ Kestrel çš„ Web åº”ç”¨æ˜¯é€šè¿‡ <code>systemd</code> è¿›è¡Œç®¡ç†çš„ï¼Œå› æ­¤æ‰€æœ‰äº‹ä»¶å’Œè¿›ç¨‹éƒ½è¢«è®°å½•åˆ°é›†ä¸­æ—¥å¿—ã€‚ ä½†æ˜¯ï¼Œæ­¤æ—¥å¿—åŒ…å«ç”± <code>systemd</code> ç®¡ç†çš„æ‰€æœ‰æœåŠ¡å’Œè¿›ç¨‹çš„å…¨éƒ¨æ¡ç›®ã€‚ è‹¥è¦æŸ¥çœ‹ç‰¹å®šäº <code>kestrel-helloapp.service</code> çš„é¡¹ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> journalctl</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -fu</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> kestrel-devops-api.service</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>æœ‰å…³è¿›ä¸€æ­¥ç­›é€‰ï¼Œä½¿ç”¨æ—¶é—´é€‰é¡¹ï¼ˆå¦‚ <code>--since today</code>ã€<code>--until 1 hour ago</code>ï¼‰æˆ–è¿™äº›é€‰é¡¹çš„ç»„åˆå¯ä»¥å‡å°‘è¿”å›çš„æ¡ç›®æ•°ã€‚</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> journalctl</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -fu</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> kestrel-devops-api.service</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --since</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "2016-10-18"</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --until</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "2016-10-18 04:00"</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p><a href="https://docs.microsoft.com/zh-cn/aspnet/core/host-and-deploy/linux-nginx?view=aspnetcore-6.0" target="_blank" rel="noopener noreferrer">ä½¿ç”¨ Nginx åœ¨ Linux ä¸Šæ‰˜ç®¡ ASP.NET Core | Microsoft Docs</a></p>
<p><a href="https://github.com/luoyunchong/devops" target="_blank" rel="noopener noreferrer">https://github.com/luoyunchong/devops</a></p>
]]></content:encoded>
    </item>
    <item>
      <title>ASP.NET Core+Docker+AliYun  éƒ¨ç½²</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/docker/Docker-ASPNETCore.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/docker/Docker-ASPNETCore.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">ASP.NET Core+Docker+AliYun  éƒ¨ç½²</source>
      <description>ASP.NET Core+Docker+AliYun éƒ¨ç½² ASP.NET Core+Docker éƒ¨ç½² ubuntu å®‰è£…äº†docker æœ¬åœ°.net sdk å·¥å…·:xshellã€xftp å¼€é€šé˜¿é‡Œçš„å®¹å™¨é•œåƒæœåŠ¡ (aliyun.com)ï¼šç”¨äºç§æœ‰é•œåƒä¸Šä¼  éƒ¨ç½²åˆ†ä¸ºå‡ ç§æ–¹å¼ æœ¬åœ°ç”Ÿæˆaspnetcoreçš„å‘å¸ƒåŒ…ï¼Œåœ¨æœåŠ¡å™¨ä¸Šç”Ÿæˆdockeré•œåƒï¼Œç›´æ¥åœ¨...</description>
      <pubDate>Mon, 13 Mar 2023 06:20:58 GMT</pubDate>
      <content:encoded><![CDATA[
<h2><a class="header-anchor" href="#asp-net-core-docker-éƒ¨ç½²"><span></span></a><a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Core+Docker éƒ¨ç½²</h2>
<ul>
<li>ubuntu å®‰è£…äº†docker</li>
<li><a href="http://xn--cesv58a.net" target="_blank" rel="noopener noreferrer">æœ¬åœ°.net</a> sdk</li>
<li>å·¥å…·:xshellã€xftp</li>
<li>å¼€é€šé˜¿é‡Œçš„<a href="https://cr.console.aliyun.com/cn-hangzhou/instances" target="_blank" rel="noopener noreferrer">å®¹å™¨é•œåƒæœåŠ¡ (aliyun.com)</a>ï¼šç”¨äºç§æœ‰é•œåƒä¸Šä¼ </li>
</ul>
<h2>éƒ¨ç½²åˆ†ä¸ºå‡ ç§æ–¹å¼</h2>
<ul>
<li>æœ¬åœ°ç”Ÿæˆaspnetcoreçš„å‘å¸ƒåŒ…ï¼Œåœ¨æœåŠ¡å™¨ä¸Šç”Ÿæˆdockeré•œåƒï¼Œç›´æ¥åœ¨æœåŠ¡å™¨è¿è¡Œ</li>
<li>æœ¬åœ°æ„å»ºDockeré•œåƒï¼Œæ¨é€Aliyunå®¹å™¨é•œåƒï¼ŒæœåŠ¡å™¨æ‹‰å–é•œåƒå¹¶è¿è¡Œ</li>
<li>Jenkinsã€Aliyunå®¹å™¨é•œåƒã€è‡ªåŠ¨åŒ–è„šæœ¬ï¼ˆè·¨æœåŠ¡å™¨ï¼‰</li>
</ul>
<h2>æ–¹å¼1.æœ¬åœ°ç”Ÿæˆéƒ¨ç½²åŒ…+æœåŠ¡å™¨Docker éƒ¨ç½²</h2>
<p>1.æœ¬åœ°å¦‚æœæ²¡æœ‰å®‰è£…Docker for Windowsï¼Œå¯åœ¨æœåŠ¡å™¨ï¼Œå¦‚ubuntuå®‰è£…äº†Docker</p>
<p><a href="https://docs.docker.com/engine/install/ubuntu/" target="_blank" rel="noopener noreferrer">Install Docker Engine on Ubuntu | Docker Documentation</a></p>
<p><a href="http://xn--ASP-p18doh57tg0j29pomr.NET" target="_blank" rel="noopener noreferrer">æœ¬åœ°åˆ›å»ºä¸€ä¸ªASP.NET</a> Coreé¡¹ç›®<code>DevOps.Api</code>ï¼Œé¡¹ç›®æºç å·²ä¸Šä¼ è‡³github</p>
<p><a href="https://github.com/luoyunchong/devops" target="_blank" rel="noopener noreferrer">luoyunchong/devops: Azure DevOps Pipelines Release Aliyun é˜¿é‡Œäº‘ Docker CI/CD æŒç»­é›†æˆ (github.com)</a></p>
<p>åˆ›å»ºé…ç½®Dockerfileæ–‡ä»¶ï¼Œæ›¿æ¢å¦‚ä¸‹å†…å®¹ï¼Œå³é”®å±æ€§é…ç½®ï¼Œå¤åˆ¶åˆ°è¾“å‡ºç›®å½•ï¼šå¦‚æœè¾ƒæ–°åˆ™å¤åˆ¶</p>
<div class="language-docker line-numbers-mode" data-highlighter="shiki" data-ext="docker" data-title="docker" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> mcr.microsoft.com/dotnet/aspnet:7.0 </span><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> base</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF">COPY</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> . /app</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF">WORKDIR</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> /app</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF">EXPOSE</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> 80</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF">ENTRYPOINT</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"dotnet"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"DevOps.Api.dll"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç”Ÿæˆ.NETé¡¹ç›®åŒ…</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> e:/code/devops/DevOps.Api</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> publish</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --configuration</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> Release</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>å°†åœ¨æ­¤ç›®å½•ç”Ÿæˆéƒ¨ç½²çš„æ–‡ä»¶</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">e:/code/devops/DevOps.Api/bin/Release/net7.0/publish</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>åœ¨ubuntuåˆ›å»ºä¸€ä¸ªç›®å½• devops_apiï¼Œå°†ç”Ÿæˆæ–‡ä»¶å†…å®¹ï¼Œä½¿ç”¨xftpä¸Šä¼ è‡³ubuntuæ–‡ä»¶å¤¹ä¸­</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /var/www/devops_api</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /var/www/devops_api</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p></p>
<h3>Dockeræ‰“åŒ…</h3>
<p>ubuntuä¸Šå®‰è£…å¥½äº†dockerï¼Œå¹¶ä¸”æ­£å¸¸è¿è¡Œã€‚</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /var/www/devops_api</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> # å…ˆcdçš„é¡¹ç›®ç›®å½• </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> igeekfan/devops_api</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> .</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     #ç”Ÿæˆimages</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 7007:80</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> igeekfan/devops_api</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   # ç”Ÿæˆ container å¹¶è¿è¡Œåœ¨5000ç«¯å£</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li><strong>d</strong> ä»£è¡¨åå°è¿è¡Œ</li>
<li>p æ­¤æ—¶å°†å¯¹å¤–æ˜¾éœ²7007ç«¯å£è¿è¡Œï¼Œ7007æ˜¯è¿è¡Œåï¼Œdockerå¯¹å¤–çš„ç«¯å£ï¼Œ80æ˜¯è¿™ä¸ªæœåŠ¡å¯¹å¤–çš„ç«¯å£ï¼Œå…¶ä¸­Dockerfile å­˜åœ¨è¯­å¥EXPOSE 80</li>
</ul>
<p>æ­¤æ—¶æ‰“å¼€ æµè§ˆå™¨ï¼Œ ip+ç«¯å£7007å³å¯è®¿é—®æœåŠ¡ã€‚</p>
<p><a href="http://127.0.0.1:7007/swagger/index.html" target="_blank" rel="noopener noreferrer">http://127.0.0.1:7007/swagger/index.html</a></p>
<h2>æ–¹å¼äºŒ.Docker æ‰“åŒ…å¹¶éƒ¨ç½²</h2>
<ul>
<li>æ­¤æ–¹æ³•å¿…é¡»åœ¨æœ¬åœ°å®‰è£…docker</li>
</ul>
<h3>åˆ›å»ºDockerfileæ—¶</h3>
<p>ç›´æ¥ä½¿ç”¨é»˜è®¤åˆ›å»ºçš„æ–‡ä»¶å†…å®¹å³å¯ï¼Œä¸éœ€è¦ä¿®æ”¹ä»»ä½•å†…å®¹</p>
<div class="language-docker line-numbers-mode" data-highlighter="shiki" data-ext="docker" data-title="docker" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#See https://aka.ms/containerfastmode to understand how Visual Studio uses this Dockerfile to build your images for faster debugging.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> mcr.microsoft.com/dotnet/aspnet:7.0 </span><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> base</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF">WORKDIR</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> /app</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF">EXPOSE</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> 80</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF">EXPOSE</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> 443</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> mcr.microsoft.com/dotnet/sdk:7.0 </span><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> build</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF">WORKDIR</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> /src</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF">COPY</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"DevOps.Api/DevOps.Api.csproj"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"DevOps.Api/"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF">RUN</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> dotnet restore </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"DevOps.Api/DevOps.Api.csproj"</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF">COPY</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> . .</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF">WORKDIR</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "/src/DevOps.Api"</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF">RUN</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> dotnet build </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"DevOps.Api.csproj"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> -c Release -o /app/build</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> build </span><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> publish</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF">RUN</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> dotnet publish </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"DevOps.Api.csproj"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> -c Release -o /app/publish /p:UseAppHost=false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> base </span><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> final</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF">WORKDIR</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> /app</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF">COPY</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> --from=publish /app/publish .</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#61AFEF">ENTRYPOINT</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"dotnet"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"DevOps.Api.dll"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>ä¸Šä¼ è‡³é˜¿é‡Œäº‘</h3>
<p>å…ˆç™»å½•</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#ç™»å½•</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> login</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --username=[è´¦å·]</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> registry.cn-hangzhou.aliyuncs.com</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#å¯†ç </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#è¾“å…¥å¯†ç  xxxxx</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#æˆ–ä½¿ç”¨æ­¤å‘½ä»¤</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> [å¯†ç ]</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> login</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --username=[è´¦å·]</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> registry.cn-hangzhou.aliyuncs.com</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --password-stdin</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰“åŒ…å¹¶æ¨åˆ°é˜¿é‡Œäº‘é•œåƒ</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#è¿›å…¥é¡¹ç›®æ ¹ç›®å½•</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> e:/code/devops</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#build é•œåƒ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> DevOps.Api/Dockerfile</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">  -t</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> devops_api</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> .</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#æ‰“åŒ…tag</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> tag</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> devops_api</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> registry.cn-hangzhou.aliyuncs.com/igeekfan/devops_api</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#æ¨é€é˜¿é‡Œäº‘</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> push</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> registry.cn-hangzhou.aliyuncs.com/igeekfan/devops_api</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>å¯åŠ¨æœåŠ¡</h3>
<p>(æœåŠ¡å™¨ä¸Šå¿…é¡»å®‰è£…dockerã€åœ¨linuxæœåŠ¡å™¨ä¸Šæ‰§è¡Œ)</p>
<h3>ç™»å½•é˜¿é‡Œå®¹å™¨é•œåƒ</h3>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> [å¯†ç ]</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> login</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --username=[è´¦å·]</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> registry.cn-hangzhou.aliyuncs.com</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --password-stdin</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h3>åˆ¤æ–­æ˜¯å¦å­˜åœ¨å®¹å™¨ï¼ˆé•œåƒï¼‰ï¼Œå¦‚æœå­˜åœ¨åˆ™åˆ é™¤</h3>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#åˆ¤æ–­æ˜¯å¦å­˜åœ¨-devops_apiå®¹å™¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> ps</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> devops_api</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> &amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> /dev/null</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™Remove</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> [ </span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B">$?</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> -ne</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> ]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "devops_api container not exist continue.. "</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">else</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "remove devops_api container"</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">    docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> rm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> devops_api</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -f</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">fi</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> images</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> registry.cn-hangzhou.aliyuncs.com/igeekfan/devops_api</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> &amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> /dev/null</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#å¦‚æœä¸å­˜åœ¨ï¼Œä¸åšæ“ä½œ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> [ </span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B">$?</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> -ne</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> ]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "image does not exist , continue..."</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">else</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "image exists !!! remove it"</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">    docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> rmi</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --force</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> registry.cn-hangzhou.aliyuncs.com/igeekfan/devops_api</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">fi</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>æ‹‰å–é•œåƒ</h3>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> registry.cn-hangzhou.aliyuncs.com/igeekfan/devops_api:latest</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h3>æ–¹å¼1.ç›´æ¥å¯åŠ¨</h3>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --restart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> unless-stopped</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 5015:80</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">  --privileged=true</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">devops_api</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> registry.cn-hangzhou.aliyuncs.com/igeekfan/devops_api</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><h3>æ–¹å¼2.ä½¿ç”¨æ˜ å°„ç›®å½•å¯åŠ¨</h3>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /var/www/devops_api/wwwroot</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --restart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> unless-stopped</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 5014:80</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-v </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">/var/www/devops_api/wwwroot:/app/wwwroot:rw</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-v </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">/var/www/devops_api/appsettings.json:/app/appsettings.json</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">--privileged=true </span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">--name </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">devops_api</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-d </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">registry.cn-hangzhou.aliyuncs.com/igeekfan/devops_api</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>æºç </h2>
<p><a href="https://github.com/luoyunchong/devops" target="_blank" rel="noopener noreferrer">luoyunchong/devops: Azure DevOps Pipelines Release Aliyun é˜¿é‡Œäº‘ Docker CI/CD æŒç»­é›†æˆ (github.com)</a></p>
<h2>å‚è€ƒ</h2>
<p><a href="https://www.cnblogs.com/zxtceq/p/7403953.html" target="_blank" rel="noopener noreferrer">ASP.NET Coreå¼€å‘Dockeréƒ¨ç½²</a></p>
]]></content:encoded>
    </item>
    <item>
      <title>Dockeré…ç½® Nginx</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/docker/Docker-Nginx.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/docker/Docker-Nginx.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">Dockeré…ç½® Nginx</source>
      <description>Dockeré…ç½® Nginx æ‹‰å–nginxé•œåƒ å¯åŠ¨nginx ç›´æ¥å¯åŠ¨ä¸€ä¸ªnginxå®¹å™¨ï¼Œç«¯å£æ˜ å°„åˆ°æœ¬åœ°80ç«¯å£ï¼Œç„¶åå°†å®¹å™¨çš„é…ç½®æ–‡ä»¶æ‹·è´åˆ°æœ¬åœ°ï¼Œç„¶ååœæ­¢å¹¶ç§»é™¤å®¹å™¨ï¼Œæœ€åå¯åŠ¨å®¹å™¨å¹¶æŒ‚è½½æœ¬åœ°ç›®å½• å› ä¸ºnginxéœ€è¦ç»å¸¸éœ€è¦å˜æ›´é…ç½®å¹¶éœ€è¦å‘å¸ƒé™æ€æ–‡ä»¶ï¼Œéœ€è¦æœ€å¥½é€šè¿‡æ–‡ä»¶æ˜ å°„å‡ºæ¥ æœ¬åœ°åˆ›å»ºç®¡ç†ç›®å½• copyåˆ°åˆšåˆ›å»ºçš„ç®¡ç†ç›®å½• åœæ­¢å¹¶ç§»é™¤å®¹å™¨ å¯åŠ¨å®¹å™¨å¹¶ç›®å½•...</description>
      <pubDate>Sun, 12 Mar 2023 13:50:00 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>æ‹‰å–nginxé•œåƒ</h2>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> nginx</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h2>å¯åŠ¨nginx</h2>
<p>ç›´æ¥å¯åŠ¨ä¸€ä¸ªnginxå®¹å™¨ï¼Œç«¯å£æ˜ å°„åˆ°æœ¬åœ°80ç«¯å£ï¼Œç„¶åå°†å®¹å™¨çš„é…ç½®æ–‡ä»¶æ‹·è´åˆ°æœ¬åœ°ï¼Œç„¶ååœæ­¢å¹¶ç§»é™¤å®¹å™¨ï¼Œæœ€åå¯åŠ¨å®¹å™¨å¹¶æŒ‚è½½æœ¬åœ°ç›®å½•</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 80:80</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> nginx</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> ps</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>å› ä¸ºnginxéœ€è¦ç»å¸¸éœ€è¦å˜æ›´é…ç½®å¹¶éœ€è¦å‘å¸ƒé™æ€æ–‡ä»¶ï¼Œéœ€è¦æœ€å¥½é€šè¿‡æ–‡ä»¶æ˜ å°„å‡ºæ¥</p>
<h2>æœ¬åœ°åˆ›å»ºç®¡ç†ç›®å½•</h2>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /etc/nginx</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /etc/nginx/www</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /var/www/html</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /etc/nginx/conf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /etc/nginx/logs</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>copyåˆ°åˆšåˆ›å»ºçš„ç®¡ç†ç›®å½•</h2>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> nginx:/etc/nginx/nginx.conf</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /etc/nginx/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> nginx:/etc/nginx/conf.d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /etc/nginx/conf/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> nginx:/usr/share/nginx/html/</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /etc/nginx/www/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> nginx:/var/log/nginx/</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /etc/nginx/logs/</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>åœæ­¢å¹¶ç§»é™¤å®¹å™¨</h2>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> stop</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> nginx</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> rm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> nginx</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><h2>å¯åŠ¨å®¹å™¨å¹¶ç›®å½•æŒ‚è½½</h2>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 80:80</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-v </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">/etc/nginx/nginx.conf:/etc/nginx/nginx.conf</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-v </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">/etc/nginx/www/:/usr/share/nginx/html/</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-v </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">/var/www/html/:/var/www/html/</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-v </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">/etc/nginx/logs/:/var/log/nginx/</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-v </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">/etc/nginx/conf/:/etc/nginx/conf.d</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">--privileged=true </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">-d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> nginx</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li><code>--name</code> å®¹å™¨åç§°</li>
<li><code>-p</code> ç«¯å£æ˜ å°„</li>
<li><code>-v</code> ç›®å½•æ˜ å°„</li>
<li><code>--privileged=true</code> ä»¥rootæƒé™è¿è¡Œ</li>
<li><code>-d</code> åå°è¿è¡Œ</li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>Dockeré…ç½® RabbitMQ</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/docker/Docker-RabbitMQ.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/docker/Docker-RabbitMQ.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">Dockeré…ç½® RabbitMQ</source>
      <description>Dockeré…ç½® RabbitMQ åˆ›å»ºæœ¬åœ°ç›®å½• è¿è¡Œå®¹å™¨ æ˜ å°„è·¯å¾„éœ€è¦åŠ privilegedçš„é…ç½® å‚æ•°è¯´æ˜ -d åå°æ¨¡å¼ -pï¼šè¡¨ç¤ºç«¯å£æ˜ å°„ï¼Œå†’å·å·¦é¢çš„æ˜¯æˆ‘ä»¬çš„æœåŠ¡å™¨çš„ç«¯å£ï¼Œå³ä¾§åˆ™è¡¨ç¤ºçš„æ˜¯å®¹å™¨å†…rabbimtçš„ç«¯å£,å¤šä¸ª -p æ”¯æŒå¤šä¸ªç«¯å£æ˜ å°„ --nameï¼šæŒ‡å®šå®¹å™¨çš„åå­—ï¼ˆéå¿…å¡«ï¼‰ --hostname è‡ªå®šä¹‰Dockerå®¹å™¨çš„ hostnam...</description>
      <pubDate>Sun, 12 Mar 2023 13:50:00 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>åˆ›å»ºæœ¬åœ°ç›®å½•</h2>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /usr/local/rabbitmq/1/lib</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /usr/local/rabbitmq/1/log</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -R</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 777</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /usr/local/rabbitmq/1/log</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>è¿è¡Œå®¹å™¨</h2>
<ul>
<li>æ˜ å°„è·¯å¾„éœ€è¦åŠ privilegedçš„é…ç½®</li>
</ul>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">--hostname </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">rabbitmq</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">--name </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">rabbitmq</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-p </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">15672:15672</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-p </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">5672:5672</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-e </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">RABBITMQ_DEFAULT_USER=admin</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-e </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">RABBITMQ_DEFAULT_PASS=123qwe</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-e </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">RABBITMQ_ERLANG_COOKIE='rabbitmq_cookie'</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">--privileged=true </span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-v </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">/usr/local/rabbitmq/1/lib:/var/lib/rabbitmq</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-v </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">/usr/local/rabbitmq/1/log:/var/log/rabbitmq</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">rabbitmq:management</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>å‚æ•°è¯´æ˜</h2>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">-i:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> äº¤äº’å¼æ“ä½œ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">-t:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> ç»ˆç«¯</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">-d:å‚æ•°é»˜è®¤ä¸ä¼šè¿›å…¥å®¹å™¨</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li><code>-d</code> åå°æ¨¡å¼</li>
<li><code>-p</code>ï¼šè¡¨ç¤ºç«¯å£æ˜ å°„ï¼Œå†’å·å·¦é¢çš„æ˜¯æˆ‘ä»¬çš„æœåŠ¡å™¨çš„ç«¯å£ï¼Œå³ä¾§åˆ™è¡¨ç¤ºçš„æ˜¯å®¹å™¨å†…rabbimtçš„ç«¯å£,å¤šä¸ª <code>-p</code> æ”¯æŒå¤šä¸ªç«¯å£æ˜ å°„</li>
<li><code>--name</code>ï¼šæŒ‡å®šå®¹å™¨çš„åå­—ï¼ˆéå¿…å¡«ï¼‰</li>
<li><code>--hostname</code> è‡ªå®šä¹‰Dockerå®¹å™¨çš„ hostname</li>
<li><code>--privileged=true</code> ä½¿ç”¨è¯¥å‚æ•°ï¼Œcontainerå†…çš„rootæ‹¥æœ‰çœŸæ­£çš„rootæƒé™ï¼Œå¦åˆ™å®¹å™¨å‡ºç°permission denied</li>
<li><code>-v</code> <strong><strong>Volumes å·</strong></strong></li>
</ul>
<p>æ‰“å¼€ç½‘ç«™</p>
<ul>
<li><code>http://localhost:15672</code></li>
<li>è´¦å·ï¼šadmin</li>
<li>å¯†ç  123qwe</li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>C#å§”æ‰˜çš„ä»‹ç»</title>
      <link>https://igeekfan.cn/igeekfan-docs/blogs/delegate.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/blogs/delegate.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">C#å§”æ‰˜çš„ä»‹ç»</source>
      <description>C#å§”æ‰˜çš„ä»‹ç» C#å§”æ‰˜çš„ä»‹ç»(delegateã€Actionã€Funcã€predicate) å§”æ‰˜æ˜¯ä¸€ä¸ªç±»ï¼Œå®ƒå®šä¹‰äº†æ–¹æ³•çš„ç±»å‹ï¼Œä½¿å¾—å¯ä»¥å°†æ–¹æ³•å½“ä½œå¦ä¸€ä¸ªæ–¹æ³•çš„å‚æ•°æ¥è¿›è¡Œä¼ é€’ã€‚äº‹ä»¶æ˜¯ä¸€ç§ç‰¹æ®Šçš„å§”æ‰˜ã€‚ ç±»ä¼¼ c++çš„å‡½æ•°æŒ‡é’ˆï¼Œä½†æ˜¯ä»–æ˜¯ç±»å‹å®‰å…¨çš„ï¼Œ å…è®¸å°†æ–¹æ³•ä½œä¸ºå‚æ•°ä¼ é€’ã€‚ å¯ç”¨äºå®šä¹‰å›è°ƒæ–¹æ³•ã€‚ å§”æ‰˜å¯ä»¥é“¾æ¥åœ¨ä¸€èµ·ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥å¯¹ä¸€ä¸ªäº‹ä»¶è°ƒç”¨å¤šä¸ªæ–¹æ³•ã€‚ de...</description>
      <pubDate>Mon, 01 Aug 2022 13:27:15 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>C#å§”æ‰˜çš„ä»‹ç»(delegateã€Actionã€Funcã€predicate)</h2>
<p>å§”æ‰˜æ˜¯ä¸€ä¸ªç±»ï¼Œå®ƒå®šä¹‰äº†æ–¹æ³•çš„ç±»å‹ï¼Œä½¿å¾—å¯ä»¥å°†æ–¹æ³•å½“ä½œå¦ä¸€ä¸ªæ–¹æ³•çš„å‚æ•°æ¥è¿›è¡Œä¼ é€’ã€‚äº‹ä»¶æ˜¯ä¸€ç§ç‰¹æ®Šçš„å§”æ‰˜ã€‚</p>
<p>ç±»ä¼¼ c++çš„å‡½æ•°æŒ‡é’ˆï¼Œä½†æ˜¯ä»–æ˜¯ç±»å‹å®‰å…¨çš„ï¼Œ</p>
<ol>
<li>å…è®¸å°†æ–¹æ³•ä½œä¸ºå‚æ•°ä¼ é€’ã€‚</li>
<li>å¯ç”¨äºå®šä¹‰å›è°ƒæ–¹æ³•ã€‚</li>
<li>å§”æ‰˜å¯ä»¥é“¾æ¥åœ¨ä¸€èµ·ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥å¯¹ä¸€ä¸ªäº‹ä»¶è°ƒç”¨å¤šä¸ªæ–¹æ³•ã€‚</li>
</ol>
<h2>delegate</h2>
<p>å§”æ‰˜çš„å…³é”®å­—æ˜¯ <strong>delegate</strong>,ä¸€ä¸ªå§”æ‰˜ç›¸å½“äºä¸€ä¸ªæ–°çš„ç±»ï¼Œå¯ä½¿ç”¨è®¿é—®ä¿®é¥°ç¬¦ publicã€privateã€protected ç­‰ï¼Œä½œç”¨åŸŸåŒç±»çš„ä¿®é¥°ç¬¦.</p>
<p>å®šä¹‰äº†å§”æ‰˜ç±»å‹ä¸å‚æ•°,ä½¿å¾—å¯ä»¥å°†æ–¹æ³•å½“ä½œå¦ä¸€ä¸ªæ–¹æ³•å‚æ•°æ¥ä¼ é€’ã€‚äº‹ä»¶æ˜¯ä¸€ç§ç‰¹æ®Šçš„å§”æ‰˜ã€‚</p>
<p>Delegate è‡³å°‘ 0 ä¸ªå‚æ•°ï¼Œè‡³å¤š 32 ä¸ªå‚æ•°ï¼Œå¯ä»¥æ— è¿”å›å€¼ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šè¿”å›å€¼ç±»å‹ã€‚</p>
<p>å®šä¹‰ä¸€ä¸ªå§”æ‰˜ï¼Œæœ‰äºŒä¸ªå‚æ•°ï¼Œå¹¶è¿”å› Int ç±»å‹çš„å€¼ã€‚</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    delegate</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> CalculateMethodInvoker</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> b</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>å®šä¹‰æ–¹æ³•,æ–¹æ³•å‚æ•°ä¸è¿”å›å€¼ä¸å§”æ‰˜ä¿æŒä¸€è‡´</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> CalculateHelper</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Sum</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> x</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> y</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> x</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> y</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Multiply</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> x</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> y</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> x</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> y</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è°ƒç”¨</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Program</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    static</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Main</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">args</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">        CalculateMethodInvoker</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> calculateSumInvoker</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> CalculateHelper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Sum</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">        CalculateMethodInvoker</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> calculateSumInvoker2</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> CalculateMethodInvoker</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CalculateHelper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Sum</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//å®ä¾‹åŒ–ä¸€ä¸ªå§”æ‰˜</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">        CalculateMethodInvoker</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> calculateMultiplyInvoker</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> CalculateHelper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Multiply</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> x</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 20</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">y</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> addResult</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> calculateSumInvoker</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">x</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">y</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> addResult2</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> calculateSumInvoker2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">x</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">y</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> invokeResult</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> calculateSumInvoker</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Invoke</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">x</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">y</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        Console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">$"x,yç›¸åŠ ï¼Œå¾—åˆ°{</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">addResult</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">},{</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">addResult2</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">},{</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">invokeResult</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">}"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        Console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">$"x,yç›¸ä¹˜ï¼Œå¾—åˆ°{</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">calculateMultiplyInvoker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">x</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">,</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">y</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">)}"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        Console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ReadKey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸€ä¸ªå§”æ‰˜å¯ä»¥å°†å¤šä¸ªæ–¹æ³•é“¾æ¥åœ¨ä¸€èµ·ã€‚ä¹Ÿå¯ä»¥ç§»é™¤æŸä¸ªæ–¹æ³•</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> ContactDelegate</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">    CalculateMethodInvoker</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> calculateInvoker</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> CalculateHelper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Sum</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">    calculateInvoker</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> +=</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> CalculateHelper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Multiply</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> r1</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> calculateInvoker</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">10</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">20</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    Console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">$"ContactDelegate:{</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">r1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">}"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">    calculateInvoker</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> -=</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> CalculateHelper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Multiply</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> r2</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> calculateInvoker</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">10</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">20</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    Console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">$"ContactDelegate:{</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">r2</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">}"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>Action</h2>
<p>Action æ˜¯æ— è¿”å›å€¼çš„æ³›å‹å§”æ‰˜ã€‚ç‰¹ç‚¹æ˜¯ï¼šè‡³å°‘ 0 ä¸ªå‚æ•°ï¼Œè‡³å¤š 16 ä¸ªå‚æ•°ï¼Œæ— è¿”å›å€¼ã€‚</p>
<ol>
<li>è°ƒç”¨æ–¹æ³•ã€å¯ä»¥ä¼ å…¥å‚æ•°</li>
</ol>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> ActionParams</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">    Action</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">action</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Action</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">Sum</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">    action</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Sum</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> x</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> y</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    Console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">$"x+y={</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">x</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> y</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">}"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2">
<li>ä½¿ç”¨ lambda è¡¨è¾¾å¼</li>
</ol>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> ActionLambda</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">    Action</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">action</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">x</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">y</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">=&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        Console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">$"x+y={</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">x</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> y</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">}"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    };</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">    action</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>Func</h2>
<p>Func æ˜¯æœ‰è¿”å›å€¼çš„æ³›å‹å§”æ‰˜ï¼ŒFunc ç‰¹ç‚¹ï¼šè‡³å°‘ 0 ä¸ªå‚æ•°ï¼Œè‡³å¤š 16 ä¸ªå‚æ•°ï¼Œæ ¹æ®è¿”å›å€¼æ³›å‹è¿”å›ã€‚å¿…é¡»æœ‰è¿”å›å€¼ï¼Œä¸å¯ void</p>
<p><code>Func&lt;int</code>&gt; è¡¨ç¤ºæ— å‚ï¼Œè¿”å›å€¼ä¸º int çš„å§”æ‰˜</p>
<p><code>Func&lt;int, int, string&gt;</code> è¡¨ç¤ºä¼ å…¥å‚æ•°ä¸º int, intã€‚ è¿”å›å€¼ä¸º string çš„å§”æ‰˜</p>
<p>1.è°ƒç”¨æ–¹æ³•ï¼Œä¼ å…¥å‚æ•°</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> FuncMethod</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">    Func</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">fc1</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Func</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CalculateHelper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Sum</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> fc1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//è°ƒç”¨å§”æ‰˜</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    Console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">result</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.ä½¿ç”¨ lambda</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> FuncLambda</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">    Func</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">fc</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">x</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">y</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">return</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">x</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> y</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToString</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(); };</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> r</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> fc</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    Console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">r</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>Predicate</h2>
<p>predicate æ˜¯è¿”å› bool å‹çš„æ³›å‹å§”æ‰˜</p>
<p><code>predicate&lt;int&gt;</code> è¡¨ç¤ºä¼ å…¥å‚æ•°ä¸º int è¿”å› bool çš„å§”æ‰˜</p>
<p>Predicate æœ‰ä¸”åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œè¿”å›å€¼å›ºå®šä¸º bool</p>
<p>1ã€ä½¿ç”¨å•è¡Œ lambda,å¸¦æ‹¬å·çš„ lambdaï¼ˆå¯å¤šè¡Œä»£ç ï¼‰ï¼Œç‹¬ç«‹çš„æ–¹æ³•ã€‚éƒ½è¿”å› bool ç±»å‹çš„å€¼ã€‚</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> PredicateBoolean</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">    Point</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">points</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">                new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">100</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">200</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">),</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">                new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">150</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">250</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">),</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">                new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">250</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">375</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">),</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">                new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">275</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">395</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">),</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">                new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Point</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">295</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">450</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            };</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">    Predicate</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Point</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">predicate1</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> p</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> p</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">X</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> p</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Y</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> &gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 100000</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">    Predicate</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Point</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">predicate2</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> p</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">p</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">X</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> p</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Y</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> &gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 100000</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            return</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        else</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            return</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    };</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">    Point</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> first</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> Array</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Find</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">points</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">ProductGT10</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">    Point</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> p1</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> Array</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Find</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">points</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">predicate1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">    Point</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> p2</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> Array</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Find</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">points</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">predicate2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    Console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Found: X = {0}, Y = {1}"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">first</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">X</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">first</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Y</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    Console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Found: X = {0}, Y = {1}"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">p1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">X</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">p1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Y</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    Console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Found: X = {0}, Y = {1}"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">p2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">X</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">p2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Y</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    Console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ReadKey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">private</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> bool</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> ProductGT10</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Point</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> p</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">p</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">X</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> p</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Y</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> &gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 100000</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    else</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Array.Find æ–¹æ³•ï¼Œä½¿ç”¨ Predicate å§”æ‰˜æœç´¢ Point ç»“æ„çš„æ•°ç»„ï¼Œåªæœ‰æ˜¯ x å’Œ y å­—æ®µçš„ä¹˜ç§¯å¤§äº 100000,æ–¹æ³• ProductGT10 è¿”å› true,æ‰¾åˆ°ç¬¦åˆè¦æ±‚çš„å…ƒç´ ååœæ­¢ã€‚</p>
<h2>äº‹ä»¶</h2>
<p><strong>äº‹ä»¶è‡ªèº«å°±æ˜¯å§”æ‰˜ç±»å‹</strong>ï¼Œç”±äºå§”æ‰˜å¯ä»¥ç»‘å®šè°ƒç”¨å¤šä¸ªæ–¹æ³•ï¼Œè¿™ä¼šç»™äº‹ä»¶çš„å¤„ç†å¸¦æ¥æ–¹ä¾¿ ã€‚ç±»åªéœ€è¦å¯¹å¤–å…¬å¼€äº‹ä»¶ï¼Œå°±å¯ä»¥ä¸å¤–éƒ¨çš„å…¶ä»–åœ°æ–¹å…³è”ï¼Œä»è€Œå®ç°äº‹ä»¶è®¢é˜…ã€‚</p>
<p>1.ç”±äºä¸åŒçš„äº‹ä»¶è¦ä¼ é€’çš„å‚æ•°ä¸åŒï¼Œæˆ‘ä»¬é€šè¿‡ç»§æ‰¿ EventArgsï¼Œ</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> KeyPressEventArgs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">EventArgs</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> ConsoleKey</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> PressdKey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">private</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> KeyPressEventArgs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ConsoleKey</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> consoleKey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">PressdKey</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> consoleKey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.å¸¦æœ‰æ³›å‹å‚æ•°çš„äº‹ä»¶å¤„ç†å§”æ‰˜ã€‚</p>
<p>ç³»ç»Ÿå‡½æ•°å†…ç½®å¦‚ä¸‹å§”æ‰˜</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> delegate</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> EventHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">TEventArgs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">object</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> sender</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">TEventArgs</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> e</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);   </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">TEventArgs</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> æ˜¯ä¸€ä¸ªæ³›å‹å‚æ•°</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> App</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> event</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> EventHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">KeyPressEventArgs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF">KeyPressed</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    protected</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> virtual</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> OnSpaceKeyPressed</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">KeyPressEventArgs</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> e</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        KeyPressed</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">?</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Invoke</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B">this</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">e</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> StartRun</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        while</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">true</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">            ConsoleKeyInfo</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> keyInfo</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> Console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ReadKey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">keyInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Key</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> ==</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> ConsoleKey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Spacebar</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">                OnSpaceKeyPressed</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> KeyPressEventArgs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">keyInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Key</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">keyInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Key</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> ==</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> ConsoleKey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Escape</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">                break</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Program</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    static</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Main</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">args</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        Console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"ç©ºæ ¼ï¼šè¾“å…¥å½“å‰æ—¶é—´"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        Console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"ESC:é€€å‡ºç³»ç»Ÿ"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">        App</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> app</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> App</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">KeyPressed</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> +=</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> MyApp_SpaceKeyPressed</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">StartRun</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> MyApp_SpaceKeyPressed</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">object</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> sender</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">KeyPressEventArgs</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> e</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        Console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">$"{</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">DateTime</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Now</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToLongTimeString</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">()}æŒ‰ä¸‹ç©ºæ ¼é”®,{</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">e</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">PressdKey</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToString</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">()}"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>å‚è€ƒ</h2>
<ul>
<li><a href="https://www.cnblogs.com/akwwl/p/3232679.html" target="_blank" rel="noopener noreferrer">C#å§”æ‰˜çš„ä»‹ç»(delegateã€Actionã€Funcã€predicate)</a></li>
<li><a href="https://www.cnblogs.com/hjxzjp/p/7667536.html" target="_blank" rel="noopener noreferrer">c# å®šä¹‰å§”æ‰˜å’Œä½¿ç”¨å§”æ‰˜ï¼ˆäº‹ä»¶çš„ä½¿ç”¨ï¼‰</a></li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>å¤šä¸ª IFreeSqlå®ä¾‹ï¼Œå¦‚ä½•æ³¨å…¥ä½¿ç”¨</title>
      <link>https://igeekfan.cn/igeekfan-docs/blogs/idlebus-freesql.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/blogs/idlebus-freesql.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">å¤šä¸ª IFreeSqlå®ä¾‹ï¼Œå¦‚ä½•æ³¨å…¥ä½¿ç”¨</source>
      <description>å¤šä¸ª IFreeSqlå®ä¾‹ï¼Œå¦‚ä½•æ³¨å…¥ä½¿ç”¨ å¤šåº“åˆ‡æ¢ï¼ŒåŠ¨æ€åˆ‡åº“ï¼ŒåŠ¨æ€æ³¨å†Œæ•°æ®åº“ ä¸€ã€å®šä¹‰å¤šä¸ª IFreeSql è¯¥æ–¹æ³•é€‚ç”¨äºå›ºå®šæ•°æ®åº“ï¼Œå›ºå®šé…ç½®é¡¹ 1ã€å®šä¹‰ä¸¤ä¸ªæ ‡è¯†ç±»ï¼š 2ã€åœ¨ Startup.cs ä¸­å•ä¾‹æ³¨å…¥ 3ã€åœ¨ Controller ä¸­ä½¿ç”¨ äºŒã€åˆ©ç”¨ IdleBus é‡å†™ IFreeSql åœ¨ asp.net core åˆ©ç”¨ IdleBus é‡å†™...</description>
      <pubDate>Mon, 01 Aug 2022 13:27:15 GMT</pubDate>
      <content:encoded><![CDATA[
<p>å¤šåº“åˆ‡æ¢ï¼ŒåŠ¨æ€åˆ‡åº“ï¼ŒåŠ¨æ€æ³¨å†Œæ•°æ®åº“</p>
<h2>ä¸€ã€å®šä¹‰å¤šä¸ª IFreeSql</h2>
<p>è¯¥æ–¹æ³•é€‚ç”¨äºå›ºå®šæ•°æ®åº“ï¼Œå›ºå®šé…ç½®é¡¹</p>
<p>1ã€å®šä¹‰ä¸¤ä¸ªæ ‡è¯†ç±»ï¼š</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> MySqlFlag</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> {}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> SqlServerFlag</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> {}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>2ã€åœ¨ Startup.cs ä¸­å•ä¾‹æ³¨å…¥</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> ConfigureServices</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IServiceCollection</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> fsql1</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> FreeSqlBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseConnectionString</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">DataType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">MySql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"str1"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Build</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">MySqlFlag</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> fsql2</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> FreeSqlBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseConnectionString</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">DataType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">MySql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"str1"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Build</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">SqlServerFlag</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddSingleton</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">MySqlFlag</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;&gt;(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">fsql1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddSingleton</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">SqlServerFlag</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;&gt;(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">fsql2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3ã€åœ¨ Controller ä¸­ä½¿ç”¨</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Route</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"api/[controller]"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ApiController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> ValuesController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ControllerBase</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> ValuesController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">MySqlFlag</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">mysql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">SqlServerFlag</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">sqlserver</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>äºŒã€åˆ©ç”¨ IdleBus é‡å†™ IFreeSql</h2>
<p>åœ¨ <a href="http://asp.net" target="_blank" rel="noopener noreferrer">asp.net</a> core åˆ©ç”¨ IdleBus é‡å†™ IFreeSql æ”¯æŒå¤šåº“æ“ä½œï¼Œæ”¯æŒå¤šåº“åŠ¨æ€é…ç½®</p>
<div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" data-title="xml" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">ItemGroup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">PackageReference</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66"> Include</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"FreeSql"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66"> Version</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"3.2.664"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">PackageReference</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66"> Include</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"IdleBus"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66"> Version</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"1.5.2"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">PackageReference</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66"> Include</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"FreeSql.Provider.Sqlite"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66"> Version</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"3.2.664"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">ItemGroup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>1ã€MultiFreeSql.cs ä»£ç å®šä¹‰</h3>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> System</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> System</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Threading</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Internal</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Internal</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">CommonProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> FreeSql</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> MultiFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">MultiFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> MultiFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">TimeSpan</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> timeSpan</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B">base</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">timeSpan</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> MultiFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IdleBus</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">idleBus</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B">base</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">idleBus</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> MultiFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">TDBKey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">BaseDbProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IFreeSql</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        internal</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> TDBKey</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> _dbkeyMaster</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        internal</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> AsyncLocal</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">TDBKey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">_dbkeyCurrent</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> AsyncLocal</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">TDBKey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">        BaseDbProvider</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> _ormMaster</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _ib</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">_dbkeyMaster</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> BaseDbProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">        BaseDbProvider</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> _ormCurrent</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _ib</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Equals</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">_dbkeyCurrent</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">default</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">TDBKey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)) </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">?</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> _dbkeyMaster</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">_dbkeyCurrent</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> BaseDbProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        internal</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IdleBus</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">TDBKey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">_ib</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> MultiFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">TimeSpan</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> timeSpan</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">            _ib</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IdleBus</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">TDBKey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">timeSpan</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            _ib</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Notice</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> +=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">_</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">__</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> MultiFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IdleBus</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">TDBKey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">idleBus</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">            _ib</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> idleBus</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> override</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IAdo</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> Ado</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _ormCurrent</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Ado</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> override</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IAop</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> Aop</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _ormCurrent</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Aop</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> override</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> ICodeFirst</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> CodeFirst</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _ormCurrent</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CodeFirst</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> override</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IDbFirst</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> DbFirst</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _ormCurrent</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">DbFirst</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> override</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> GlobalFilter</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> GlobalFilter</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _ormCurrent</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">GlobalFilter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> override</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Dispose</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _ib</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Dispose</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> override</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> CommonExpression</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> InternalCommonExpression</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _ormCurrent</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">InternalCommonExpression</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> override</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> CommonUtils</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> InternalCommonUtils</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _ormCurrent</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">InternalCommonUtils</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> override</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> ISelect</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">T1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">CreateSelectProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">T1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">object</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> dywhere</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _ormCurrent</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">CreateSelectProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">T1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">dywhere</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> override</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IDelete</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">T1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">CreateDeleteProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">T1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">object</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> dywhere</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _ormCurrent</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">CreateDeleteProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">T1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">dywhere</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> override</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IUpdate</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">T1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">CreateUpdateProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">T1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">object</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> dywhere</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _ormCurrent</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">CreateUpdateProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">T1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">dywhere</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> override</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IInsert</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">T1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">CreateInsertProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">T1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;() </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _ormCurrent</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">CreateInsertProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">T1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> override</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IInsertOrUpdate</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">T1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">CreateInsertOrUpdateProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">T1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;() </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _ormCurrent</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">CreateInsertOrUpdateProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">T1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰€ä»¥ MultiFreeSql æ”¯æŒå¤–éƒ¨å®šä¹‰IdleBus,ç”¨äºé…ç½® Idlebusçš„Noticeäº‹ä»¶</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> //å¯ä¼ é€’IdleBus</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">    IdleBus</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> idlebus</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">  =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IdleBus</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">TimeSpan</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">FromHours</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    idlebus</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Notice</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> +=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">_</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">__</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { };</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">    IFreeSql</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> fsql</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> MultiFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">idlebus</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>2ã€MultiFreeSqlExtensions</h3>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> System</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> FreeSql</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> MultiFreeSqlExtensions</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IFreeSql</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> ChangeDatabaseByKey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">TDBKey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">this</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IFreeSql</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">TDBKey</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> dbkey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> multiFsql</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> fsql</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> MultiFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">TDBKey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">multiFsql</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> ==</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Exception</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"fsql ç±»å‹ä¸æ˜¯ MultiFreeSql&lt;TDBKey&gt;"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            multiFsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">_dbkeyCurrent</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Value</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> dbkey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> multiFsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IDisposable</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Change</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">TDBKey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">this</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IFreeSql</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">TDBKey</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> dbkey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> multiFsql</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> fsql</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> MultiFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">TDBKey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">multiFsql</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> ==</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Exception</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"fsql ç±»å‹ä¸æ˜¯ MultiFreeSql&lt;TDBKey&gt;"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> olddbkey</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> multiFsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">_dbkeyCurrent</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            multiFsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ChangeDatabaseByKey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">dbkey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            return</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> DBChangeDisposable</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> multiFsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ChangeDatabaseByKey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">olddbkey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IFreeSql</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Register</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">TDBKey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">this</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IFreeSql</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">TDBKey</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> dbkey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Func</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">create</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> multiFsql</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> fsql</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> MultiFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">TDBKey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">multiFsql</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> ==</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Exception</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"fsql ç±»å‹ä¸æ˜¯ MultiFreeSql&lt;TDBKey&gt;"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">multiFsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">_ib</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">TryRegister</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">dbkey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">create</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">                if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">multiFsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">_ib</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetKeys</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">().</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Length</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> ==</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">                    multiFsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">_dbkeyMaster</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> dbkey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> multiFsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> DBChangeDisposable</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IDisposable</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">        Action</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> _cancel</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> DBChangeDisposable</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Action</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> cancel</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> _cancel</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> cancel</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Dispose</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _cancel</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">?</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Invoke</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>3ã€å®šä¹‰å’Œæ³¨å…¥,å…¶ä¸­MultiFreeSql.cs</h3>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IServiceCollection</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> AddMultiFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">this</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IServiceCollection</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> fsql</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> MultiFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">TimeSpan</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">FromHours</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Register</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"db1"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">    new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> FreeSqlBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseAutoSyncStructure</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">true</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseConnectionString</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">DataType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Sqlite</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Data Source=|DataDirectory|</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">SampleApp1.db;"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Build</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Register</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"db2"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">    new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> FreeSqlBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseAutoSyncStructure</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">true</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseConnectionString</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">DataType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Sqlite</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Data Source=|DataDirectory|</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">SampleApp2.db;"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Build</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    );</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddSingleton</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>4ã€å¦‚ä½•ä½¿ç”¨</h3>
<blockquote>
<p>é¢å¤–å¢åŠ  Register/Change ä¸¤ä¸ªæ‰©å±•æ–¹æ³•ï¼Œå…¶ä»–è·Ÿ IFreeSql ç”¨æ³•å‡ ä¹ä¸€æ ·</p>
</blockquote>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//æŸ¥db1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> db1_list</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToList</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//åˆ‡æ¢ db2 æ•°æ®åº“ï¼Œä¸€æ—¦åˆ‡æ¢ä¹‹å fsql æ“ä½œéƒ½æ˜¯é’ˆå¯¹ db2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Change</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"db2"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> db2_list</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToList</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Change</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"db1"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //æŸ¥è¯¢ db1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> b3</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToList</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //æ’å…¥åˆ° db1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Insert</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> T</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{ </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">UserName</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "db1"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> }).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ExecuteAffrows</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//è¿˜æ˜¯æŸ¥db2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> db2</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">T</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToList</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¤ºä¾‹</p>
<ul>
<li>å®šä¹‰SysUser</li>
</ul>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> SysUser</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Column</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF">IsPrimary</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF">IsIdentity</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> Id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> UserName</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>åˆ›å»ºHomeController</li>
</ul>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">private</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> readonly</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IFreeSql</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> HomeController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">( </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">IFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">    _fsql</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è·å–db1,db2çš„æ•°æ®åº“ä¿¡æ¯ï¼Œæ’å…¥db1,db2æ•°æ®</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/// è·å–db1,db2ï¼Œæ’å…¥db1,db2</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">returns</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">returns</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpGet</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"get1"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IEnumerable</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">SysUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Get1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //æŸ¥è¯¢ db1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> b0</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">SysUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToList</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> b1</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Change</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"db2"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //æŸ¥è¯¢ db2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> b2</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">SysUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToList</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //æ’å…¥åˆ° db2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> c0</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Insert</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> SysUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">UserName</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "db2"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> }).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ExecuteAffrows</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    using</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">_fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Change</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"db1"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        //æŸ¥è¯¢ db1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> b3</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">SysUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToList</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        //æ’å…¥åˆ° db1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Insert</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> SysUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">UserName</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "db1"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> }).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ExecuteAffrows</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //æŸ¥è¯¢ db2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> db2</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">SysUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToList</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Change</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"db2"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> db2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>é»˜è®¤ä»ç¬¬ä¸€ä¸ªæ•°æ®åº“ä¸­è·å–</li>
</ul>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpGet</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"getdb1"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IEnumerable</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">SysUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetDB1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //æŸ¥è¯¢ db1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> b0</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">SysUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToList</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> b0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>æ³¨å†Œç¬¬3ä¸ªæ•°æ®åº“</li>
</ul>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpGet</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"register"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Register</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Register</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"db3"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">=&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> FreeSqlBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseAutoSyncStructure</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">true</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseMonitorCommand</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">        cmd</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> Trace</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\r\n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">çº¿ç¨‹"</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> Thread</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CurrentThread</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">ManagedThreadId</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> +</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> ": "</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> cmd</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CommandText</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseConnectionString</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">DataType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Sqlite</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Data Source=|DataDirectory|</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">SampleApp3.db;"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Build</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>æ ¹æ®dbname changeï¼Œä½†åªå¯¹æœ¬æ¬¡è¯·æ±‚æœ‰æ•ˆ</li>
</ul>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpGet</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"change"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Change</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> dbname</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  //ä»…å¯¹æœ¬æ¬¡è¯·æ±‚æœ‰æ•ˆ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">  _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Change</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">dbname</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">  return</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>è·å–DB3ï¼Œåœ¨æœªæ³¨å†Œå‰ï¼Œä¼šæŠ¥é”™</li>
</ul>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpGet</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"getdb3"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IEnumerable</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">SysUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Get3</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Change</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"db3"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //æŸ¥è¯¢ db1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> b0</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">SysUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToList</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> b0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>å¦‚æœéœ€è¦åˆ†å¸ƒå¤šäº‹åŠ¡ TCC/Saga è¯·ç§»æ­¥åˆ°ï¼š<a href="https://github.com/dotnetcore/FreeSql.Cloud" target="_blank" rel="noopener noreferrer">https://github.com/dotnetcore/FreeSql.Cloud</a></p>
</blockquote>
<h2>ä¸‰ã€é™æ€ç±»ç®¡ç†å¤šæ•°æ®åº“ï¼Ÿ</h2>
<p>åŸºäºç¬¬äºŒç§æ–¹æ³• MultiFreeSql å¢åŠ é™æ€ç±»å¦‚ä¸‹ï¼š</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> System</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> FreeSql</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">  public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> StaticDB</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">StaticDB</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; { }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">  public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> abstract</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> StaticDB</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">DBKey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">      protected</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Lazy</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">multiFreeSql</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Lazy</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">=&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> MultiFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">TimeSpan</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">FromHours</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      );</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">      public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IFreeSql</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> Instance</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> multiFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>æ ¹æ®é™æ€ç±»</li>
</ul>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">#</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">region</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 1.é™æ€ç±»çš„æ³¨å†Œæ–¹å¼</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IFreeSql</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> db</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> StaticDB</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Instance</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">db</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Register</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"db1"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">=&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    return</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> FreeSqlBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseAutoSyncStructure</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">true</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseMonitorCommand</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">        cmd</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> Trace</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\r\n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">çº¿ç¨‹"</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> Thread</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CurrentThread</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">ManagedThreadId</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> +</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> ": "</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> cmd</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CommandText</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseConnectionString</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">DataType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Sqlite</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Data Source=|DataDirectory|</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">SampleApp1.db;"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Build</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">db</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Register</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"db2"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">=&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    return</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> FreeSqlBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseAutoSyncStructure</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">true</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseMonitorCommand</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">        cmd</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> Trace</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\r\n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">çº¿ç¨‹"</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> Thread</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CurrentThread</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">ManagedThreadId</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> +</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> ": "</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> cmd</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CommandText</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseConnectionString</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">DataType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Sqlite</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Data Source=|DataDirectory|</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">SampleApp2.db;"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Build</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">#</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">endregion</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>åˆ›å»ºStaticDBControllerï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨é™æ€æ–¹æ³•ï¼Œä¸ä½¿ç”¨DIï¼Œä½†ä½¿ç”¨æ–¹å¼å’Œæ³¨å…¥æ–¹å¼ç›¸åŒ</li>
</ul>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">   private</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> readonly</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IFreeSql</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> _fsql</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> StaticDB</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Instance</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// è·å–db1,db2ï¼Œæ’å…¥db1,db2</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">returns</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">returns</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpGet</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"get1"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IEnumerable</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">SysUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Get1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        //æŸ¥è¯¢ db1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> b0</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">SysUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToList</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> b1</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Change</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"db2"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        //æŸ¥è¯¢ db2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> b2</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">SysUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToList</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        //æ’å…¥åˆ° db2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> c0</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Insert</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> SysUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">UserName</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "db2"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> }).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ExecuteAffrows</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        using</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">_fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Change</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"db1"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            //æŸ¥è¯¢ db1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> b3</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">SysUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToList</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            //æ’å…¥åˆ° db1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Insert</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> SysUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">UserName</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "db1"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> }).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ExecuteAffrows</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        //æŸ¥è¯¢ db2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> db2</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">SysUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToList</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Change</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"db2"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> db2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>å‚è€ƒ</h2>
<p><a href="https://github.com/luoyunchong/SampleApp/blob/master/SampleApi/Controllers/HomeController.cs" target="_blank" rel="noopener noreferrer">SampleApp/HomeController.cs at master Â· luoyunchong/SampleApp (github.com)</a></p>
<p><a href="https://github.com/luoyunchong/SampleApp/blob/master/SampleCore/MultiFreeSql.cs" target="_blank" rel="noopener noreferrer">SampleApp/MultiFreeSql.cs at master Â· luoyunchong/SampleApp (github.com)</a></p>
<p><a href="https://github.com/dotnetcore/FreeSql/issues/44" target="_blank" rel="noopener noreferrer">å¤šä¸ª IFreeSql å®ä¾‹ï¼Œå¦‚ä½•æ³¨å…¥ä½¿ç”¨ï¼Ÿ Â· Issue #44 Â· dotnetcore/FreeSql (github.com)</a></p>
<blockquote>
<p>ä¸æ­¤æ–‡ç« æœ‰ç‚¹åŒºåˆ«ï¼Œå¢åŠ äº†ä¸€äº›é…ç½®é¡¹å’Œé™æ€æ–¹æ³•çš„ç†è§£ï¼ŒæŠŠ<code>Change</code> ä¸‹æ”¾åˆ°<code>MultiFreeSqlExtensions</code>æ‰©å±•ä¸­ï¼Œä»è€Œä¿æŒç®€å•ï¼Œé™æ€æ–¹æ³•å’ŒDIä¿æŒä¸€è‡´çš„å†™æ³•</p>
</blockquote>
]]></content:encoded>
    </item>
    <item>
      <title>Docker é…ç½® Baget</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/docker/Docker-Baget.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/docker/Docker-Baget.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">Docker é…ç½® Baget</source>
      <description>Docker é…ç½® Baget åˆ›å»ºä¸€ä¸ªåä¸ºbaget.envå­˜å‚¨BaGetçš„é…ç½®ï¼š baget.env æœ‰å…³é…ç½®çš„å®Œæ•´åˆ—è¡¨ï¼Œè¯·å‚é˜…Configuration - BaGet (loic-sharma.github.io)çš„é…ç½®æŒ‡åŒ—ã€‚ Docker åœ¨baget.envåŒç›®å½•åˆ›å»ºä¸€ä¸ªbaget-data çš„ç›®å½• æ‹‰å–bagetæœ€æ–°çš„é•œåƒ è¿è¡ŒBaGet...</description>
      <pubDate>Wed, 29 Jun 2022 19:17:23 GMT</pubDate>
      <content:encoded><![CDATA[
<p>åˆ›å»ºä¸€ä¸ªåä¸ºbaget.envå­˜å‚¨BaGetçš„é…ç½®ï¼š</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /var</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> baget</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /var/baget</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> baget.env</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>baget.env</li>
</ul>
<div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span># ä»¥ä¸‹é…ç½®æ˜¯ç”¨äºå‘å¸ƒåŒ…çš„APIå¯†é’¥,æ‚¨åº”è¯¥å°†å…¶æ›´æ”¹ApiKeyçš„å€¼ä»¥ä¿æŠ¤æœåŠ¡å™¨ã€‚</span></span>
<span class="line"><span>ApiKey=Your-API-Key</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Storage__Type=FileSystem</span></span>
<span class="line"><span>Storage__Path=/var/baget/packages</span></span>
<span class="line"><span>Database__Type=Sqlite</span></span>
<span class="line"><span>Database__ConnectionString=Data Source=/var/baget/baget.db</span></span>
<span class="line"><span>Search__Type=Database</span></span>
<span class="line"><span>Mirror__Enabled=true</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æœ‰å…³é…ç½®çš„å®Œæ•´åˆ—è¡¨ï¼Œè¯·å‚é˜…<a href="https://loic-sharma.github.io/BaGet/configuration/" target="_blank" rel="noopener noreferrer">Configuration - BaGet (loic-sharma.github.io)</a>çš„é…ç½®æŒ‡åŒ—ã€‚</p>
<h2>Docker</h2>
<p>åœ¨baget.envåŒç›®å½•åˆ›å»ºä¸€ä¸ª<code>baget-data</code> çš„ç›®å½•</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> baget-data</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>æ‹‰å–bagetæœ€æ–°çš„é•œåƒ</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> loicsharma/baget</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>è¿è¡ŒBaGet</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /var/baget</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> nuget-server</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --restart=always</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 5555:80</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --env-file</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> baget.env</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -v</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "$(</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">pwd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">)/baget-data:/var/baget"</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> loicsharma/baget:latest</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><h2>å‘å¸ƒåŒ…</h2>
<p>å‘å¸ƒç¬¬ä¸€ä¸ªnugetåŒ…</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> nuget</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> push</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> http://localhost:5555/v3/index.json</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -k</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> Your-API-Key</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">package.1.0.0.nupkg</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>å‘å¸ƒç¬¬ä¸€ä¸ªsymbol  package</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> nuget</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> push</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> http://localhost:5555/v3/index.json</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -k</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> Your-API-Key</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> package.1.0.0.snupkg</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>ç¤ºä¾‹</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> nuget</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> push</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> http://124.70.130.97:5555/v3/index.json</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> src/IGeekFan.Localization.FreeSql/bin/Debug/IGeekFan.Localization.FreeSql.0.0.3.nupkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -k</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> Your-API-Key</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> nuget</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> push</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> http://124.70.130.97:5555/v3/index.json</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> src/IGeekFan.Localization.FreeSql/bin/Debug/IGeekFan.Localization.FreeSql.0.0.3.snupkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -k</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> Your-API-Key</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>è¿˜åŸåŒ…</h2>
<p>ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æºè¿˜åŸåŒ…</p>
<div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>http://localhost:5555/v3/index.json</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>å¯ä»¥é€šè¿‡æ‰“å¼€URLæ¥æµè§ˆåŒ…<a href="http://localhost:5555/" target="_blank" rel="noopener noreferrer">http://localhost:5555/</a>åœ¨æµè§ˆå™¨ä¸­ã€‚</p>
<h2>Symbol server</h2>
<p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ç¬¦å·ä½ç½®åŠ è½½ç¬¦å·ï¼š</p>
<div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>http://localhost:5555/api/download/symbols</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h3><a class="header-anchor" href="#https-loic-sharma-github-io-baget-installation-docker"><span></span></a><a href="https://loic-sharma.github.io/BaGet/installation/docker/" target="_blank" rel="noopener noreferrer">https://loic-sharma.github.io/BaGet/installation/docker/</a></h3>
]]></content:encoded>
    </item>
    <item>
      <title>Dockeréƒ¨ç½²CMSå‘½ä»¤</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/docker/Docker-CMS.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/docker/Docker-CMS.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">Dockeréƒ¨ç½²CMSå‘½ä»¤</source>
      <description>Dockeréƒ¨ç½²CMSå‘½ä»¤ éƒ¨ç½²docker nuget api key</description>
      <pubDate>Wed, 29 Jun 2022 19:17:23 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>éƒ¨ç½²docker</h2>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#åˆ¤æ–­æ˜¯å¦å­˜åœ¨webnotebookå®¹å™¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> ps</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> lincms-web-1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> &amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> /dev/null</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™Remove</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> [ </span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B">$?</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> -ne</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> ]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "lincms-web container not exist continue.. "</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">else</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "remove lincms-web-1 container"</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">    docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> rm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> lincms-web-1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -f</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">fi</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> images</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> registry.cn-hangzhou.aliyuncs.com/igeekfan/lincms-web</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> &amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> /dev/null</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> [ </span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B">$?</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> -ne</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> ]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "image does not exist , continue..."</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">else</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "image exists !!! remove it"</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">    docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> rmi</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --force</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> registry.cn-hangzhou.aliyuncs.com/igeekfan/lincms-web</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">fi</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#ä»é˜¿é‡Œäº‘æ‹‰å–åˆšåˆšpushçš„é•œåƒ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> registry.cn-hangzhou.aliyuncs.com/igeekfan/lincms-web</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --restart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> unless-stopped</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 5011:80</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> lincms-web-1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> registry.cn-hangzhou.aliyuncs.com/igeekfan/lincms-web</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> rm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> lincms-web-2</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -f</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> rm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> lincms-web-3</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -f</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> rm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> lincms-web-4</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -f</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --restart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> unless-stopped</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 5012:80</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> lincms-web-2</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> registry.cn-hangzhou.aliyuncs.com/igeekfan/lincms-web</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --restart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> unless-stopped</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 5020:80</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> lincms-web-3</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> registry.cn-hangzhou.aliyuncs.com/igeekfan/lincms-web</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --restart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> unless-stopped</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 5021:80</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> lincms-web-4</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> registry.cn-hangzhou.aliyuncs.com/igeekfan/lincms-web</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>nuget api key</h2>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Your-API-Key</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">nuget</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> SetApiKey</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> Your-API-Key</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> nuget</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> push</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> IGeekFan.AspNetCore.Knife4jUI.0.0.11.nupkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --api-key</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> Your-API-Key</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --source</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> https://api.nuget.org/v3/index.json</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  //"DefaultConnection": "Data Source=|DataDirectory|\\SampleApp.db;",</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "Sqlite1"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Data Source=d:</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">SampleApp1.db"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "Sqlite2"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Data Source=d:</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">SampleApp2.db"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "Oracle"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"user id=test;password=123qwe; data source=//127.0.0.1:1521/ORCL;Pooling=true;Min Pool Size=1"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "MySql"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Data Source=127.0.0.1;Port=3306;User ID=root;Password=root; Initial Catalog=cccddd;Charset=utf8; SslMode=none;Min pool size=1"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "SqlServer"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Data Source=(localdb)</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">MSSQLLocalDB;Initial Catalog=cccddd;Pooling=true;Min Pool Size=1"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "PostgreSQL"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Host=127.0.0.1;Port=5432;Username=postgres;Password=postgresql; Database=postgres;Pooling=true;Minimum Pool Size=1"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>Docker å‘½ä»¤è¡Œ</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/docker/Docker-Command.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/docker/Docker-Command.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">Docker å‘½ä»¤è¡Œ</source>
      <description>Docker å‘½ä»¤è¡Œ Command-Line Interfaces https://docs.docker.com/engine/reference/run/ æˆ‘ä»¬å¦‚æœæƒ³å°†Docker æ”¾ç½®åˆ°å…¶ä»–æœºå™¨è¿è¡Œï¼Œå¾ˆç®€å•ã€‚ æˆ‘ä»¬å¦‚æœæƒ³å°†Docker æ”¾ç½®åˆ°å…¶ä»–æœºå™¨è¿è¡Œï¼Œå¾ˆç®€å•ã€‚ Dockeråˆ é™¤</description>
      <pubDate>Wed, 29 Jun 2022 19:17:23 GMT</pubDate>
      <content:encoded><![CDATA[
<ul>
<li>Command-Line Interfaces <a href="https://docs.docker.com/engine/reference/run/" title="https://docs.docker.com/engine/reference/run/" target="_blank" rel="noopener noreferrer">https://docs.docker.com/engine/reference/run/</a></li>
</ul>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> images</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  # æŸ¥çœ‹æ‰€æœ‰é•œåƒ</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> ps</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -a</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> #æ˜¾ç¤ºæ‰€æœ‰çš„å®¹å™¨ï¼ŒåŒ…æ‹¬æœªè¿è¡Œçš„ã€‚</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> ps</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -l</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> #æœ€åå¯åŠ¨çš„å®¹å™¨</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> rm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> å®¹å™¨id</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   #åˆ é™¤å®¹å™¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> rm</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> $(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> ps</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -q</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -a</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#ä¸€æ¬¡æ€§åˆ é™¤æ‰€æœ‰çš„å®¹å™¨</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> rmi</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> é•œåƒid/é•œåƒåç§°</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  #åˆ é™¤é•œåƒ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> rmi</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> $(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> images</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -q</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#ä¸€æ¬¡æ€§åˆ é™¤æ‰€æœ‰çš„é•œåƒã€‚</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> igeekfan/demo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> .</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  #è¿è¡Œæ„å»ºå‘½ä»¤,æ„å»ºDocker é•œåƒã€‚ </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> é•œåƒ</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> #è¿è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -it</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 5000:80</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> igeekfan/demo</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#5000æ˜¯è¿è¡Œåï¼Œdockerå¯¹å¤–çš„ç«¯å£ï¼Œ80æ˜¯è¿™ä¸ªæœåŠ¡å¯¹å¤–çš„ç«¯å£ï¼Œå…¶ä¸­Dockerfile å­˜åœ¨è¯­å¥EXPOSE 80</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 5000:80</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> igeekfan/demo</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">-d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> å‚æ•°åå°è¿è¡Œ</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> å®¹å™¨id</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> å®¹å™¨id</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> stop</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> å®¹å™¨id</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> #ç»ˆæ­¢å®¹å™¨ã€‚</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> logs</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> $CONTAINER_ID</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> ##åœ¨containerå¤–é¢æŸ¥çœ‹å®ƒçš„è¾“å‡º </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> attach</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> $CONTAINER_ID</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> ##è¿æ¥ä¸Šå®¹å™¨å®æ—¶æŸ¥çœ‹ï¼š</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> microsoft/dotnet</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  #å•ç‹¬å®‰è£…æŸä¸€é•œåƒ</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> save</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> é•œåƒid</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> æ–‡ä»¶</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> #æŒä¹…åŒ–é•œåƒ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> load</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> æ–‡ä»¶</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬å¦‚æœæƒ³å°†Docker æ”¾ç½®åˆ°å…¶ä»–æœºå™¨è¿è¡Œï¼Œå¾ˆç®€å•ã€‚</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#ç›´æ¥ä¿å­˜é•œåƒï¼Œç„¶åå¤åˆ¶é•œåƒåˆ°å…¶ä»–æœºå™¨ï¼Œç„¶åä½¿ç”¨docker å‘½ä»¤load æ—¢å¯ã€‚</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> save</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> igeekfan/demo</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> demo.tar</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#ç„¶ååŠ è½½å‘½ä»¤</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> load</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> demo.tar</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬å¦‚æœæƒ³å°†Docker æ”¾ç½®åˆ°å…¶ä»–æœºå™¨è¿è¡Œï¼Œå¾ˆç®€å•ã€‚</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#ç›´æ¥ä¿å­˜é•œåƒï¼Œç„¶åå¤åˆ¶é•œåƒåˆ°å…¶ä»–æœºå™¨ï¼Œç„¶åä½¿ç”¨docker å‘½ä»¤load æ—¢å¯ã€‚</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> save</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> igeekfan/demo</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> demo.tar</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#ç„¶ååŠ è½½å‘½ä»¤</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> load</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> demo.tar</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Dockeråˆ é™¤</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># æŸ¥è¯¢ç›¸å…³è½¯ä»¶åŒ…</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">dpkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -l</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> docker</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># åˆ é™¤è¿™ä¸ªåŒ… ä¸Šé¢æŸ¥åˆ°ä»€ä¹ˆï¼Œåˆ é™¤ä»€ä¹ˆ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> remove</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --purge</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> docker.io</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>Docker é…ç½® Jenkins</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/docker/Docker-Jenkins.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/docker/Docker-Jenkins.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">Docker é…ç½® Jenkins</source>
      <description>Docker é…ç½® Jenkins dockerå®‰è£…jenkins - hanease - åšå®¢å›­ (cnblogs.com) é…ç½® Docker é•œåƒ Dockeræ‹‰å–é•œåƒ é…ç½®æœ¬åœ°å­˜å‚¨ç›®å½• å¯åŠ¨Jenkinså®¹å™¨ Docker è¿è¡Œaspnetcoreé¡¹ç›® æ„å»ºé¡¹ç›® IGeekFan.Freekit.Service bashè„šæœ¬ aspnetcor...</description>
      <pubDate>Wed, 29 Jun 2022 19:17:23 GMT</pubDate>
      <content:encoded><![CDATA[
<p><a href="https://www.cnblogs.com/hanease/p/15690225.html" target="_blank" rel="noopener noreferrer">dockerå®‰è£…jenkins - hanease - åšå®¢å›­ (cnblogs.com)</a></p>
<h2>é…ç½® Docker é•œåƒ</h2>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -sSL</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> https://get.daocloud.io/daotools/set_mirror.sh</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> http://f1361db2.m.daocloud.io</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h2>Dockeræ‹‰å–é•œåƒ</h2>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> jenkins/jenkins:lts</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h2>é…ç½®æœ¬åœ°å­˜å‚¨ç›®å½•</h2>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /apps/devops/jenkins</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 777</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /apps/devops/jenkins</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><h3>å¯åŠ¨Jenkinså®¹å™¨</h3>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> stop</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> jenkins</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> rmi</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> jenkins</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> usermod</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -a</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -G</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> root</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 666</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /var/run/docker.sock</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -itd</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 9003:8080</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 9004:50000</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">--restart </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">always</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-v </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">/apps/devops/jenkins:/var/jenkins_home</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">--name </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">jenkins</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">--volume </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">/var/run/docker.sock:/var/run/docker.sock</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-v $(</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">which</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> docker</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">:/usr/bin/docker</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-v $(</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">which</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> docker</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">:/usr/bin/com.docker.cli</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">jenkins/jenkins:lts</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>Docker è¿è¡Œaspnetcoreé¡¹ç›®</h2>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -it</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 7000:80</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> aspnetcoredemo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> aspnetcoredemo</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h2>æ„å»ºé¡¹ç›®</h2>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> src/aspnetcoredemo/Dockerfile</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> aspnetcoredemo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> .</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">GITHASH</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">git</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> rev-parse </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">--short</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> HEAD`</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> src/aspnetcoredemo/Dockerfile</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> aspnetcoredemo:</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">$GITHASH</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> .</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> tag</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> aspnetcoredemo:</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">$GITHASH</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> aspnetcoredemo:latest</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> src/Services/ToDo/IGeekFan.FreeKit.Todos.API/Dockerfile</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> igeekfan.freekit.todos.api</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> .</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>IGeekFan.Freekit.Service bashè„šæœ¬</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># è·å–çŸ­ç‰ˆæœ¬å·</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">GITHASH</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">git</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> rev-parse </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">--short</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> HEAD`</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> stop</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> igeekfan.freekit.todos.api</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> rm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> igeekfan.freekit.todos.api</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">echo</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>Docker é…ç½® MySql</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/docker/Docker-MySql.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/docker/Docker-MySql.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">Docker é…ç½® MySql</source>
      <description>Docker é…ç½® MySql 1.æ‹‰å–é•œåƒ 2ä¸æŒ‡å®šç›®å½•æ˜ å°„ -p ç«¯å£é…ç½® ä¸»æœº3306/å®¹å™¨3306 -name å®¹å™¨åï¼Œæ­¤å¤„ä¸ºmysql -e é…ç½®ä¿¡æ¯ MYSQL_ROOT_PASSWORD=123456 æŒ‡å®šå¯†ç ä¸º123456 -d æŒ‡å®šé•œåƒ sudo docker run -p 3306:3306 --name mysql -e MYSQ...</description>
      <pubDate>Wed, 29 Jun 2022 19:17:23 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>1.æ‹‰å–é•œåƒ</h2>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> mysql:5.7</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   # æ‹‰å– mysql 5.7</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> mysql</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">       # æ‹‰å–æœ€æ–°ç‰ˆmysqlé•œåƒ</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><h2>2ä¸æŒ‡å®šç›®å½•æ˜ å°„</h2>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 3306:3306</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> mysql</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> MYSQL_ROOT_PASSWORD=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">123456</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> mysql</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>-p ç«¯å£é…ç½® ä¸»æœº3306/å®¹å™¨3306<br>
-name å®¹å™¨åï¼Œæ­¤å¤„ä¸ºmysql<br>
-e é…ç½®ä¿¡æ¯ MYSQL_ROOT_PASSWORD=123456 æŒ‡å®šå¯†ç ä¸º123456<br>
-d æŒ‡å®šé•œåƒ<br>
sudo docker run -p 3306:3306 --name mysql -e MYSQL_ROOT_PASSWORD=123456 -d mysql</p>
<blockquote>
<p>é»˜è®¤çš„é…ç½®æ–‡ä»¶æ˜¯ï¼š/etc/mysql/my.cnf<br>
é»˜è®¤çš„æ•°æ®ç›®å½•æ˜¯ï¼š/var/lib/mysql</p>
</blockquote>
<p>æˆ‘ä»¬è¿›å…¥mysqlå®¹å™¨ä¸­ï¼ŒæŸ¥çœ‹my.cnf.</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> exec</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -it</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> mysql</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> bash</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /etc/mysql/my.cnf</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>my.cnf åŠ è½½äº† /etc/mysql/conf.dç›®å½•ä¸­æ‰€æœ‰ä»¥åç¼€ä¸º.cnfçš„é…ç½®æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬æ˜ å°„ç›®å½•ï¼Œåªéœ€è¦æ˜ å°„conf.dç›®å½•å³å¯ã€‚</p>
<p>å…ˆåœ¨linuxä¸Šåˆ›å»ºç›®å½•</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /usr/local/docker/mysql/conf.d</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> vim</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> mysql-docker.cnf</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¿å­˜å†…å®¹</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[mysqld]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">server-id</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> #æœåŠ¡Idå”¯ä¸€</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">port</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 3306</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">log-error</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">    =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /var/log/mysql/error.log</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#åªèƒ½ç”¨IPåœ°å€</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">skip_name_resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#æ•°æ®åº“é»˜è®¤å­—ç¬¦é›†</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">character-set-server</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> utf8mb4</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#æ•°æ®åº“å­—ç¬¦é›†å¯¹åº”ä¸€äº›æ’åºç­‰è§„åˆ™ </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">collation-server</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> utf8mb4_general_ci</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#è®¾ç½®clientè¿æ¥mysqlæ—¶çš„å­—ç¬¦é›†,é˜²æ­¢ä¹±ç </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">init_connect</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">'SET NAMES utf8mb4'</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#æœ€å¤§è¿æ¥æ•°</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">max_connections</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 300</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#å¦‚æœé‡åˆ°è¿™ä¸ªé”™å°±æ‰§è¡Œä¸‹æƒé™</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#mysqld: [Warning] World-writable config file '/etc/mysql/conf.d/mysql-docker.cnf' is ignored</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 644</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> mysql-docker.cnf</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>3.å»ºç«‹ç›®å½•æ˜ å°„</h2>
<p>åœ¨linuxä¸Šåˆ›å»ºç›®å½•ï¼Œç”¨äºå­˜æ”¾mysqlçš„æ—¥å¿—å’Œæ•°æ®ã€‚</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /usr/local/docker/mysql/logs</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /usr/local/docker/mysql/data</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 3310:3306</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> mysql</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-v </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">/usr/local/docker/mysql/conf.d:/etc/mysql/conf.d</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-v </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">/usr/local/docker/mysql/logs:/var/log/mysql</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-v </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">/usr/local/docker/mysql/data:/var/lib/mysql</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-e </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">MYSQL_ROOT_PASSWORD=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">123456</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">--restart=always </span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-d </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">mysql</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#æŸ¥çœ‹docker ä¸‹è¿›ç¨‹ï¼Œmysqlæ˜¯å¦å¯åŠ¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> ps</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#ç”±äº mysql /var/log/mysql é»˜è®¤æƒ…å†µä¸‹æŸ¥çœ‹</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> exec</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> mysql</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> chown</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> mysql:root</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /var/log/mysql</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>-p ç«¯å£é…ç½® linuxä¸»æœº3310/å®¹å™¨3306</li>
<li>-name å®¹å™¨åï¼Œæ­¤å¤„ä¸ºmysql</li>
<li>-v æŒ‡å®šå®¹å™¨åŠå…¶æŒ‚è½½çš„å·ï¼Œæ­¤å¤–ä¸º å®¿ä¸»æœºæ–‡ä»¶ç›®å½•:å®¹å™¨æ–‡ä»¶ç›®å½•ï¼Œå¯æŒ‡å®šå¤šä¸ªæ•°æ®æ–‡ä»¶ç›®å½•</li>
<li>-e é…ç½®ä¿¡æ¯ MYSQL_ROOT_PASSWORD=123456 è®¾ç½® MySqlæœåŠ¡çš„rootå¯†ç ä¸º123456</li>
<li>--restart=always å®¹å™¨é€€å‡ºæ—¶æ€»æ˜¯é‡å¯</li>
<li>-d åå°è¿è¡Œã€‚</li>
<li>é•œåƒå</li>
</ul>
<h2>Dockerç›¸å…³å‘½ä»¤</h2>
<p>å…¶ä¸­mysqlä¸ºå®¹å™¨çš„nameæˆ–id</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#é‡å¯å®¹å™¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> mysql</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#æš‚åœå®¹å™¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> stop</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> mysql</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#åˆ é™¤å®¹å™¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> rm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> mysql</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#å¯åŠ¨å®¹å™¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> mysql</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#æ›´æ–°å®¹å™¨ å¼€æœºä¹Ÿèƒ½é‡å¯</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> update</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> mysql</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --restart=always</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>é…ç½®è¿œç¨‹Navicatå¯è®¿é—®</h3>
<p>å¦‚æœé‡åˆ°æ— æ³•è®¿é—®æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ­¤æ–¹å¼</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> exec</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -it</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> mysql</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /bin/bash</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">mysql</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -uroot</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p123456</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">use</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> mysql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ALTER</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> USER</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 'root'@'%'</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> IDENTIFIED</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> WITH</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> mysql_native_password</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> BY</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> '123456'</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">flush</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> privileges</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>Restartå‚æ•°</h3>
<p>Docker ä¸­restartå‚æ•°ç”¨äºæŒ‡å®šè‡ªåŠ¨é‡å¯dockerå®¹å™¨ç­–ç•¥ï¼ŒåŒ…å«3ä¸ªé€‰é¡¹ï¼šnoï¼Œon-failure[:times]ï¼Œalwaysï¼Œunless-stopped</p>
<p>no é»˜è®¤å€¼ï¼Œè¡¨ç¤ºå®¹å™¨é€€å‡ºæ—¶ï¼Œdockerä¸è‡ªåŠ¨é‡å¯å®¹å™¨</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --restart=no</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> [å®¹å™¨å]</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>on-failure è‹¥å®¹å™¨çš„é€€å‡ºçŠ¶æ€é0ï¼Œåˆ™dockerè‡ªåŠ¨é‡å¯å®¹å™¨ï¼Œè¿˜å¯ä»¥æŒ‡å®šé‡å¯æ¬¡æ•°ï¼Œè‹¥è¶…è¿‡æŒ‡å®šæ¬¡æ•°æœªèƒ½å¯åŠ¨å®¹å™¨åˆ™æ”¾å¼ƒ**</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --restart=on-failure:3</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> [å®¹å™¨å]</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>always å®¹å™¨é€€å‡ºæ—¶æ€»æ˜¯é‡å¯**</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --restart=always</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> [å®¹å™¨å]</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>unless-stopped å®¹å™¨é€€å‡ºæ—¶æ€»æ˜¯é‡å¯ï¼Œä½†ä¸è€ƒè™‘Dockerå®ˆæŠ¤è¿›ç¨‹å¯åŠ¨æ—¶å°±å·²ç»åœæ­¢çš„å®¹å™¨**</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --restart=unless-stopped</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> [å®¹å™¨å]</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>å¦‚æœå®¹å™¨å¯åŠ¨æ—¶æ²¡æœ‰è®¾ç½®â€“restartå‚æ•°ï¼Œåˆ™é€šè¿‡ä¸‹é¢å‘½ä»¤è¿›è¡Œæ›´æ–°ï¼š* *</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> update</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --restart=always</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> [å®¹å™¨å]</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>Docker é…ç½® Nacos</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/docker/Docker-Nacos.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/docker/Docker-Nacos.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">Docker é…ç½® Nacos</source>
      <description>Docker é…ç½® Nacos 1ã€åˆ›å»ºæœ¬åœ°çš„æ˜ å°„æ–‡ä»¶ åˆ›å»ºç›®å½• é…ç½®æ•°æ®åº“ application.properties application.properties ä¸‹é¢é€šè¿‡é…ç½®æ¥æš´éœ²é™¤äº†/shutdownä¹‹å¤–çš„æ‰€æœ‰ç«¯ç‚¹ã€‚ä¸‹é¢é€šè¿‡é…ç½®æ¥æš´éœ²é™¤äº†/shutdownä¹‹å¤–çš„æ‰€æœ‰ç«¯ç‚¹ 2ã€è¿è¡Œå®¹å™¨ ä½¿ç”¨standalone(å•æœº)æ¨¡å¼å¹¶å¼€æ”¾8848ç«¯å£ï¼Œå¹¶...</description>
      <pubDate>Wed, 29 Jun 2022 19:17:23 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>1ã€åˆ›å»ºæœ¬åœ°çš„æ˜ å°„æ–‡ä»¶</h2>
<p>åˆ›å»ºç›®å½•</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">  /usr/local/docker/nacos/logs</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /usr/local/docker/nacos/conf</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>é…ç½®æ•°æ®åº“ application.properties</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /usr/local/docker/nacos/conf/application.properties</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><ul>
<li>application.properties</li>
</ul>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">spring.datasource.platform</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">=mysql</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">db.num</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">=1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">db.url.0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">=jdbc:mysql://localhost:3310/nacos_config?characterEncoding=utf8</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">connectTimeout</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">socketTimeout</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">3000</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">autoReconnect</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">true</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">db.user</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">=user</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">db.password</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">=password</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸‹é¢é€šè¿‡é…ç½®æ¥æš´éœ²é™¤äº†/shutdownä¹‹å¤–çš„æ‰€æœ‰ç«¯ç‚¹ã€‚ä¸‹é¢é€šè¿‡é…ç½®æ¥æš´éœ²é™¤äº†/shutdownä¹‹å¤–çš„æ‰€æœ‰ç«¯ç‚¹</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">management.endpoints.web.exposure.include</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">=*</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h2>2ã€è¿è¡Œå®¹å™¨</h2>
<p>ä½¿ç”¨<code>standalone</code>(å•æœº)æ¨¡å¼å¹¶å¼€æ”¾8848ç«¯å£ï¼Œå¹¶æ˜ å°„é…ç½®æ–‡ä»¶å’Œæ—¥å¿—ç›®å½•ï¼Œæ•°æ®åº“åœ¨application.propertiesä¸­é…ç½®</p>
<p>å…¶ä¸­ <code>\</code>(ç©ºæ ¼+åæ–œæ )æ¥æ”¯æŒå‘½ä»¤è¡Œæ¢è¡Œ</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-p </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">8848:8848</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 9848:9848</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 9555:9555</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-e </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">MODE=standalone</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-e </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">TZ="Asia/Shanghai"</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-e </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">PREFER_HOST_MODE=hostname</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-v </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">/usr/local/docker/nacos/logs:/home/nacos/logs</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-v </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">/usr/local/docker/nacos/conf/application.properties:/home/nacos/conf/application.properties</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">--restart </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">always</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">--name </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">nacos</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">nacos/nacos-server</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶ä¸­-v æŒ‡å®šæ˜ å°„é…ç½®ã€‚å·¦ä¾§ä¸ºlinuxæ–‡ä»¶ï¼Œå³ä¾§ä¸ºdockerç›®å½•</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> network</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> create</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> mysql-net</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># åˆ›å»ºæ¡¥æ¥ç½‘ç»œ mysql-net</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> network</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> connect</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> mysql-net</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> mysql</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># å®¹å™¨ mysql è¿å…¥ mysql-net</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> network</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> connect</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> mysql-net</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> nacos</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># åŒä¸Šï¼Œnacos</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> network</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> inspect</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> mysql-net</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># é…ç½®å®Œåå®¹å™¨è¿è¡Œèµ·æ¥ä½¿ç”¨è¯¥å‘½ä»¤æŸ¥çœ‹è¯¥æ¡¥æ¥ç½‘ç»œä¸‹å®¹å™¨ä¿¡æ¯</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>Docker é…ç½® Portainer</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/docker/Docker-Portainer.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/docker/Docker-Portainer.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">Docker é…ç½® Portainer</source>
      <description>Docker é…ç½® Portainer Docker å¯è§†åŒ–ç®¡ portainer é»˜è®¤9000ç«¯å£ -d åå°è¿è¡Œ -p ç«¯å£æ˜ å°„ ä¸»æœºç«¯å£9000:å®¹å™¨ç«¯å£9000 --restart=always å®¹å™¨é€€å‡ºæ—¶æ€»æ˜¯é‡å¯ -v æœ¬åœ°docker.sock --nameæŒ‡å®šå®¹å™¨å -d æŒ‡å®šé•œåƒå</description>
      <pubDate>Wed, 29 Jun 2022 19:17:23 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>Docker å¯è§†åŒ–ç®¡</h2>
<ul>
<li>portainer é»˜è®¤9000ç«¯å£</li>
</ul>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> portainer/portainer</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 9000:9000</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">--restart=always </span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-v </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">/var/run/docker.sock:/var/run/docker.sock</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-v </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">portainer_data:/data</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">--name </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">portainer</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-d </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">portainer/portainer</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>-d åå°è¿è¡Œ</li>
<li>-p ç«¯å£æ˜ å°„ ä¸»æœºç«¯å£9000:å®¹å™¨ç«¯å£9000</li>
<li>--restart=always å®¹å™¨é€€å‡ºæ—¶æ€»æ˜¯é‡å¯</li>
<li>-v æœ¬åœ°docker.sock</li>
<li><code>--</code>nameæŒ‡å®šå®¹å™¨å</li>
<li>-d æŒ‡å®šé•œåƒå</li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>Docker é…ç½® Redis</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/docker/Docker-Redis.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/docker/Docker-Redis.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">Docker é…ç½® Redis</source>
      <description>Docker é…ç½® Redis ç›®å½• Docker é…ç½® Redis ç›®å½• 2.æœ¬åœ°é…ç½®æ–‡ä»¶æ˜ å°„ 3.å¯åŠ¨Docker 2.æœ¬åœ°é…ç½®æ–‡ä»¶æ˜ å°„ åˆ›å»º/etc/redis/conf/redis.confæ–‡ä»¶ï¼Œå¹¶ä¸”daemonize=noã€‚ä¸€å®šè¦æ˜¯éåå°æ¨¡å¼ï¼Œå¦‚æœ æ˜¯YES,ä¼šå¯¼è‡´redisæ— æ³•å¯åŠ¨ï¼Œå› ä¸ºåå°ä¼šå¯¼è‡´dockeræ— ä»»åŠ¡å¯åšè€Œé€€å‡º 3.å¯åŠ¨Doc...</description>
      <pubDate>Wed, 29 Jun 2022 19:17:23 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>ç›®å½•</h2>
<ul>
<li><a href="#docker-%E9%85%8D%E7%BD%AE-redis">Docker é…ç½® Redis</a>
<ul>
<li><a href="#%E7%9B%AE%E5%BD%95">ç›®å½•</a></li>
<li><a href="#2%E6%9C%AC%E5%9C%B0%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%98%A0%E5%B0%84">2.æœ¬åœ°é…ç½®æ–‡ä»¶æ˜ å°„</a></li>
<li><a href="#3%E5%90%AF%E5%8A%A8docker">3.å¯åŠ¨Docker</a></li>
</ul>
</li>
</ul>
<h2>2.æœ¬åœ°é…ç½®æ–‡ä»¶æ˜ å°„</h2>
<p>åˆ›å»º/etc/redis/conf/redis.confæ–‡ä»¶ï¼Œå¹¶ä¸”daemonize=noã€‚ä¸€å®šè¦æ˜¯éåå°æ¨¡å¼ï¼Œå¦‚æœ æ˜¯YES,ä¼šå¯¼è‡´redisæ— æ³•å¯åŠ¨ï¼Œå› ä¸ºåå°ä¼šå¯¼è‡´dockeræ— ä»»åŠ¡å¯åšè€Œé€€å‡º</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /etc/redis/conf/</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /etc/redis/conf/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> redis.conf</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">##redis.confæ–‡ä»¶å†…å®¹</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">daemonize</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> no</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">port</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 6379</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">requirepass</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 123456</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">bind</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 0.0.0.0</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>3.å¯åŠ¨Docker</h2>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-p </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">6379:6379</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">--name </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">redis</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-v </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">/etc/redis/conf/redis.conf:/etc/redis/redis.conf</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-v </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">/etc/redis/data:/data</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">-d </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">redis</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">redis-server </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">/etc/redis/redis.conf</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">--requirepass </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">'123456'</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">--appendonly </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">yes</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>docker é•œåƒreids é»˜è®¤ æ— é…ç½®æ–‡ä»¶å¯åŠ¨</strong></p>
<ul>
<li>-pï¼šè¡¨ç¤ºç«¯å£æ˜ å°„ï¼Œå†’å·å·¦é¢çš„æ˜¯æˆ‘ä»¬çš„æœåŠ¡å™¨çš„ç«¯å£ï¼Œå³ä¾§åˆ™è¡¨ç¤ºçš„æ˜¯å®¹å™¨å†…mysqlçš„ç«¯å£</li>
<li><code>--</code>nameï¼šæ˜¯æˆ‘ä»¬ç»™rediså®¹å™¨å–çš„åå­—</li>
<li>-vï¼šè¡¨ç¤ºæŒ‚è½½è·¯å¾„\æ˜ å°„é…ç½®æ–‡ä»¶</li>
</ul>
<p>/etc/redis/conf/redis.confå·¦ä¾§ï¼Œä»£è¡¨linuxä¸Šçš„è·¯å¾„ï¼Œæ˜ å°„åˆ°å®¹å™¨ä¸Šçš„/etc/redis/redis.confã€‚</p>
<p>/etc/redis/dataä»£ç°linuxä¸Šçš„redisçš„æ•°æ®è·¯å¾„ï¼Œæ˜ å°„åˆ°çª—å£ä¸­çš„/dataç›®å½•</p>
<ul>
<li>-d redis  åå°æ¨¡å¼å¯åŠ¨ redis</li>
<li>redis-server /etc/redis/redis.conf    redis å°†ä»¥ /etc/redis/redis.conf ä¸ºé…ç½®æ–‡ä»¶å¯åŠ¨</li>
<li>--appendonly yes  å¼€å¯redis æŒä¹…åŒ–</li>
<li>--requirepass '123456' æŒ‡å®šå¯†ç ä¸º123456</li>
<li>--appendonly yesï¼šå¼€å¯æŒä¹…åŒ–</li>
</ul>
<p>åç»­å¯é€šè¿‡ä¿®æ”¹linuxä¸Šçš„/etc/redis/conf/redis.confæ–‡ä»¶æ¥ä¿®æ”¹å®¹å™¨çš„redisæœåŠ¡ï¼Œå¦‚å¯†ç requireapss+ å¯†ç </p>
]]></content:encoded>
    </item>
    <item>
      <title>Docker</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/docker/</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/docker/</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">Docker</source>
      <description>Docker Docker ä¸­çš„ä¸‰ä¸ªæ¦‚å¿µï¼Œé•œåƒï¼ˆImage)ã€å®¹å™¨ï¼ˆContainer)ã€ä»“åº“ï¼ˆRepositoryï¼‰ ä¸€ä¸ªImageå¯æœ‰å¤šä¸ªContainerï¼Œæˆ‘ä»¬å¯ä»¥æŠŠImageå‘å¸ƒè‡³Dokcer Hubæä¾›çš„Repositoryä¸­æˆ–é˜¿é‡Œäº‘Dockeré•œåƒä»“åº“ï¼ˆDocker Registryï¼‰ï¼Œä¾›ä»–äººä½¿ç”¨ã€‚ Docker å®‰è£… Ubuntu Doc...</description>
      <pubDate>Wed, 29 Jun 2022 19:17:23 GMT</pubDate>
      <content:encoded><![CDATA[
<p>Docker ä¸­çš„ä¸‰ä¸ªæ¦‚å¿µï¼Œé•œåƒï¼ˆImage)ã€å®¹å™¨ï¼ˆContainer)ã€ä»“åº“ï¼ˆRepositoryï¼‰</p>
<p>ä¸€ä¸ªImageå¯æœ‰å¤šä¸ªContainerï¼Œæˆ‘ä»¬å¯ä»¥æŠŠImageå‘å¸ƒè‡³Dokcer Hubæä¾›çš„Repositoryä¸­æˆ–é˜¿é‡Œäº‘Dockeré•œåƒä»“åº“ï¼ˆDocker Registryï¼‰ï¼Œä¾›ä»–äººä½¿ç”¨ã€‚</p>
<h2>Docker å®‰è£…</h2>
<p><a href="https://cloud.tencent.com/developer/article/1853467" title="Ubuntu Docker å®‰è£… - äº‘+ç¤¾åŒº - è…¾è®¯äº‘ (tencent.com)" target="_blank" rel="noopener noreferrer">Ubuntu Docker å®‰è£… - äº‘+ç¤¾åŒº - è…¾è®¯äº‘ (tencent.com)</a></p>
<h2>Docker ç†è®ºåˆ°å®æˆ˜</h2>
<p><a href="https://www.cnblogs.com/codelove/p/10030439.html" title="Dockeræœ€å…¨æ•™ç¨‹â€”â€”ä»ç†è®ºåˆ°å®æˆ˜(ä¸€)" target="_blank" rel="noopener noreferrer">Dockeræœ€å…¨æ•™ç¨‹â€”â€”ä»ç†è®ºåˆ°å®æˆ˜(ä¸€)</a></p>
<p><a href="http://dockone.io/article/126" title="å…«ä¸ªDockerçš„çœŸå®åº”ç”¨åœºæ™¯" target="_blank" rel="noopener noreferrer">å…«ä¸ªDockerçš„çœŸå®åº”ç”¨åœºæ™¯</a></p>
<p><a href="https://blog.csdn.net/julien71/article/details/79760919" title="docker pullå¾ˆæ…¢è§£å†³åŠæ³•ã€é…ç½®é˜¿é‡Œé•œåƒ" target="_blank" rel="noopener noreferrer">docker pullå¾ˆæ…¢è§£å†³åŠæ³•ã€é…ç½®é˜¿é‡Œé•œåƒ</a></p>
<p><a href="https://www.cnblogs.com/zxtceq/p/7403953.html" title="ASP.NET Coreå¼€å‘Dockeréƒ¨ç½²" target="_blank" rel="noopener noreferrer">ASP.NET Coreå¼€å‘Dockeréƒ¨ç½²</a></p>
<h2>Dockerå­¦ä¹ è®°å½•</h2>
<p>Docker Desktop åœ¨windows 10ä¸‹å®‰è£…æ­£å¸¸ï¼ŒHyper-Vä¹Ÿæ­£å¸¸å®‰è£…ï¼Œä½†Hyper-Vä¸‹æ— æ³•æ‰“å¼€è™šæ‹Ÿäº¤æ¢æœºç®¡ç†å™¨ï¼Œæç¤ºâ€œå°è¯•æ£€ç´¢è™šæ‹Ÿäº¤æ¢åˆ—è¡¨æ—¶å‡ºé”™â€ï¼Œä¹Ÿæ— æ³•å¿«é€Ÿåˆ›å»ºè™šæ‹Ÿæœºï¼Œæç¤ºâ€œxxå¼‚å¸¸â€ã€‚äº‹ä»¶æŸ¥çœ‹å™¨-&gt;Windowsæ—¥å¿—-&gt;ç³»ç»Ÿä¸­ï¼ŒHyper-V-VmSwitch ä¸€ç›´æç¤º ç±»ä¼¼"VMSwitch driver due to error"</p>
<p><a href="https://www.cnblogs.com/GeDiao/p/7975667.html" title="Hyper-Vç®¡ç†å™¨æ— æ³•æ‰“å¼€è™šæ‹Ÿäº¤æ¢æœºç®¡ç†ï¼Œåˆ«äººçš„æ–¹æ³•ï¼Œä½†æ— æµäºäº‹" target="_blank" rel="noopener noreferrer">Hyper-Vç®¡ç†å™¨æ— æ³•æ‰“å¼€è™šæ‹Ÿäº¤æ¢æœºç®¡ç†ï¼Œåˆ«äººçš„æ–¹æ³•ï¼Œä½†æ— æµäºäº‹</a></p>
<p>åˆ«äººéƒ½æ˜¯è¯´å»åœ¨windowsåŠŸèƒ½ä¸Šæ‰“å¼€Hyper-vå³å¯ï¼Œè€Œæˆ‘å¼€å¯äº†ä¸€ç›´ä¸è¡Œï¼Œæˆ‘è¿™ä¸ªä¸»è¦æ˜¯Hyper-Vé—®é¢˜ï¼Œå¯¼è‡´DockeræœåŠ¡ä¸€ç›´æ— æ³•æ­£å¸¸å¯åŠ¨ã€‚å¾®è½¯çš„è®ºå›ä¹Ÿæ‰¾äº†ï¼Œæ²¡äººèƒ½è§£å†³ï¼Œè¯´é‡è£…ç³»ç»Ÿï¼Ÿè¿™åªèƒ½ç»ˆæè§£å†³æ–¹æ¡ˆã€‚ä¸‹é¢è¿™ä¸ªé“¾æ¥ï¼Œæˆ‘ä¹Ÿå›ç­”äº†ä¸€ä¸‹ã€‚</p>
<p><a href="https://social.msdn.microsoft.com/Forums/healthvault/zh-CN/cf5c267b-1ca0-40dd-9959-5ecb3475a06c/hyperv?forum=window10app" title="hyperv æ— æ³•æ‰“å¼€è™šæ‹Ÿäº¤æ¢æœºç®¡ç†å™¨ï¼ŒæŠ¥é”™â€œå°è¯•æ£€ç´¢è™šæ‹Ÿäº¤æ¢æœºåˆ—è¡¨æ—¶å‡ºé”™" target="_blank" rel="noopener noreferrer">hyperv æ— æ³•æ‰“å¼€è™šæ‹Ÿäº¤æ¢æœºç®¡ç†å™¨ï¼ŒæŠ¥é”™â€œå°è¯•æ£€ç´¢è™šæ‹Ÿäº¤æ¢æœºåˆ—è¡¨æ—¶å‡ºé”™</a></p>
<p>åæ¥æ‰¾åˆ°è§£å†³åŠæ³•ï¼Œåœ¨è®¾ç½®-æ›´æ–°å’Œå®‰å…¨-Windowsé¢„è§ˆä½“éªŒè®¡åˆ’ï¼Œå…ˆå»å®˜ç½‘ç”³è¯·ï¼Œç”³è¯·åï¼Œå‡çº§ç³»ç»Ÿï¼Œä»–ä¼šå¸®æˆ‘ä¿®å¤Hyper-V.</p>
<p>AMD å¯ç”¨äº†è™šæ‹ŸåŒ–ä¹Ÿæ— æ³•ä½¿ç”¨,å‘½ä»¤è¡Œè®¾ç½®hyper-vå‚æ•°.ç®¡ç†å‘˜æ¨¡å¼ä¸‹çš„å‘½ä»¤æç¤ºç¬¦ä¸­è¾“å…¥</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">bcdedit</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /set</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> hypervisorlaunchtype</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> Auto</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>ç„¶åé‡å¯ç”µè„‘ï¼Œå¯åŠ¨docker</p>
<h2>dockerè¿è¡Œaspnetcoreé¡¹ç›®</h2>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --restart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> unless-stopped</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 5020:80</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> lincms-web-1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> registry.cn-hangzhou.aliyuncs.com/igeekfan/lincms-web</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --restart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> unless-stopped</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 5021:80</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> lincms-web-2</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> registry.cn-hangzhou.aliyuncs.com/igeekfan/lincms-web</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --restart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> unless-stopped</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> 5022:80</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> lincms-web-3</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> registry.cn-hangzhou.aliyuncs.com/igeekfan/lincms-web</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>docker æç¤ºhype-vå†²çªï¼Œä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œå‘½ä»¤æç¤ºç¬¦ æ‰§è¡Œå‘½ä»¤</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">bcdedit</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /set</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> hypervisorlaunchtype</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> off</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>é‡å¯ï¼Œè¿è¡Œvmå³å¯ã€‚</p>
<p>å¦‚æœæƒ³è¦æ¢å¤hyperå¯åŠ¨</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">bcdedit</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> /set</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> hypervisorlaunchtype</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> auto</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>åœ¨ ASP.NET Core 6 ä¸­æ·»åŠ Startup.csçš„æ•´æ´æ–¹å¼</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/examples/ASPNETCore6-Add-Startup-Clean.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/examples/ASPNETCore6-Add-Startup-Clean.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">åœ¨ ASP.NET Core 6 ä¸­æ·»åŠ Startup.csçš„æ•´æ´æ–¹å¼</source>
      <description>https://www.talkingdotnet.com/clean-way-to-add-startup-class-in-asp-net-core-6-project/ ä½œè€…: Talking Dotnet å¦‚æœæ‚¨å…³æ³¨ASP.NET Core 6ï¼Œé‚£ä¹ˆæ‚¨å¯èƒ½å‘ç°ï¼Œå¯¹äºASP.NET Core 6é¡¹ç›®ï¼Œæ²¡æœ‰Startup.csæ–‡ä»¶ã€‚æˆ‘å‘å¸ƒäº†å…³äºå¦‚ä½•...</description>
      <category>ASP.NET Core</category>
      <pubDate>Mon, 13 Jun 2022 14:06:43 GMT</pubDate>
      <content:encoded><![CDATA[<blockquote>
<ul>
<li><a href="https://www.talkingdotnet.com/clean-way-to-add-startup-class-in-asp-net-core-6-project/" target="_blank" rel="noopener noreferrer">https://www.talkingdotnet.com/clean-way-to-add-startup-class-in-asp-net-core-6-project/</a></li>
<li>ä½œè€…: Talking Dotnet</li>
</ul>
</blockquote>
<p>å¦‚æœæ‚¨å…³æ³¨<code>ASP.NET Core 6</code>ï¼Œé‚£ä¹ˆæ‚¨å¯èƒ½å‘ç°ï¼Œå¯¹äº<code>ASP.NET Core 6</code>é¡¹ç›®ï¼Œæ²¡æœ‰<code>Startup.cs</code>æ–‡ä»¶ã€‚æˆ‘å‘å¸ƒäº†å…³äº<a href="https://igeekfan.cn/dotnetcore/examples/NET6Startup.html" target="_blank" rel="noopener noreferrer">å¦‚ä½•åœ¨ASP.NETCore 6é¡¹ç›®ä¸­æ·»åŠ Startup.cs</a>ï¼Œè¿™ç§æ–¹æ³•ä»¥ä¼ ç»Ÿçš„æ–¹å¼å°†ç±»å¼•å…¥åˆ°é¡¹ç›®ä¸­ï¼Œè¿™æ˜¯æˆ‘ä»¬ä»Šå¤©ä½¿ç”¨çš„<code>ASP.NET Core 5</code>åŠå…¶æ—©æœŸç‰ˆæœ¬ã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬èƒ½å¤Ÿæ”¹è¿›ï¼Œè®©å®ƒå˜å¾—æ›´å¥½å‘¢ã€‚å¥½çš„ï¼Œåœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€çœ‹åœ¨<code>ASP.NET Core6</code>ä¸­æ·»åŠ <code>Startup</code>ç±»çš„æ•´æ´æ–¹æ³•</p>
<p>ä¸ºäº†ä»¥æ•´æ´çš„æ–¹å¼å®ç°ï¼Œæˆ‘ä»¬å°†åˆ©ç”¨<a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/extension-methods" target="_blank" rel="noopener noreferrer">æ‰©å±•æ–¹æ³•</a>ã€‚æ‰©å±•æ–¹æ³•å…è®¸æ‚¨å‘ç°æœ‰ç±»å‹â€œæ·»åŠ â€æ–¹æ³•ï¼Œè€Œæ— éœ€åˆ›å»ºæ–°çš„æ´¾ç”Ÿç±»å‹ã€é‡æ–°ç¼–è¯‘æˆ–ä»¥å…¶ä»–æ–¹å¼ä¿®æ”¹åŸå§‹ç±»å‹ã€‚<code>ASP.NET Core 6.0</code>ä½¿ç”¨å’Œæ¥å¼•å¯¼<code>ASP.NET Coreåº”ç”¨ç¨‹åº</code>ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†ä¸ºè¿™äºŒä¸ª(<code>WebApplicationBuilder</code>ã€<code>WebApplication</code>)ç±»åˆ›å»ºæ‰©å±•æ–¹æ³•</p>
<p>è®°ä½ï¼Œè¿™2ä¸ªæ˜¯<code>ASP.NET Core 6.0</code>æ–°å¼•å…¥çš„ã€‚é˜…è¯»<a href="https://andrewlock.net/exploring-dotnet-6-part-2-comparing-webapplicationbuilder-to-the-generic-host/" target="_blank" rel="noopener noreferrer">Comparing WebApplicationBuilder to the Generic Host</a>ï¼Œå¹¶<a href="https://andrewlock.net/exploring-dotnet-6-part-3-exploring-the-code-behind-webapplicationbuilder/" target="_blank" rel="noopener noreferrer">Exploring the code behind WebApplicationBuilder</a>ä»¥äº†è§£æœ‰å…³æ­¤æ–°å¼•å¯¼æ¨¡å‹çš„æ›´å¤šä¿¡æ¯ã€‚</p>
<p>è¯¥ç±»ç”¨äºæ³¨å†Œ/é…ç½®æœåŠ¡æˆ–ä¾èµ–é¡¹ã€‚ç”±äºæ‰©å±•æ–¹æ³•æ˜¯é™æ€æ–¹æ³•ï¼Œæ‰€ä»¥è¯·ä½¿ç”¨åä¸ºçš„é™æ€æ–¹æ³•åˆ›å»ºä¸€ä¸ªé™æ€ç±»ã€‚ç°åœ¨ï¼Œå°†ä¾èµ–é¡¹æ³¨å†Œä»£ç ä»ç§»åŠ¨åˆ°è¿™é‡Œã€‚å¦‚ä¸‹</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RegisterStartupServices</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> WebApplicationBuilder</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> RegisterServices</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">this</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> WebApplicationBuilder</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddControllers</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // Learn more about configuring Swagger/OpenAPI at https://aka.ms/aspnetcore/swashbuckle</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddEndpointsApiExplorer</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddSwaggerGen</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬åˆ›å»ºå¦ä¸€ä¸ªé™æ€ç±»<code>RegisterStartupMiddlewares</code>ï¼Œå®ƒæ‰©å±•äº†ç”¨äºä¸­é—´ä»¶æ³¨å†Œçš„ç±»<code>WebApplication</code>ã€‚åœ¨è¿™ä¸ªç±»ä¸­ï¼Œä»ä¸­ç§»åŠ¨ä¸­é—´ä»¶æ³¨å†Œç å¹¶å°†å…¶å¼•å…¥æ–¹æ³•ã€‚Program.csä¸­çš„<code>SetupMiddleware</code></p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RegisterStartupMiddlewares</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> WebApplication</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> SetupMiddleware</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">this</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> WebApplication</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // Configure the HTTP request pipeline.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Environment</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">IsDevelopment</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseSwagger</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseSwaggerUI</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseHttpsRedirection</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseAuthorization</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">MapControllers</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®Œæˆåï¼Œè®©æˆ‘ä»¬è¿”å›åˆ°<code>Program.cs</code>ä¸­æ›´æ–°ä»£ç å¹¶ä½¿ç”¨è¿™äº›æ‰©å±•æ–¹æ³•ã€‚å¦‚ä¸‹</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> builder</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> WebApplication</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">CreateBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">args</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">             .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">RegisterServices</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> app</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Build</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">SetupMiddleware</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Run</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ–è€…ï¼Œæˆ‘ä»¬å¯ä»¥è®©ä»–æ›´åŠ æ•´æ´ï¼Œå¹¶å°†å…¶æ’æˆä¸€è¡Œï¼Œå¦‚ä¸‹</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">WebApplication</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">CreateBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">args</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">RegisterServices</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Build</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">SetupMiddleware</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Run</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç°åœ¨ï¼Œè¿™çœ‹èµ·æ¥æ›´åŠ æ¸…æ™°ã€å¯è¯»å’Œæ˜“äºç®¡ç†ã€‚å°±æ˜¯è¿™ä¹ˆç®€å•ã€‚</p>
<h2>æºç </h2>
<ul>
<li><a href="https://github.com/luoyunchong/dotnetcore-examples/blob/master/999-Others/NET6/NET6Extensions/Program.cs" target="_blank" rel="noopener noreferrer">dotnetcore-examples/Program.cs at master Â· luoyunchong/dotnetcore-examples (github.com)</a></li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>åœ¨ ASP.NET Core 6 å¦‚ä½•æ·»åŠ  Startup.cs</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/examples/NET6Startup.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/examples/NET6Startup.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">åœ¨ ASP.NET Core 6 å¦‚ä½•æ·»åŠ  Startup.cs</source>
      <description>åŸæ–‡ï¼šhttps://www.talkingdotnet.com/how-to-add-startup-cs-in-asp-net-core-6-project/#more-8202 ä½œè€…: Talking Dotnet ä½¿ç”¨ ASP.NET Core 6.0é¡¹ç›®ï¼Œæ‚¨å°†æ‰¾ä¸åˆ°Startup.csæ–‡ä»¶ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ­¤æ–‡ä»¶å°†è¢«åˆ é™¤ï¼Œå¹¶ä¸”æ˜¯å°†æ³¨å†Œä¾èµ–é¡¹å’Œä¸­é—´...</description>
      <category>ASP.NET Core</category>
      <pubDate>Sat, 11 Jun 2022 09:01:13 GMT</pubDate>
      <content:encoded><![CDATA[<blockquote>
<ul>
<li>åŸæ–‡ï¼š<a href="https://www.talkingdotnet.com/how-to-add-startup-cs-in-asp-net-core-6-project/#more-8202" target="_blank" rel="noopener noreferrer">https://www.talkingdotnet.com/how-to-add-startup-cs-in-asp-net-core-6-project/#more-8202</a></li>
<li>ä½œè€…: Talking Dotnet</li>
</ul>
</blockquote>
<p>ä½¿ç”¨ <code>ASP.NET Core 6.0</code>é¡¹ç›®ï¼Œæ‚¨å°†æ‰¾ä¸åˆ°<code>Startup.cs</code>æ–‡ä»¶ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ­¤æ–‡ä»¶å°†è¢«åˆ é™¤ï¼Œå¹¶ä¸”æ˜¯å°†æ³¨å†Œä¾èµ–é¡¹å’Œä¸­é—´ä»¶æ”¾åˆ°äº†<code>Program.cs</code>ä¸­ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨æ˜¯ <code>Startup.cs</code> çš„ç²‰ä¸æˆ–å°†é¡¹ç›®å‡çº§åˆ° <code>ASP.NET Core 6.0</code>ï¼Œä½ å¯èƒ½ä»æƒ³è¦ä½¿ç”¨ <code>Startup.cs</code> æ–‡ä»¶ã€‚å› æ­¤ï¼Œåœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œè®©æˆ‘ä»¬å°†äº†è§£å¦‚ä½•åœ¨ <code>ASP.NET Core 6</code> é¡¹ç›®ä¸­æ·»åŠ  <code>Startup.cs</code></p>
<p>ä½¿ç”¨ <code>ASP.NET Core 6.0</code>é¡¹ç›®æ—¶ï¼Œæ‚¨çš„<code>Program.cs</code>æ–‡ä»¶å¯èƒ½ä¼šè¿™æ ·ã€‚<code>Program.cs</code>æ˜¯ <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Core Web 6åº”ç”¨æ¨¡æ¿çš„æ–‡ä»¶</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> builder</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> WebApplication</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">CreateBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">args</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Add services to the container.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddRazorPages</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> app</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Build</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Configure the HTTP request pipeline.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Environment</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">IsDevelopment</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseExceptionHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"/Error"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // The default HSTS value is 30 days. You may want to change this for production scenarios, see https://aka.ms/aspnetcore-hsts.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseHsts</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseHttpsRedirection</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseStaticFiles</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseRouting</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseAuthorization</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">MapRazorPages</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Run</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­£å¦‚æ‚¨åœ¨æ­¤å¤„çœ‹åˆ°çš„ï¼ŒæœåŠ¡å’Œä¸­é—´ä»¶æ³¨å†Œç°åœ¨æ˜¯æ­¤æ–‡ä»¶çš„ä¸€éƒ¨åˆ†ã€‚è€Œ <code>Statup.cs</code> æœ‰ 2 ä¸ªæ–¹æ³• <code>ConfigureServices()</code> å’Œ <code>Configure()</code>ï¼Œæˆ‘ä»¬åœ¨æ–¹æ³• <code>ConfigureServices</code> ä¸­æ³¨å†Œä¾èµ–å…³ç³»/æœåŠ¡ï¼Œåœ¨ <code>Configure</code> ä¸­æ³¨å†Œä¸­é—´ä»¶ã€‚</p>
<p>ç°åœ¨ä½¿ç”¨ <code>Program.cs</code>ï¼Œæ‚¨éœ€è¦åœ¨ç¬¬ 4 è¡Œä¹‹åæ³¨å†Œæ‚¨çš„æœåŠ¡/ä¾èµ–é¡¹<code>builder.Services.AddRazorPages();</code>ï¼Œå¹¶åœ¨ç¬¬ 6 è¡Œä¹‹åæ³¨å†Œä¸­é—´ä»¶<code>var app = builder.Build();</code>ã€‚è¯·è®°ä½ï¼Œåœ¨ç®¡é“ä¸­æ³¨å†Œä¸­é—´ä»¶æ—¶ï¼Œé¡ºåºå¾ˆé‡è¦ã€‚</p>
<p>è‹¥è¦å°† <code>Startup.cs</code> æ·»åŠ åˆ° <code>ASP.NET Core 6.0</code> é¡¹ç›®ä¸­ ï¼Œè¯·æ·»åŠ ä¸€ä¸ªåä¸º<code>Startup.cs</code>çš„æ–°æ–‡ä»¶ å¹¶æ·»åŠ ä»¥ä¸‹ä»£ç ã€‚</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Startup</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Startup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IConfiguration</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">        Configuration</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IConfiguration</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> Configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> ConfigureServices</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IServiceCollection</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddRazorPages</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Configure</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">WebApplication</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IWebHostEnvironment</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> env</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Environment</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">IsDevelopment</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseExceptionHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"/Error"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            // The default HSTS value is 30 days. You may want to change this for production scenarios, see https://aka.ms/aspnetcore-hsts.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseHsts</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseHttpsRedirection</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseStaticFiles</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseRouting</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseAuthorization</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">MapRazorPages</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Run</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ„é€ å‡½æ•°å’Œè¿™ä¸¤ä¸ªæ–¹æ³•ä¸­çš„ä»£ç æ˜¯éå¸¸ç†Ÿæ‚‰ã€‚ä»æ–‡ä»¶<code>Program.cs</code>ä¸­åˆ é™¤ä¾èµ–é¡¹æ³¨å†Œçš„ä»£ç å¹¶å°†å…¶æ”¾å…¥<code>ConfigureService()</code>æ–¹æ³•ä¸­ã€‚åŒæ ·ï¼Œä¸­é—´ä»¶æ³¨å†Œç ä¹Ÿä»æ–‡ä»¶ä¸­åˆ é™¤å¹¶æ”¾å…¥<code>Configure()</code> æ–¹æ³•ä¸­ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦ä»‹ç» <code>Program.cs</code> å¦‚ä½•è°ƒç”¨ <code>Startup.cs</code> ã€‚å› æ­¤ï¼Œè¯·å°†æ–‡ä»¶ä»£ç æ›´æ–°ä¸ºä»¥ä¸‹å†…å®¹ã€‚</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> builder</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> WebApplication</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">CreateBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">args</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> startup</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Startup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">startup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ConfigureServices</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> app</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Build</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">startup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Configure</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Environment</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Startup.cs ç±»æ‰€éœ€çš„æ‰€æœ‰å¯¹è±¡éƒ½å­˜åœ¨äº builder å¯¹è±¡ä¸­ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†æ‰€éœ€çš„å¯¹è±¡ä¼ é€’ç»™<code>ConfigureService()</code>å’Œ<code>Configure()</code>æ–¹æ³•ã€‚å°±æ˜¯è¿™æ ·ã€‚æ‚¨çš„é¡¹ç›®åº”è¯¥æ­£å¸¸è¿è¡Œ</p>
<h2>æˆ‘ä»¬è¿˜èƒ½åšä»€ä¹ˆï¼Ÿ</h2>
<p>è¿™æ˜¯æ·»åŠ <code>Startup.cs</code>çš„è‡ªå®šä¹‰æ–¹å¼ï¼Œå› æ­¤å®é™…ä¸Šæˆ‘ä»¬ä¸å¿…éµå¾ªä»»ä½•ä¸è¯¥ç±»ç›¸å…³çš„å†…ç½®è§„åˆ™ã€‚æˆ‘ä»ä¸å–œæ¬¢<code>ConfigureService()</code>å’Œ<code>Configure()</code>è¿™ä¸¤ä¸ªåç§°ï¼Œå› ä¸ºå®ƒä»¬å¹¶æ²¡æœ‰ç¡®åˆ‡å®šä¹‰å®ƒä»¬çš„ç”¨é€”ã€‚ä»¥å‰ï¼Œæ— æ³•é‡å‘½åè¿™äº›åç§°ï¼Œä½†ç°åœ¨æˆ‘å¯ä»¥ç»™å‡ºä¸€ä¸ªæœ‰æ„ä¹‰çš„åç§°ã€‚ç±»ä¼¼åœ°ï¼Œ<code>ConfigureService</code>å˜æˆ<code>RegisterServices</code>ï¼Œ<code>Configure</code>å˜æˆ<code>SetupMiddleware</code>ã€‚</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> startup</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Startup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">startup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">RegisterServices</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> app</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Build</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">startup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">SetupMiddlewares</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Environment</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>æºç </h2>
<ul>
<li><a href="https://github.com/luoyunchong/dotnetcore-examples/blob/master/999-Others/NET6/NET6Startup/Program.cs" target="_blank" rel="noopener noreferrer">dotnetcore-examples/Program.cs at master Â· luoyunchong/dotnetcore-examples (github.com)</a></li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>AspNetCore Identity FreeSqlçš„å®ç°</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/freekit/AspNetCore.Identity.FreeSql.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/freekit/AspNetCore.Identity.FreeSql.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">AspNetCore Identity FreeSqlçš„å®ç°</source>
      <description>AspNetCore Identity FreeSqlçš„å®ç° IGeekFan.AspNetCore.Identity.FreeSql æ˜¯asp.net core 6 çš„identityçš„freesqlå­˜å‚¨çš„å®ç° æ”¯æŒ.NET 6.0 å®‰è£…åŒ… æ–°å¢ FreeSqlçš„Provider ç›¸å…³åŒ… æ‰©å±•ç”¨æˆ·ã€è§’è‰² é…ç½®ç”¨æˆ·ã€è§’è‰²çš„FulentAPI appse...</description>
      <pubDate>Thu, 02 Jun 2022 18:18:50 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>IGeekFan.AspNetCore.Identity.FreeSql</h2>
<p>æ˜¯<code>asp.net core 6</code> çš„<code>identity</code>çš„<code>freesql</code>å­˜å‚¨çš„å®ç°</p>
<ul>
<li><a href="http://xn--ruu81c.NET" target="_blank" rel="noopener noreferrer">æ”¯æŒ.NET</a> 6.0</li>
<li>å®‰è£…åŒ…</li>
</ul>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> package</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> IGeekFan.AspNetCore.Identity.FreeSql</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><ul>
<li>æ–°å¢ FreeSqlçš„Provider ç›¸å…³åŒ…</li>
</ul>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> package</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> FreeSql.Provider.MySqlConnector</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h3>æ‰©å±•ç”¨æˆ·ã€è§’è‰²</h3>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> AppUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IdentityUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Guid</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> FirstName</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> LastName</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> AppRole</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IdentityRole</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Guid</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> AppIdentityDbContext</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IdentityDbContext</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AppUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AppRole</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Guid</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> AppIdentityDbContext</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IdentityOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">identityOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IFreeSql</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">DbContextOptions</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> options</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    : </span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B">base</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">identityOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">options</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    protected</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> override</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> OnConfiguring</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">DbContextOptionsBuilder</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        //è¿™é‡Œç›´æ¥æŒ‡å®šä¸€ä¸ªé™æ€çš„ IFreeSql å¯¹è±¡å³å¯ï¼Œåˆ‡å‹¿é‡æ–° Build()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    protected</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> override</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> OnModelCreating</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ICodeFirst</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> codefirst</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B">        base</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">OnModelCreating</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">codefirst</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        //æ‰¹é‡</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        //codefirst.ApplyConfigurationsFromAssembly(typeof(AppUserConfiguration).Assembly);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        codefirst</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ApplyConfiguration</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> AppUserConfiguration</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        codefirst</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ApplyConfiguration</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> AppRoleConfiguration</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>é…ç½®ç”¨æˆ·ã€è§’è‰²çš„FulentAPI</h3>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> AppUserConfiguration</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IEntityTypeConfiguration</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AppUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Configure</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">EfCoreTableFluent</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AppUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Property</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">x</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> x</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">FirstName</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">HasMaxLength</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">50</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Property</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">x</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> x</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">LastName</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">HasMaxLength</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">50</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> AppRoleConfiguration</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IEntityTypeConfiguration</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AppRole</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Configure</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">EfCoreTableFluent</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AppRole</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>appsettings.json<br>
è¯¥é…ç½®é€šè¿‡æ–¹æ³•<code>UseConnectionString</code>è¯»å–å¦‚ä¸‹é…ç½®</li>
</ul>
<div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"ConnectionStrings"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "MySql"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Data Source=localhost;Port=3306;User ID=root;Password=root;Initial Catalog=aspnetcoreidentity;Charset=utf8mb4;SslMode=none;Max pool size=1;Connection LifeTime=20"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>é…ç½® Identity+FreeSql</h3>
<ul>
<li>æ–°å¢ä¸€ä¸ªæ‰©å±•æ–¹æ³•ï¼Œå¼•ç”¨ aspnetcore identity ç›¸å…³æœåŠ¡</li>
</ul>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IServiceCollection</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> AddFreeSqlIdentity</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">this</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IServiceCollection</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IConfiguration</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">    Func</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IServiceProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">fsql</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> r</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">        IFreeSql</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> fsql</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> FreeSqlBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseConnectionString</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">DataType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">MySql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"ConnectionStrings:MySql"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">])</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">               //.UseNameConvert(NameConvertType.PascalCaseToUnderscoreWithLower)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseAutoSyncStructure</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">true</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//è‡ªåŠ¨åŒæ­¥å®ä½“ç»“æ„åˆ°æ•°æ®åº“ï¼ŒFreeSqlä¸ä¼šæ‰«æç¨‹åºé›†ï¼Œåªæœ‰CRUDæ—¶æ‰ä¼šç”Ÿæˆè¡¨ã€‚</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseMappingPriority</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">MappingPriorityType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">FluentApi</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">MappingPriorityType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Attribute</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">MappingPriorityType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Aop</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseMonitorCommand</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">cmd</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">                    Trace</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">cmd</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CommandText</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> +</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> ";"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Build</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        //è½¯åˆ é™¤</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">GlobalFilter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Apply</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ISoftDelete</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"IsDeleted"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">a</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">IsDeleted</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> ==</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);      </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddSingleton</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddFreeRepository</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddScoped</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">UnitOfWorkManager</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    using</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> scope</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">BuildServiceProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">CreateScope</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> orm</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> scope</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">ServiceProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetRequiredService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        //åªæœ‰å®ä¾‹åŒ–äº†AppIdentityDbContextï¼Œæ‰èƒ½æ­£å¸¸è°ƒç”¨OnModelCreatingï¼Œä¸ç„¶ç›´æ¥ä½¿ç”¨ä»“å‚¨ï¼Œæ— æ³•è°ƒç”¨DbContextä¸­çš„OnModelCreatingæ–¹æ³•ï¼Œé…ç½®çš„TodoConfiguration å°±ä¼šæ²¡æœ‰ç”Ÿæ•ˆ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddFreeDbContext</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AppIdentityDbContext</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">options</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> options</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">orm</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> DbContextOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">                        EnableCascadeSave</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                    }));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddAuthentication</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">o</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        o</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">DefaultScheme</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> IdentityConstants</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">ApplicationScheme</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        o</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">DefaultSignInScheme</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> IdentityConstants</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">ExternalScheme</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddIdentityCookies</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">o</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddIdentityCore</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AppUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">o</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">                o</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">SignIn</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">RequireConfirmedEmail</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">                o</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Stores</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">MaxLengthForKeys</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 128</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddRoles</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AppRole</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddSignInManager</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddFreeSqlStores</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AppIdentityDbContext</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddDefaultTokenProviders</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // å¦‚æœæ˜¯MVC å¦å¤–å®‰è£…åŒ… &lt;PackageReference Include="Microsoft.AspNetCore.Identity.UI" Version="6.0.7" /&gt; ä½¿ç”¨AddDefaultIdentityæ–¹æ³•</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // services.AddDefaultIdentity&lt;AppUser&gt;(options =&gt; options.SignIn.RequireConfirmedAccount = true).AddRoles&lt;AppRole&gt;()</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //        .AddFreeSqlStores&lt;AppIdentityDbContext&gt;().AddDefaultTokenProviders();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>è½¯åˆ é™¤</h3>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> ISoftDelete</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> IsDeleted</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å› ä¸ºFreeSqlåªæœ‰è¿è¡Œæ—¶æ‰ä¼šç”Ÿæˆè¡¨,æˆ‘ä»¬å¢åŠ å®šä¹‰ä¸€ä¸ªæ‰©å±•æ–¹æ³•</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/// è‡ªå®šä¹‰Scope çš„Serivce æ‰§è¡Œ DbContextä¸­çš„OnModelCreating</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic"> name</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">=</span><span style="--shiki-light:#032F62;--shiki-light-font-style:inherit;--shiki-dark:#98C379;--shiki-dark-font-style:italic">"serviceProvider"</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">returns</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">returns</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IServiceProvider</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> RunScopeService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">this</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IServiceProvider</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> serviceProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //åœ¨é¡¹ç›®å¯åŠ¨æ—¶ï¼Œä»å®¹å™¨ä¸­è·å–IFreeSqlå®ä¾‹ï¼Œå¹¶æ‰§è¡Œä¸€äº›æ“ä½œï¼šåŒæ­¥è¡¨ï¼Œç§å­æ•°æ®,FluentAPIç­‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    using</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IServiceScope</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> serviceScope</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> serviceProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">CreateScope</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> freeSql</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> serviceScope</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">ServiceProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetRequiredService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        using</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> dbContext</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> serviceScope</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">ServiceProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetRequiredService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AppIdentityDbContext</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        freeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CodeFirst</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">SyncStructure</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AppUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">),</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AppRole</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">),</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IdentityUserLogin</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Guid</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;),</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IdentityUserRole</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Guid</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;),</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IdentityUserClaim</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Guid</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;),</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IdentityRoleClaim</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Guid</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;),</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IdentityUserToken</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Guid</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> serviceProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨<code>Program</code>ä¸­Buildåï¼Œæˆ‘ä»¬æ‰§è¡Œæ­¤æ–¹æ³•ï¼Œä»¥ä¿è¯DbContextä¸­çš„OnModelCreatingç”Ÿæ•ˆ</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">WebApplicationBuilder</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> builder</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> WebApplication</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">CreateBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">args</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddFreeSqlIdentity</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">WebApplication</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> app</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Build</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//è‡ªå®šä¹‰Scope çš„Serivce æ‰§è¡Œ DbContextä¸­çš„OnModelCreating</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">RunScopeService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ApiController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Route</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"api/[controller]"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> AppUserController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ControllerBase</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> readonly</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> ILogger</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AppUserController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">_logger</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> readonly</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> UserManager</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AppUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">_userManager</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> readonly</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IUserStore</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AppUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">_userStore</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> readonly</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IUserEmailStore</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AppUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">_emailStore</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> readonly</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> SignInManager</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AppUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">_signInManager</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> AppUserController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ILogger</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AppUserController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">logger</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">UserManager</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AppUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">userManager</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">SignInManager</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AppUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">signInManager</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IUserStore</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AppUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">userStore</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">        _logger</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> logger</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">        _userManager</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> userManager</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">        _signInManager</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> signInManager</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">        _userStore</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> userStore</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">        _emailStore</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> GetEmailStore</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    private</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IUserEmailStore</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AppUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetEmailStore</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">_userManager</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">SupportsUserEmail</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> NotSupportedException</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"The default UI requires a user store with email support."</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IUserEmailStore</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AppUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;)</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">_userStore</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// åˆ›å»ºç”¨æˆ·ç¤ºä¾‹</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic"> name</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">=</span><span style="--shiki-light:#032F62;--shiki-light-font-style:inherit;--shiki-dark:#98C379;--shiki-dark-font-style:italic">"createAppUser"</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">returns</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">returns</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">exception</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic"> cref</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">=</span><span style="--shiki-light:#032F62;--shiki-light-font-style:inherit;--shiki-dark:#98C379;--shiki-dark-font-style:italic">"ArgumentException"</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">exception</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpPost</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Task</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IResult</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">CreateUserAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">([</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FromBody</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">CreateAppUser</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> createAppUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">        AppUser</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> user</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> AppUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">            FirstName</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> createAppUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">FirstName</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">            LastName</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> createAppUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">LastName</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">            EmailConfirmed</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> true</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> //ç›´æ¥è®©é‚®ä»¶æ¿€æ´»</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        };</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">        await</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _userStore</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">SetUserNameAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">user</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">createAppUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Email</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CancellationToken</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">None</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">        await</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _emailStore</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">SetEmailAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">user</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">createAppUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Email</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CancellationToken</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">None</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> identityResult</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _userManager</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">CreateAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">user</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">createAppUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Password</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">identityResult</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Succeeded</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            _logger</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">LogInformation</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"User created a new account with password."</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            //è·å–userid</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> userId</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _userManager</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetUserIdAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">user</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            //ç”Ÿæˆé‚®ä»¶æ¿€æ´»ç </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> code</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _userManager</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GenerateEmailConfirmationTokenAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">user</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">            code</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> WebEncoders</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Base64UrlEncode</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Encoding</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">UTF8</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetBytes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">code</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> Results</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Ok</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Register Success"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            //å¦‚æœé‚®ä»¶ EmailConfirmed ä¸ºfalseæ—¶ï¼Œé€šè¿‡æ­¤æ–¹å¼å‘é€æ¿€æ´»é‚®ä»¶</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            //await _emailSender.SendEmailAsync(Input.Email, "Confirm your email",</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            //    $"Please confirm your account by &lt;a href='{HtmlEncoder.Default.Encode(callbackUrl)}'&gt;clicking here&lt;/a&gt;.");</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">identityResult</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Errors</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> ==</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> ArgumentException</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"identityResult.Errors should not be null."</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> errorMsg</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Join</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">','</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">identityResult</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Errors</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">r</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> r</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Description</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        _logger</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">LogInformation</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">errorMsg</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> Results</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">BadRequest</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">errorMsg</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// ç™»å½•</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic"> name</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">=</span><span style="--shiki-light:#032F62;--shiki-light-font-style:inherit;--shiki-dark:#98C379;--shiki-dark-font-style:italic">"userLoginInfo"</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">returns</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">returns</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpPost</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"login"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Task</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IResult</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">LoginAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">([</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FromBody</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">UserLoginInput</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> userLoginInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        _logger</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">LogInformation</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"JwtLogin Begin"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _signInManager</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">PasswordSignInAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">userLoginInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Email</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">userLoginInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Password</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">userLoginInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">RememberMe</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">lockoutOnFailure</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">false</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">result</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Succeeded</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">            AppUser</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> user</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _userManager</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">FindByEmailAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">userLoginInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Email</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            //åˆ›å»ºTokenç­‰ç­‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> token</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> Guid</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">NewGuid</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToString</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            _logger</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">LogInformation</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">$"User {</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">userLoginInfo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">},Login Success"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> Results</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Ok</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">token</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        else</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> Results</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">BadRequest</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">result</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToString</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/// åˆ›å»ºç”¨æˆ·å®ä½“</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic"> name</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">=</span><span style="--shiki-light:#032F62;--shiki-light-font-style:inherit;--shiki-dark:#98C379;--shiki-dark-font-style:italic">"FirstName"</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">å§“</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic"> name</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">=</span><span style="--shiki-light:#032F62;--shiki-light-font-style:inherit;--shiki-dark:#98C379;--shiki-dark-font-style:italic">"LastName"</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">å</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic"> name</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">=</span><span style="--shiki-light:#032F62;--shiki-light-font-style:inherit;--shiki-dark:#98C379;--shiki-dark-font-style:italic">"Email"</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">é‚®ä»¶ã€ç™»å½•å</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic"> name</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">=</span><span style="--shiki-light:#032F62;--shiki-light-font-style:inherit;--shiki-dark:#98C379;--shiki-dark-font-style:italic">"Password"</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">å¯†ç </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> record</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> CreateAppUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> FirstName</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> LastName</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Email</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Password</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/// </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic"> name</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">=</span><span style="--shiki-light:#032F62;--shiki-light-font-style:inherit;--shiki-dark:#98C379;--shiki-dark-font-style:italic">"Email"</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">é‚®ä»¶ã€ç™»å½•å</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic"> name</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">=</span><span style="--shiki-light:#032F62;--shiki-light-font-style:inherit;--shiki-dark:#98C379;--shiki-dark-font-style:italic">"Password"</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">å¯†ç </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic"> name</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">=</span><span style="--shiki-light:#032F62;--shiki-light-font-style:inherit;--shiki-dark:#98C379;--shiki-dark-font-style:italic">"RememberMe"</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">è®°ä½å¯†ç </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> record</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> UserLoginInput</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Email</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Password</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">bool</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RememberMe</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>FreeKit åŸºç¡€åŒ…</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/freekit/Core.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/freekit/Core.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">FreeKit åŸºç¡€åŒ…</source>
      <description>FreeKit åŸºç¡€åŒ… å®‰è£… IGeekFan.FreeKit è¯¥é¡¹ç›®æ— ä»»ä½•ä¾èµ– å®ä½“å®¡è®¡ç±» ä»…åŒ…å«ä¸€äº›åŸºç¡€çš„å®¡è®¡ç±» IEntity ä¸»é”®Id IEntityDto ICreateAuditEntity ä½¿ç”¨æ­¤æ¥å£å¯å­˜å‚¨åˆ›å»ºè€…ä¿¡æ¯ï¼ˆåˆ›å»ºè€…idï¼Œåˆ›å»ºäººï¼Œåˆ›å»ºæ—¶é—´ï¼‰ IUpdateAuditEntity ä½¿ç”¨æ­¤æ¥å£å¯å­˜å‚¨åˆ é™¤ä¿¡æ¯ï¼ˆåˆ é™¤äººidï¼Œåˆ é™¤äººï¼Œåˆ é™¤æ—¶...</description>
      <pubDate>Thu, 02 Jun 2022 18:18:50 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>å®‰è£… IGeekFan.FreeKit</h2>
<p>è¯¥é¡¹ç›®æ— ä»»ä½•ä¾èµ–</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> package</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> IGeekFan.FreeKit</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h3>å®ä½“å®¡è®¡ç±»</h3>
<p>ä»…åŒ…å«ä¸€äº›åŸºç¡€çš„å®¡è®¡ç±»</p>
<ul>
<li>IEntity ä¸»é”®Id</li>
<li>IEntityDto</li>
<li>ICreateAuditEntity ä½¿ç”¨æ­¤æ¥å£å¯å­˜å‚¨åˆ›å»ºè€…ä¿¡æ¯ï¼ˆåˆ›å»ºè€…idï¼Œåˆ›å»ºäººï¼Œåˆ›å»ºæ—¶é—´ï¼‰</li>
<li>IUpdateAuditEntity ä½¿ç”¨æ­¤æ¥å£å¯å­˜å‚¨åˆ é™¤ä¿¡æ¯ï¼ˆåˆ é™¤äººidï¼Œåˆ é™¤äººï¼Œåˆ é™¤æ—¶é—´ï¼‰</li>
<li>IDeleteAuditEntity ä½¿ç”¨æ­¤æ¥å£å¯å­˜å‚¨æœ€åæ›´æ–°ä¿¡æ¯ï¼ˆæœ€åä¿®æ”¹äººIdï¼Œä¿®æ”¹äººï¼Œä¿®æ”¹æ—¶é—´ï¼‰</li>
<li>ISoftDelete è½¯åˆ é™¤æ ‡å¿—</li>
<li><code>IFullAuditEntity&lt;TKey,UKey&gt;</code>ç»§æ‰¿<code>IEntity&lt;TKey&gt;</code>, <code>ICreateAuditEntity&lt;UKey&gt;</code>, <code>IUpdateAuditEntity&lt;UKey&gt;</code>, <code>IDeleteAuditEntity&lt;UKey&gt;</code></li>
<li>ITenant å¤šç§Ÿæˆ·Id</li>
</ul>
<h3>ä¾èµ–æ³¨å…¥æ¥å£</h3>
<p>åªæ˜¯ç©ºæ¥å£</p>
<ul>
<li>ITransientDependencyï¼ˆç¬æ—¶ï¼‰</li>
<li>IScopedDependencyï¼ˆè¯·æ±‚èŒƒå›´ï¼‰</li>
<li>ISingletonDependencyï¼ˆå•ä¾‹ï¼‰</li>
</ul>
<h3>Attribute</h3>
<ul>
<li>DisableConventionalRegistrationAttribute ç¦ç”¨é»˜è®¤çš„æ³¨å†Œæœºåˆ¶</li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>Email é‚®ä»¶</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/freekit/Email.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/freekit/Email.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">Email é‚®ä»¶</source>
      <description>Email é‚®ä»¶ IGeekFan.FreeKit.Email è¯¥åŒ…æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¼€å‘åŒ…ï¼Œå†…éƒ¨ç”±MailKitå®ç°å‘é€é‚®ä»¶ã€‚ å®‰è£…åŒ… 1).é€šè¿‡é…ç½®æ–‡ä»¶é…ç½®EmailæœåŠ¡ ConfigureServicesæ–¹æ³• appsettings.json 2).æˆ–é€šè¿‡å›è°ƒå‡½æ•°é…ç½® ä¸šåŠ¡é€»è¾‘ ç®€å•çš„å®ä½“ï¼Œåœ¨å‘é€ä¹‹å‰åº”éªŒè¯å¿…å¡«é¡¹ã€å¯†ç å¼ºåº¦å’Œé‚®ä»¶æ ¼å¼ç­‰</description>
      <pubDate>Thu, 02 Jun 2022 18:18:50 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>IGeekFan.FreeKit.Email</h2>
<p>è¯¥åŒ…æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¼€å‘åŒ…ï¼Œå†…éƒ¨ç”±MailKitå®ç°å‘é€é‚®ä»¶ã€‚</p>
<ol>
<li>å®‰è£…åŒ…</li>
</ol>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> package</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> IGeekFan.FreeKit.Email</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>1).é€šè¿‡é…ç½®æ–‡ä»¶é…ç½®EmailæœåŠ¡</p>
<ul>
<li>ConfigureServicesæ–¹æ³•</li>
</ul>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddEmailSender</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><ul>
<li>appsettings.json</li>
</ul>
<div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379">  "MailKitOptions"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">:{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "Host"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"smtp.163.com"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "Port"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"25"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "EnableSsl"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">true</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "DisplayName"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"å¤©ä¸Šæœˆå®˜æ–¹è´¦å·"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "UserName"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"igeekfan@163.com"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "Password"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">""</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "Domain"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">""</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  },</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2).æˆ–é€šè¿‡å›è°ƒå‡½æ•°é…ç½®</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddEmailSender</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">r</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        r</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Host</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "smtp.163.com"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        r</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Port</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 25</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        r</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">EnableSsl</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        r</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">DisplayName</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"å¤©ä¸Šæœˆå®˜æ–¹è´¦å·"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        r</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">UserName</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "igeekfan@163.com"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        r</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Password</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> ""</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        r</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Domain</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> ""</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    });</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>ä¸šåŠ¡é€»è¾‘</li>
</ul>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IAccountService</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">        Task</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> SendEmailCode</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">RegisterDto</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> registerDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> AccountService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IAccountService</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        private</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> readonly</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IEmailSender</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> _emailSender</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        private</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> readonly</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> MailKitOptions</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> _mailKitOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> AccountService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">            IEmailSender</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> emailSender</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">            IOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">MailKitOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">options</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">            _emailSender</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> emailSender</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">            _mailKitOptions</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> options</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Task</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> SendEmailCode</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">RegisterDto</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> registerDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> message</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> MimeMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            message</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">From</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Add</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> MailboxAddress</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">_mailKitOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">UserName</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">_mailKitOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">UserName</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            message</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">To</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Add</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> MailboxAddress</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">registerDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Nickname</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">registerDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Email</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            message</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Subject</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> $"VVLOG-ä½ çš„éªŒè¯ç æ˜¯"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> uuid</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> Guid</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">NewGuid</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToString</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">            await</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> RedisHelper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">SetAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"SendEmailCode-"</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> registerDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Email</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">uuid</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">30</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 60</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> rand6Value</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Random</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Next</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">100000</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">999999</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            message</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Body</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> TextPart</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"html"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">                Text</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> $@"{</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">registerDto</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Nickname</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">},æ‚¨å¥½!&lt;/br&gt;ä½ æ­¤æ¬¡éªŒè¯ç å¦‚ä¸‹ï¼Œè¯·åœ¨ 30 åˆ†é’Ÿå†…è¾“å…¥éªŒè¯ç è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œã€‚&lt;/br&gt;å¦‚éä½ æœ¬äººæ“ä½œï¼Œè¯·å¿½ç•¥æ­¤é‚®ä»¶ã€‚&lt;/br&gt;{</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">rand6Value</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">}"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            };</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">            await</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _emailSender</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">SendAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">message</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç®€å•çš„å®ä½“ï¼Œåœ¨å‘é€ä¹‹å‰åº”éªŒè¯å¿…å¡«é¡¹ã€å¯†ç å¼ºåº¦å’Œé‚®ä»¶æ ¼å¼ç­‰</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RegisterDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// æ˜µç§°</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> Nickname</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// å¯†ç </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> Password</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// é‚®ä»¶</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> Email</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; } </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">   }</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>FreeKit Extras æ‰©å±•åŒ…</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/freekit/Extras.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/freekit/Extras.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">FreeKit Extras æ‰©å±•åŒ…</source>
      <description>FreeKit Extras æ‰©å±•åŒ… è¯¥é¡¹ç›®æ˜¯åŸºäº FreeSql å®ç°çš„ä¸€äº›æ‰©å±•åŒ…ã€AOP äº‹åŠ¡ï¼Œå½“å‰ç”¨æˆ·ï¼Œç®€åŒ–ä¾èµ–æ³¨å…¥ ä¸€äº›æ‰©å±•åŒ… å®¡è®¡ç±» ç®€åŒ– FreeSql å•åº“çš„é…ç½®ï¼šUseConnectionString æ‰©å±•æ–¹æ³• åŸºäºç‰¹æ€§æ ‡ç­¾çš„ AOP äº‹åŠ¡ åŸºäºæ¥å£çš„æ³¨å…¥ ICurrentUser å½“å‰ç™»å½•äººä¿¡æ¯ æ‰¹é‡æ³¨å…¥ä»¥ Service ä¸ºåç¼€æ¥å£...</description>
      <pubDate>Thu, 02 Jun 2022 18:18:50 GMT</pubDate>
      <content:encoded><![CDATA[
<p>è¯¥é¡¹ç›®æ˜¯åŸºäº FreeSql å®ç°çš„ä¸€äº›æ‰©å±•åŒ…ã€AOP äº‹åŠ¡ï¼Œå½“å‰ç”¨æˆ·ï¼Œç®€åŒ–ä¾èµ–æ³¨å…¥</p>
<h2>ä¸€äº›æ‰©å±•åŒ…</h2>
<ul>
<li>å®¡è®¡ç±»</li>
<li>ç®€åŒ– FreeSql å•åº“çš„é…ç½®ï¼šUseConnectionString æ‰©å±•æ–¹æ³•</li>
<li>åŸºäºç‰¹æ€§æ ‡ç­¾çš„ AOP äº‹åŠ¡</li>
<li>åŸºäºæ¥å£çš„æ³¨å…¥</li>
<li><code>ICurrentUser</code> å½“å‰ç™»å½•äººä¿¡æ¯</li>
<li>æ‰¹é‡æ³¨å…¥ä»¥ Service ä¸ºåç¼€æ¥å£çš„æœåŠ¡ï¼Œæ ¹æ®æ‰€åœ¨çš„ç¨‹åºé›†</li>
<li>CaseQuery æ”¯æŒ Get è¯·æ±‚å‚æ•° keyï¼Œå¤§å°é©¼å³°è½¬æ¢</li>
<li>åŸºäºå®¡è®¡ç±»çš„FreeSqlä»“å‚¨</li>
<li>å¤åˆä¸»é”®ä»“å‚¨</li>
</ul>
<h2>IGeekFan.FreeKit.Extrasçš„ä¾èµ–é¡¹</h2>
<ul>
<li>FreeSql.DbContext</li>
<li>Autofac.Extensions.DependencyInjection</li>
<li>Autofac.Extras.DynamicProxy</li>
<li>Castle.Core.AsyncInterceptor</li>
</ul>
<p>æ ¹æ®è‡ªå·±è®¿é—®æ•°æ®åº“çš„ä¸åŒï¼Œå®‰è£…FreeSqlå¯¹åº”çš„<a href="http://freesql.net/guide/install.html#packages" target="_blank" rel="noopener noreferrer">Provider</a></p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> package</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> IGeekFan.FreeKit.Extras</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> package</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> FreeSql.Provider.Sqlite</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><h2>ç»Ÿä¸€æ³¨å…¥æœåŠ¡</h2>
<ul>
<li>1.æ³¨å…¥controller <code>UnitOfWorkActionFilter</code></li>
<li>2.<code>IHttpContextAccessor</code>ã€åŠå½“å‰ç™»å½•äººï¼ˆ<code>ICurrentUser</code>ï¼‰ä¿¡æ¯</li>
<li>3.å½“å‰ç™»å½•äººä¸Šä¸‹æ–‡çš„accessor,æ–¹ä¾¿ä¸­é—´ä»¶ä¸­è·å–å½“å‰ç™»å½•äººï¼ˆ<code>ICurrentUser</code>ï¼‰ä¿¡æ¯</li>
<li>4.å®¡è®¡ä»“å‚¨ <code>IAuditBaseRepository</code></li>
<li>5.å¤åˆä¸»é”®ä»“å‚¨ <code>IBaseRepository&lt;Entiy,TKey,UKey&gt;</code></li>
<li>6 FreeSqlä¸­çš„<code>IBaseRepository</code>ã€<code>IBaseRepository&lt;,&gt;</code>ã€<code>UnitOfWorkManager</code></li>
</ul>
<ol start="0">
<li>æ³¨å…¥MediatR</li>
</ol>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>builder.Services.AddMediatR(cfg =&gt;</span></span>
<span class="line"><span>    cfg.RegisterServicesFromAssemblies(Assembly.GetExecutingAssembly(),typeof(Module1Startup).Assembly));</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>1.ç»Ÿä¸€æ³¨å…¥æœåŠ¡</p>
<p>å¯æŒ‡å®šç”¨æˆ·ä¸»é”®ç±»å‹ï¼Œé»˜è®¤ä¸ºGuid,æ”¯æŒTKeyä¸º<code>int,long,Guid</code>ã€‚æ¯”å¦‚ï¼š<code>typeof(long)</code></p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddFreeKitCore</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>2.ç»™controller é…ç½®ä¸€ä¸ªfiltert,æ¥æ”¯æŒcontrollerçº§åˆ«çš„ <code>[Transactional]</code>ç‰¹æ€§äº‹åŠ¡</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddControllers</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">options</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    options</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Filters</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">UnitOfWorkActionFilter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">});</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3.<code>UseCurrentUserAccessor</code>ç»™ICurrentUserAccessorä¸­çš„CurrentUserèµ‹å€¼,æ¯”å¦‚ä¸­é—´ä»¶ç§Ÿæˆ·Idçš„å…¨å±€è¿‡æ»¤å™¨è®¾ç½®,åœ¨<code>UseAuthentication</code>åè®¾ç½®æ­¤ä¸­é—´ä»¶</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseAuthorization</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseAuthentication</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseCurrentUserAccessor</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>4 Autofac é…ç½®</p>
<ul>
<li><code>UnitOfWorkModule</code>ä¸»è¦åŠŸèƒ½ï¼šè‡ªåŠ¨æ³¨å…¥ä»¥Serviceåç¼€çš„ç±»ï¼Œæ”¯æŒæ¥å£ï¼Œç±»ï¼Œå¹¶æ”¯æŒ<code>[Transactional]</code>ç‰¹æ€§äº‹åŠ¡</li>
<li><code>FreeKitModule</code>ä¸»è¦åŠŸèƒ½:ç»§æ‰¿ä¸‰å¤§æ¥å£<code>IScopedDependency</code> (èŒƒå›´)ã€<code>ISingletonDependency</code> (å•ä¾‹)ã€<code>ITransientDependency</code> (ç¬æ—¶) ä¸­ä»»ä¸€æ¥å£ï¼Œå³å¯è‡ªåŠ¨åˆ°å®¹å™¨ä¸­ï¼Œæ”¯æŒæ¥å£ï¼Œç±»</li>
</ul>
<p><code>IGeekFan.FreeKit.Web</code>,<code>Module1</code>,<code>Module2</code>ä¸ºç±»åº“çš„åç§°</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Host</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseServiceProviderFactory</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> AutofacServiceProviderFactory</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ConfigureContainer</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ContainerBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;((</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">webBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">containerBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">=&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">           Assembly</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">currentAssemblies</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> AppDomain</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CurrentDomain</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetAssemblies</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Where</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">r</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">r</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">FullName</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Contains</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"IGeekFan.FreeKit.Web"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">) </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">||</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> r</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">FullName</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Contains</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Module1"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">||</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> r</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">FullName</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Contains</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Module2"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToArray</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        containerBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">RegisterModule</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> UnitOfWorkModule</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">currentAssemblies</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        containerBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">RegisterModule</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> FreeKitModule</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">currentAssemblies</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    });</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>å®¡è®¡ç±»</h3>
<ul>
<li><code>Entity&lt;T&gt;</code>ã€<code>Entity</code>ï¼Œä»…ä¸»é”®çš„å®ä½“ç±»å‹,å…¶ä¸­Tä¸ºä¸»é”®ç±»å‹</li>
<li><code>FullAuditEntity&lt;T, U&gt;</code> åŒ…å«å®¡è®¡å®ä½“åŸºç±»,åŒ…å«<strong>åˆ›å»ºã€ä¿®æ”¹ã€åˆ é™¤</strong>åŠ ä¸»é”®ç­‰10ä¸ªå­—æ®µï¼Œå…¶å®Tä¸ºå½“å‰ä¸»é”®ç±»å‹ï¼ŒUä¸ºç”¨æˆ·è¡¨ä¸»é”®ç±»å‹</li>
</ul>
<h3>ç®€åŒ– FreeSql å•åº“çš„é…ç½®</h3>
<p><code>UseConnectionString</code> æ‰©å±•æ–¹æ³•ï¼ŒDefaultDB é…ç½® 4 ä»£è¡¨ä½¿ç”¨é…ç½®ä¸² Sqliteã€‚éœ€è¦å®‰è£…<code>FreeSql.Provider.Sqlite</code></p>
<ul>
<li>
<p><code>DefaultDB</code>é…ç½®çš„å€¼å®é™…ä¸º<code>FreeSql.DataType</code>çš„æšä¸¾å€¼,å³0ä»£è¡¨MySqlï¼Œ1ä»£è¡¨SqlServer</p>
</li>
<li>
<p><code>ProviderType</code>ï¼šåŒæ—¶å®‰è£…åŒä¸€ç§æ•°æ®åº“provideræ—¶ï¼Œé€šè¿‡è®¾ç½®ProviderTypeï¼ŒæŒ‡å®šå…·ä½“è¦æ±‚çš„provider</p>
</li>
<li>
<p>appsettings.json</p>
</li>
</ul>
<div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"ConnectionStrings"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //"ProviderType": "FreeSql.MySql.MySqlProvider`1,FreeSql.Provider.MySql",</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //"ProviderType": "FreeSql.MySql.MySqlProvider`1,FreeSql.Provider.MySqlConnector",</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //"ProviderType": "FreeSql.Odbc.MySql.OdbcMySqlProvider`1,FreeSql.Provider.Odbc",</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //"ProviderType": "FreeSql.SqlServer.SqlServerProvider`1,FreeSql.Provider.SqlServer",</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //"ProviderType": "FreeSql.SqlServer.SqlServerProvider`1,FreeSql.Provider.SqlServerForSystem",</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //"ProviderType": "FreeSql.Oracle.OracleProvider`1,FreeSql.Provider.Oracle",</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //"ProviderType": "FreeSql.Oracle.OracleProvider`1,FreeSql.Provider.OracleOledb",</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //"ProviderType": "FreeSql.Odbc.Oracle.OdbcOracleProvider`1,FreeSql.Provider.Odbc",</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "DefaultDB"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"4"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "DataType"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">        "MySql"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">        "SqlServer"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">        "PostgreSQL"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">        "Oracle"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">3</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">        "Sqlite"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">4</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">     },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "MySql"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Data Source=localhost;Port=3306;User ID=root;Password=root;Initial Catalog=freekit;Charset=utf8mb4;SslMode=none;Max pool size=1;Connection LifeTime=20"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "SqlServer"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Data Source=.;User ID=sa;Password=123456;Integrated Security=True;Initial Catalog=LinCMS;Pooling=true;Min Pool Size=1"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "PostgreSQL"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Host=localhost;Port=5432;Username=postgres;Password=123456; Database=lincms;Pooling=true;Minimum Pool Size=1"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "Oracle"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"user id=user1;password=123456; data source=//127.0.0.1:1521/ORCL;Pooling=true;Min Pool Size=1"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "Sqlite"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Data Source=|DataDirectory|/freekit.db; Attachs=freekit.db; Pooling=true;Min Pool Size=1"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>æ‰©å±•æ–¹æ³•é…ç½® FreeSqlï¼Œå¹¶è®¾ç½® <code>ICurrentUserAccessor</code> è·å–ç§Ÿæˆ·Idè®¾ç½®å…¨å±€è¿‡æ»¤å™¨</li>
</ul>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> ServiceCollectionExtensions</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IServiceCollection</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> AddFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">this</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IServiceCollection</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IConfiguration</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> c</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">        Func</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IServiceProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">fsql</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> r</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> currentAccessor</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> r</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetRequiredService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ICurrentUserAccessor</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">            IFreeSql</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> fsql</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> FreeSqlBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseConnectionString</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">c</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseNameConvert</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">NameConvertType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">PascalCaseToUnderscoreWithLower</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseAutoSyncStructure</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">true</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//è‡ªåŠ¨åŒæ­¥å®ä½“ç»“æ„åˆ°æ•°æ®åº“ï¼ŒFreeSqlä¸ä¼šæ‰«æç¨‹åºé›†ï¼Œåªæœ‰CRUDæ—¶æ‰ä¼šç”Ÿæˆè¡¨ã€‚</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseGenerateCommandParameterWithLambda</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">true</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//é»˜è®¤false,é’ˆå¯¹ lambda è¡¨è¾¾å¼è§£æ,è®¾ç½®æˆtrueæ—¶æ–¹ä¾¿æŸ¥çœ‹SQL</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseNoneCommandParameter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">true</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//é»˜è®¤true,é’ˆå¯¹insert/update/deleteæ˜¯å¦å‚æ•°åŒ–</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseMonitorCommand</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">cmd</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">                        Console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\r\n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">çº¿ç¨‹"</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> Thread</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CurrentThread</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">ManagedThreadId</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> +</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> ": "</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> cmd</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CommandText</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                    })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Build</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">GlobalFilter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ApplyOnly</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ISoftDelete</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"IsDeleted"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">a</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">IsDeleted</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> ==</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">GlobalFilter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ApplyOnlyIf</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ITenant</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"TenantId"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> currentAccessor</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CurrentUser</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">?</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">TenantId</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> !=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">a</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">TenantId</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> ==</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> currentAccessor</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CurrentUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">TenantId</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            // ä¸ä½¿ç”¨IAuditBaseRepositoryçš„å®¡è®¡ä»“å‚¨ æ“ä½œCRUDæ—¶ï¼Œå¯ä½¿ç”¨æ­¤æ–¹å¼è¿›è¡Œå®¡è®¡ç±»çš„è‡ªåŠ¨èµ‹å€¼</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Aop</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">AuditValue</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> +=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">_</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">e</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">e</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AuditValue</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Guid</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">currentAccessor</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CurrentUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">); };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddSingleton</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddFreeKitCore</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        using</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IServiceScope</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> scope</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">BuildServiceProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">CreateScope</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> freeSql</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> scope</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">ServiceProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetRequiredService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            //freeSql.CodeFirst.SyncStructure(ReflexHelper.GetTypesByTableAttribute(typeof(Program)));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            freeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CodeFirst</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">SyncStructure</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Song</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//Program.cs</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> c</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">c</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>åŸºäºç‰¹æ€§æ ‡ç­¾çš„ AOP äº‹åŠ¡</h3>
<p>è¯¥ç‰¹æ€§æ”¯æŒä»¥Serviceä¸ºåç¼€çš„æ–¹æ³•ï¼Œå¹¶ä¸”éœ€è¦ç»§æ‰¿æ¥å£</p>
<ul>
<li>
<p>ç‰¹æ€§æ ‡ç­¾ <strong>[Transactional]</strong></p>
</li>
<li>
<p><code>Propagation</code> äº‹åŠ¡ä¼ æ’­æ–¹å¼</p>
<ul>
<li>Required  å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±æ–°å»ºä¸€ä¸ªäº‹åŠ¡ï¼Œå¦‚æœå·²å­˜åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­ï¼ŒåŠ å…¥åˆ°è¿™ä¸ªäº‹åŠ¡ä¸­ï¼Œé»˜è®¤çš„é€‰æ‹©ã€‚</li>
<li>Supports æ”¯æŒå½“å‰äº‹åŠ¡ï¼Œå¦‚æœæ²¡æœ‰å½“å‰äº‹åŠ¡ï¼Œå°±ä»¥éäº‹åŠ¡æ–¹æ³•æ‰§è¡Œ</li>
<li>Mandatory ä½¿ç”¨å½“å‰äº‹åŠ¡ï¼Œå¦‚æœæ²¡æœ‰å½“å‰äº‹åŠ¡ï¼Œå°±æŠ›å‡ºå¼‚å¸¸ã€‚</li>
<li>NotSupported ä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œæ“ä½œï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œå°±æŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·ã€‚</li>
<li>Never ä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œæ“ä½œï¼Œå¦‚æœå½“å‰äº‹åŠ¡å­˜åœ¨åˆ™æŠ›å‡ºå¼‚å¸¸ã€‚</li>
<li>Nested ä»¥åµŒå¥—äº‹åŠ¡æ–¹å¼æ‰§è¡Œ</li>
</ul>
</li>
<li>
<p><code>IsolationLevel</code> äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼ˆé»˜è®¤ä¸ºReadCommittedï¼‰</p>
<ul>
<li>ReadUncommitted è¯¥äº‹åŠ¡å¯ä»¥è¯»å–è¿˜æœªè¢«åˆ«çš„äº‹åŠ¡æäº¤çš„æ•°æ®ï¼ˆè„è¯»ï¼‰</li>
<li>ReadCommitted  (sql serverçš„é»˜è®¤éš”ç¦») äº‹åŠ¡åªå¯è¯»å–åˆ°åˆ«çš„äº‹åŠ¡ä¸­å·²ç»è¢«æäº¤çš„(Committed)æ•°æ®ï¼Œé¿å…äº†"è„è¯»"</li>
<li>RepeatableRead  (InnoDB çš„é»˜è®¤éš”ç¦»çº§åˆ«) ä¸ºäº†ä¿è¯å¤šæ¬¡è¯»å–æ•°æ®çš„ä¸€è‡´æ€§ï¼Œè§£å†³ä¸å¯é‡å¤è¯»(non-repeatable reads)</li>
<li>Serializable ä¸ºäº†è§£å†³"å¹»è¯»"(Phantom reads)é—®é¢˜</li>
</ul>
</li>
<li>
<p>é…ç½®é»˜è®¤çš„äº‹åŠ¡çº§åˆ«ï¼ˆå¯ä¸é…ç½®ï¼‰</p>
</li>
</ul>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Configure</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">UnitOfWorkDefualtOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">c</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    c</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">IsolationLevel</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">System</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Data</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">IsolationLevel</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">ReadCommitted</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//ï¼ˆé»˜è®¤ä¸ºnullæ—¶æœªæŒ‡å®šæ—¶ï¼Œä¾æ—§ä¸ºnullï¼Œæ ¹æ®æ•°æ®åº“çš„äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    c</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Propagation</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> Propagation</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Required</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//ï¼ˆé»˜è®¤ä¸ºnullæ—¶æœªæŒ‡å®šæ—¶ï¼Œåˆ™æŒ‡å®šRequiredï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">});</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>|æ•°æ®åº“|é»˜è®¤éš”ç¦»çº§åˆ«|<br>
|</p>
]]></content:encoded>
    </item>
    <item>
      <title>Localization æœ¬åœ°åŒ–</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/freekit/Localization.FreeSql.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/freekit/Localization.FreeSql.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">Localization æœ¬åœ°åŒ–</source>
      <description>Localization æœ¬åœ°åŒ– IGeekFan.Localization.FreeSql åŸºäºæ•°æ®åº“å­˜å‚¨çš„æœ¬åœ°åŒ–ï¼Œå¯ä»¥è®©ä½ çš„ç¨‹åºæ”¯æŒå¤šè¯­è¨€ï¼Œä¼šåˆ›å»ºäºŒä¸ªè¡¨ã€‚ LocalCulture(æœ¬åœ°åŒ–è¯­è¨€) LocalResource(èµ„æº) å¯æ”¯æŒè‡ªå®šä¹‰é•¿åº¦ï¼Œé€šè¿‡FluentAPIè¿›è¡Œè®¾ç½® å®‰è£…åŒ… é…ç½®FreeSqlæœåŠ¡ å®šä¹‰æ‰©å±•æ–¹æ³• appsettings...</description>
      <pubDate>Thu, 02 Jun 2022 18:18:50 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>IGeekFan.Localization.FreeSql</h2>
<p>åŸºäºæ•°æ®åº“å­˜å‚¨çš„æœ¬åœ°åŒ–ï¼Œå¯ä»¥è®©ä½ çš„ç¨‹åºæ”¯æŒå¤šè¯­è¨€ï¼Œä¼šåˆ›å»ºäºŒä¸ªè¡¨ã€‚</p>
<h2>LocalCulture(æœ¬åœ°åŒ–è¯­è¨€)</h2>
<p>|ç±»å‹|åç§°|é•¿åº¦|<br>
|</p>
]]></content:encoded>
    </item>
    <item>
      <title>Modularity æ¨¡å—åŒ–</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/freekit/Modularity.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/freekit/Modularity.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">Modularity æ¨¡å—åŒ–</source>
      <description>Modularity æ¨¡å—åŒ– å•ä½“æ¨¡å—åŒ– https://github.com/thinktecture-labs/aspnetcore-modular-monolith å› ä¸ºç±»åå¦‚ Autofac å’Œ aspnetcore ä¸­çš„ç±»ç›¸åŒï¼Œå°†ç±»åä¿®æ”¹æˆå¦‚ä¸‹åç§° Module.cs--&amp;gt;ModuleInfo.cs IStartup.cs--&amp;gt;IModule...</description>
      <pubDate>Thu, 02 Jun 2022 18:18:50 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>å•ä½“æ¨¡å—åŒ–</h2>
<ul>
<li><a href="https://github.com/thinktecture-labs/aspnetcore-modular-monolith" target="_blank" rel="noopener noreferrer">https://github.com/thinktecture-labs/aspnetcore-modular-monolith</a></li>
</ul>
<p>å› ä¸ºç±»åå¦‚ Autofac å’Œ aspnetcore ä¸­çš„ç±»ç›¸åŒï¼Œå°†ç±»åä¿®æ”¹æˆå¦‚ä¸‹åç§°</p>
<ul>
<li>Module.cs--&gt;ModuleInfo.cs</li>
<li>IStartup.cs--&gt;IModuleStartup.cs</li>
</ul>
<p>åˆ›å»ºä¸€ä¸ªç±»åº“å Module1ï¼Œå¹¶å¼•ç”¨ AspNetCore åŒ…</p>
<div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" data-title="xml" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">   &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">ItemGroup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">		&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">FrameworkReference</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66"> Include</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Microsoft.AspNetCore.App"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">   &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75">ItemGroup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é›†æˆæ¥å£ï¼Œå¯åœ¨<code>ConfigureServices</code>ä¸­æ³¨å…¥ä»»ä½•æœåŠ¡ï¼Œåœ¨<code>Configure</code>æ–¹æ³•ä¸­æ³¨å…¥ä¸­é—´ä»¶</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Module1Startup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IModuleStartup</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> ConfigureServices</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IServiceCollection</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        //services.AddSingleton&lt;ITestService, TestService&gt;();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Configure</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IApplicationBuilder</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IWebHostEnvironment</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> env</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseEndpoints</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">endpoints</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            endpoints</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">MapGet</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"/TestEndpoint"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">                async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> context</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">                    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> context</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Response</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">WriteAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Hello World from TestEndpoint in Module 1"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                }).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">RequireAuthorization</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨æ§åˆ¶å™¨</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Microsoft</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AspNetCore</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Mvc</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Route</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"[module]/[controller]"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> TestController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Controller</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpGet</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> ActionResult</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Index</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "Hello World from TestController in Module 1"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// InterModule</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">returns</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">returns</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpGet</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"InterModule"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> ActionResult</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">InterModule</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> $"{</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">} in TestController in Module 1"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>ä¸»ç¨‹åº<code>Program</code></li>
</ul>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Register a convention allowing to us to prefix routes to modules.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddTransient</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IPostConfigureOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">MvcOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ModuleRoutingMvcOptionsPostConfigure</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Adds module1 with the route prefix module-1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddModule</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Module1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Module1Startup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"module-1"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Adds module2 with the route prefix module-2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddModule</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Module2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Module2Startup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"module-2"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>æ³¨å…¥ä¸­é—´ä»¶</li>
</ul>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Adds endpoints defined in modules</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> modules</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetRequiredService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IEnumerable</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ModuleInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;&gt;();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">foreach</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> module</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> modules</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Map</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">$"/{</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">module</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">RoutePrefix</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">}"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseRouting</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        module</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Startup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Configure</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">app</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Environment</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>FreeKit æŒ‡åŒ—</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/freekit/</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/freekit/</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">FreeKit æŒ‡åŒ—</source>
      <description>FreeKit æŒ‡åŒ— .NET YEARS Freekit ä¸º.NET Coreæä¾›äº†æ›´å¤šçš„æ‰©å±•å®ç° .NET IDE Rider GitHub license Nuget Packages BaGet Packages IGeekFan.AspNetCore.Identity.FreeSql æŸ¥çœ‹æ–‡æ¡£ IGeekFan.FreeKit AuditEn...</description>
      <pubDate>Thu, 02 Jun 2022 18:18:50 GMT</pubDate>
      <content:encoded><![CDATA[
<div align="center">
<h2><img src="/images/dotnet-bot_skating.png" width="100"> .NET <img src="/images/dotnet-20-years.png" width="80"> YEARS</h2>
<p><strong>Freekit</strong> <a href="http://xn--siq.NET" target="_blank" rel="noopener noreferrer">ä¸º.NET</a> Coreæä¾›äº†æ›´å¤šçš„æ‰©å±•å®ç°</p>
<p><a href="https://www.jetbrains.com/rider/" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/static/v1?style=float&amp;logo=rider&amp;label=Rider&amp;message=jetbrains&amp;color=red" alt=".NET IDE Rider"></a><br>
<a href="https://raw.githubusercontent.com/luoyunchong/IGeekFan.AspNetCore.RapiDoc/master/LICENSE" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/badge/license-MIT-blue.svg" alt="GitHub license"></a></p>
</div>
<h2>Nuget Packages</h2>
<p>| Package name                           | Version                                                                                                                                                                                              | Downloads                                                                              |<br>
|</p>
]]></content:encoded>
      <enclosure url="https://img.shields.io/static/v1?style=float&amp;logo=rider&amp;label=Rider&amp;message=jetbrains&amp;color=red" type="image/"/>
    </item>
    <item>
      <title>Blogsåˆ†äº«</title>
      <link>https://igeekfan.cn/igeekfan-docs/blogs/</link>
      <guid>https://igeekfan.cn/igeekfan-docs/blogs/</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">Blogsåˆ†äº«</source>
      <description>Blogsåˆ†äº«</description>
      <pubDate>Fri, 07 Jan 2022 10:07:15 GMT</pubDate>
      <content:encoded><![CDATA[
]]></content:encoded>
    </item>
    <item>
      <title>.NET ç¼–ç çš„åŸºç¡€çŸ¥è¯†</title>
      <link>https://igeekfan.cn/igeekfan-docs/blogs/net-encoded-1.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/blogs/net-encoded-1.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">.NET ç¼–ç çš„åŸºç¡€çŸ¥è¯†</source>
      <description>.NET ç¼–ç çš„åŸºç¡€çŸ¥è¯† .NET ç¼–ç çš„ä¸€äº›åŸºæœ¬æ¦‚å¿µå’Œåˆ†æ ç®€å•çš„ç±»å‹æ¦‚å¿µ Hex ï¼ˆ16 è¿›åˆ¶ï¼‰ byte å­—èŠ‚ èŒƒå›´æ˜¯ï¼š0~255ï¼ŒäºŒè¿›åˆ¶ä¸‹çš„èŒƒå›´å°±æ˜¯00000000~11111111ï¼Œç›¸å½“äº 1 å­—èŠ‚ã€‚ byte[] å­—èŠ‚æ•°ç»„ bit æ¯”ç‰¹ï¼Œåªæœ‰ 2 ç§çŠ¶æ€ï¼š0ï¼Œ1 1 å­—èŠ‚ ç­‰äº 8 æ¯”ç‰¹ å³1byte=8bit åœ¨ c#ä¸­ã€‚Byte å³ b...</description>
      <pubDate>Fri, 07 Jan 2022 10:07:15 GMT</pubDate>
      <content:encoded><![CDATA[
<p>.NET ç¼–ç çš„ä¸€äº›åŸºæœ¬æ¦‚å¿µå’Œåˆ†æ</p>
<h3>ç®€å•çš„ç±»å‹æ¦‚å¿µ</h3>
<ul>
<li>Hex ï¼ˆ16 è¿›åˆ¶ï¼‰</li>
<li>byte å­—èŠ‚ èŒƒå›´æ˜¯ï¼š<code>0~255</code>ï¼ŒäºŒè¿›åˆ¶ä¸‹çš„èŒƒå›´å°±æ˜¯<code>00000000~11111111</code>ï¼Œç›¸å½“äº 1 å­—èŠ‚ã€‚</li>
<li>byte[] å­—èŠ‚æ•°ç»„</li>
<li>bit æ¯”ç‰¹ï¼Œåªæœ‰ 2 ç§çŠ¶æ€ï¼š0ï¼Œ1</li>
</ul>
<p><strong>1 å­—èŠ‚ ç­‰äº 8 æ¯”ç‰¹</strong> å³<strong>1byte=8bit</strong></p>
<p>åœ¨ c#ä¸­ã€‚Byte å³ byteï¼Œä»–æ˜¯ä¸€ä¸ª struct ç»“æ„ä½“ï¼Œ</p>
<p>b1 ç­‰äº b2.</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">byte</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> b</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">byte</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> b1</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 0xf</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//ä»¥0xå¼€å¤´ å³16è¿›åˆ¶çš„å†™æ³•</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">byte</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> b2</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 15</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Assert</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Equal</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">b1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">b2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é”™è¯¯çš„è¯­æ³•</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">byte</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> b3</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> b1</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> b2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>æ­£ç¡®çš„è¯­æ³•</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">byte</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> b3</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">byte</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">b1</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> b2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//æˆ–</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> b4</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> b1</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> b2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å› ä¸º byte çš„ç›¸äº’è¿ç®—å¤ªå®¹æ˜“å‘ç”Ÿæº¢å‡ºï¼Œ+ åŠ çš„é‡è½½ æ˜¯ int ç±»å‹ç›¸åŠ ï¼Œæ‰€ä»¥ç»“æœæ˜¯ int ç±»å‹</p>
<h3>Encoding.UTF8.GetBytes</h3>
<p>UTF8 æ˜¯ç»Ÿä¸€çš„ç¼–ç æ–¹å¼ï¼Œå®ƒæ˜¯ä¸€ç§å˜é•¿çš„ç¼–ç æ–¹å¼.å®ƒå¯ä»¥ä½¿ç”¨ 1~4 ä¸ªå­—èŠ‚è¡¨ç¤ºä¸€ä¸ªç¬¦å·ï¼Œæ ¹æ®ä¸åŒçš„ç¬¦å·è€Œå˜åŒ–å­—èŠ‚é•¿åº¦</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">byte</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">plaintext</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> Encoding</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">UTF8</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetBytes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"0123456789"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>èƒ½å¾—åˆ°ä»€ä¹ˆæ ·çš„æ•°æ®ï¼Œ<strong>48,49,50,51,52,53,54,55,56,57</strong>ã€‚ä¸ºä»€ä¹ˆï¼Ÿ</p>
<p>æœ ASCII ç ï¼Œæˆ‘ä»¬å°±çŸ¥é“ <code>0</code>çš„ ASCII ç æ˜¯ <code>48</code></p>
<p>å¦‚æœæ˜¯å­—æ¯å‘¢ã€‚</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">byte</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">plaintext</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> Encoding</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">UTF8</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetBytes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"ABCDabcd"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>èƒ½å¾—åˆ°ä»€ä¹ˆæ ·çš„æ•°æ®ï¼Œ<strong>65,66,67,68,97,98,99,100</strong>ã€‚ä¸ºä»€ä¹ˆï¼Ÿè¿˜æ˜¯å› ä¸º ASCII ç ã€‚UTF8 å½“ç„¶æ˜¯å…¼å®¹ ASCII ç ã€‚</p>
<p>å› ä¸ºä¸€ä¸ª ASCII ç ï¼Œ1 ä¸ªå­—èŠ‚å°±èƒ½è¡¨ç¤º 256 ä¸ªçŠ¶æ€ï¼Œæ‰€ä»¥è‹±æ–‡å­—æ¯ï¼Œé˜¿æ‹‰ä¼¯æ•°å­—ï¼Œæ ‡ç‚¹ç¬¦å·éƒ½ä¸åœ¨è¯ï¼Œå“ªå¦‚æœæ˜¯ä¸­æ–‡å‘¢ã€‚è¿™é‡Œæˆ‘ä»¬å°±æ‹¿ UTF8 ç¼–ç æ¥åˆ†æã€‚</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>byte[]   plaintext = Encoding.UTF8.GetBytes("ä¸­å›½");</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>å¦‚ä¸‹å†…å®¹ï¼Œé•¿åº¦ä¸º 6ï¼Œ228ï¼Œ184ï¼Œ173 éƒ½æ˜¯åè¿›åˆ¶ã€‚å¦‚æœè½¬æˆ 16 è¿›åˆ¶å‘¢ã€‚<strong>e4ï¼Œb8ï¼Œad</strong>ï¼Œå¦‚æœåˆ†ä¸æ¸…åå…­è¿›åˆ¶ï¼Œå»ºè®®å­¦ä¸€ä¸‹ï¼Œè®¡ç®—æœºç³»ç»ŸåŸºç¡€ã€‚å½“ç„¶ï¼Œè¯´æ˜ä¸€ä¸‹ï¼Œ<code>a</code>ä»£è¡¨<code>10</code>ï¼Œ<code>e</code>å³ä»£è¡¨<code>14</code>.å³<code>14*16+4=228</code>.è¡¨ç¤ºæ—¶ä¸åŒºåˆ†å¤§å°å†™ï¼Œå³ç”¨å¤§å†™<code>A</code>ï¼Œå’Œå°å†™<code>a</code>éƒ½èƒ½è¡¨ç¤º<code>10</code></p>
<p>| åˆ—  | åè¿›åˆ¶ | åå…­è¿›åˆ¶ |<br>
|</p>
]]></content:encoded>
    </item>
    <item>
      <title>.NET+Sqlite å¦‚ä½•æ”¯æŒåŠ å¯†</title>
      <link>https://igeekfan.cn/igeekfan-docs/blogs/net-sqlite-encryption.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/blogs/net-sqlite-encryption.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">.NET+Sqlite å¦‚ä½•æ”¯æŒåŠ å¯†</source>
      <description>.NET+Sqlite å¦‚ä½•æ”¯æŒåŠ å¯† ç›¸å…³æ–‡ç«  FreeSql.Provider.SqliteCore å¦‚ä½•åŠ å¯† Sqlite SQLite æ¥æºäºå…¬å…±é¢†åŸŸ SQLite Is Public Domainã€ ç¡®ä¿ä»£ç ä¸ä¼šå—åˆ°ä»»ä½•ä¸“æœ‰æˆ–è®¸å¯å†…å®¹çš„æ±¡æŸ“ï¼Œæ²¡æœ‰ä»»ä½•æ¥è‡ªäº’è”ç½‘ä¸Šçš„æœªçŸ¥æ¥æºå¤åˆ¶ã€‚å³å…¨æ˜¯åŸåˆ›çš„ã€‚ è™½ç„¶æ˜¯å…è´¹çš„ï¼Œæ— éœ€è®¸å¯è¯ï¼Œå¯ç”¨äºä»»ä½•ç›®çš„ï¼Œä½†å¦‚æœä½ çš„...</description>
      <pubDate>Fri, 07 Jan 2022 10:07:15 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>ç›¸å…³æ–‡ç« </h2>
<ul>
<li><a href="https://www.cnblogs.com/igeekfan/p/freesql-sqlitecore-SQLCipher.html" target="_blank" rel="noopener noreferrer">FreeSql.Provider.SqliteCore å¦‚ä½•åŠ å¯†</a></li>
</ul>
<h2>Sqlite</h2>
<p><code>SQLite</code> æ¥æºäºå…¬å…±é¢†åŸŸ <code>SQLite Is Public Domain</code>ã€<br>
ç¡®ä¿ä»£ç ä¸ä¼šå—åˆ°ä»»ä½•ä¸“æœ‰æˆ–è®¸å¯å†…å®¹çš„æ±¡æŸ“ï¼Œæ²¡æœ‰ä»»ä½•æ¥è‡ªäº’è”ç½‘ä¸Šçš„æœªçŸ¥æ¥æºå¤åˆ¶ã€‚å³å…¨æ˜¯åŸåˆ›çš„ã€‚</p>
<p>è™½ç„¶æ˜¯å…è´¹çš„ï¼Œæ— éœ€è®¸å¯è¯ï¼Œå¯ç”¨äºä»»ä½•ç›®çš„ï¼Œä½†å¦‚æœä½ çš„å…¬å¸å¿…é¡»è¦ä¸€ä¸ªè®¸å¯è¯ï¼Œä½ ä¹Ÿèƒ½ç”³è¯·æˆæƒ<a href="https://sqlite.org/purchase/license" target="_blank" rel="noopener noreferrer">https://sqlite.org/purchase/license</a>.</p>
<p>ä½†ä¸æ”¯æŒ<strong>åŠ å¯†</strong>ã€‚å¦‚æœæƒ³æ”¯æŒç™»å½•åŠ å¯†ï¼Œéœ€è¦å¦å¤–çš„æ‰©å±•<strong>SQLite åŠ å¯†æ‰©å±•(SQLite Encryption Extension,)</strong>ï¼Œå…·æœ‰è¯»å–/å†™å…¥ AES åŠ å¯†æ•°æ®åº“çš„é™„åŠ åŠŸèƒ½ã€‚å…·ä½“æˆæƒå¯å‚è€ƒ <a href="https://www.sqlite.org/prosupport.html" target="_blank" rel="noopener noreferrer">https://www.sqlite.org/prosupport.html</a></p>
<h2>Sqlite åŠ å¯†</h2>
<p>ä¸€ç›´ä»¥æ¥ï¼Œ<code>FreeSql</code>å¼€å‘ç¾¤ä¸­ï¼Œæ€»ä¼šæœ‰ä¸€äº›å¼€å‘è€…æ¥è¯¢é—®<code>Sqlite</code>åŠ å¯†çš„é—®é¢˜ï¼Œäº‹å®ä¸Šï¼Œå®˜æ–¹æä¾›çš„ Sqlite åŠ å¯†åŠŸèƒ½æ˜¯æ”¶è´¹çš„ã€‚å½“è¿æ¥ä¸²ä¸Šä½¿ç”¨<code>Password</code>æ—¶ï¼Œä¼šæç¤ºæˆæƒé—®é¢˜ã€‚<br>
å¦‚æœåº•å±‚ä¾èµ–äº<code>System.Data.SQLite.Core</code>ï¼Œ</p>
<div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>Could not load file or assembly 'System.Data.SQLite.SEE.License,</span></span>
<span class="line"><span>Version=1.0.115.5, Culture=neutral, PublicKeyToken=433d9874d0bb98c5,</span></span>
<span class="line"><span>processorArchitecture=MSIL</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœåº•å±‚ä¾èµ–äº<code>Microsoft.Data.Sqlite</code> ä¹Ÿä¼šæç¤º</p>
<div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>You specified a password in the connection string, but the native SQLite</span></span>
<span class="line"><span>library 'e_sqlite3' doesn't support encryption.</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><h2>System.Data.SQLite.Core</h2>
<p>åˆ›å»ºä¸€ä¸ªæ§åˆ¶å°é¡¹ç›®,èµ·å <code>OvOv.SqliteSystemCore</code></p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> new</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> console</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> OvOv.SqliteSystemCore</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> OvOv.SqliteSystemCore</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>å®‰è£…åŒ…</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> package</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> System.Data.SQLite.Core</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>ä½¿ç”¨<code>SQLiteConnection</code>åˆ›å»ºä¸€ä¸ªè¿æ¥ï¼Œä½¿ç”¨ Password æŒ‡å®šå¯†ç </p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> System</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Data</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">SQLite</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">static</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Open</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> baseConnectionString</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "Data Source=local.db"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> connectionString</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> SQLiteConnectionStringBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">baseConnectionString</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">        Password</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "123qwe"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToString</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> SQLiteConnection</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">? </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">connection</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> SQLiteConnection</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">connectionString</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    connection</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Open</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Open</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡Œé¡¹ç›®</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>å°±ä¼šå‡ºç°å¦‚ä¸‹é”™è¯¯ã€‚</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>System.IO.FileNotFoundException:â€œCould not load file or assembly</span></span>
<span class="line"><span>'System.Data.SQLite.SEE.License, Version=1.0.115.5, Culture=neutral, PublicKeyToken=433d9874d0bb98c5, processorArchitecture=MSIL'.</span></span>
<span class="line"><span>ç³»ç»Ÿæ‰¾ä¸åˆ°æŒ‡å®šçš„æ–‡ä»¶ã€‚â€</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>Microsoft.Data.Sqlite</h2>
<p>åˆ›å»ºä¸€ä¸ªæ§åˆ¶å°é¡¹ç›®,èµ·å <code>OvOv.SqliteMicrosoft</code></p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> new</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> console</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> OvOv.SqliteMicrosoft</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> OvOv.SqliteMicrosoft</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>å®‰è£…åŒ…</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> package</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> Microsoft.Data.Sqlite</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>ä½¿ç”¨<code>SqliteConnection</code>åˆ›å»ºä¸€ä¸ªè¿æ¥ï¼Œä½¿ç”¨ Password æŒ‡å®šå¯†ç </p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Microsoft</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Data</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Sqlite</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">static</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Open</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> baseConnectionString</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "Data Source=local.db"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> connectionString</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> SqliteConnectionStringBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">baseConnectionString</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">        Mode</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> SqliteOpenMode</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">ReadWriteCreate</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">        Password</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "123qwe"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToString</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> SqliteConnection</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">? </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">connection</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> SqliteConnection</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">connectionString</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    connection</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Open</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Open</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡Œé¡¹ç›®</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>å°±ä¼šå‡ºç°å¦‚ä¸‹é”™è¯¯ã€‚</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>Unhandled exception. System.InvalidOperationException: You specified a password in the connection string,</span></span>
<span class="line"><span>but the native SQLite library</span></span>
<span class="line"><span>'e_sqlite3' doesn't support encryption. at Microsoft.Data.Sqlite.SqliteConnection.Open()</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶å®å¾®è½¯å·²ç»æä¾›äº†åŠ å¯†çš„æ–¹æ¡ˆã€‚</p>
<ul>
<li><a href="https://docs.microsoft.com/zh-cn/dotnet/standard/data/sqlite/encryption?tabs=netcore-cli" target="_blank" rel="noopener noreferrer">https://docs.microsoft.com/zh-cn/dotnet/standard/data/sqlite/encryption?tabs=netcore-cli</a></li>
</ul>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> remove</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> package</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> Microsoft.Data.Sqlite</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> package</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> Microsoft.Data.Sqlite.Core</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> package</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> SQLitePCLRaw.bundle_e_sqlcipher</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‡æ–°è¿è¡Œé¡¹ç›® ï¼Œå°±ä¼šå‘ç°ï¼Œä»–æ­£å¸¸æ‰§è¡Œã€‚æ²¡æœ‰ä»»ä½•æŠ¥é”™ã€‚</p>
<p>æœ‰å…³ä½¿ç”¨ä¸åŒçš„æœ¬æœºåº“è¿›è¡ŒåŠ å¯†çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="https://docs.microsoft.com/zh-cn/dotnet/standard/data/sqlite/custom-versions?tabs=netcore-cli" target="_blank" rel="noopener noreferrer">è‡ªå®šä¹‰ SQLite ç‰ˆæœ¬</a>ã€‚</p>
<p>æˆ‘ä»¬ä» è‡ªå®šä¹‰ SQLite ç‰ˆæœ¬ä¸Šå¯ä»¥çœ‹åˆ°ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸» <code>Microsoft.Data.Sqlite</code> åŒ…å¼•å…¥ <code>SQLitePCLRaw.bundle_e_sqlite3</code>ã€‚ è‹¥è¦ä½¿ç”¨ä¸åŒçš„æ†ç»‘ï¼Œè¯·æ”¹ä¸ºå®‰è£… <code>Microsoft.Data.Sqlite.Core</code> åŒ…ä»¥åŠè¦ä½¿ç”¨çš„æ†ç»‘åŒ…ã€‚</p>
<h4><code>SQLitePCLRaw.bundle_e_sqlcipher</code></h4>
<p>æä¾› SQLCipher çš„<strong>éå®˜æ–¹å¼€æ”¾æºä»£ç å†…éƒ¨ç‰ˆæœ¬</strong>ã€‚æ­¤ç‰ˆæœ¬æ”¯æŒ<strong>åŠ å¯†</strong>ã€‚</p>
<h3><a class="header-anchor" href="#ado-net-ä¿®æ”¹-sqlite-å¯†ç "><span></span></a><a href="http://ADO.NET" target="_blank" rel="noopener noreferrer">ADO.NET</a> ä¿®æ”¹ Sqlite å¯†ç </h3>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">static</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> UpdatePassword</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> oldPassword</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> newPassword</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> baseConnectionString</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "Data Source=local.db"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> connectionString</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> SqliteConnectionStringBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">baseConnectionString</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">        Mode</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> SqliteOpenMode</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">ReadWriteCreate</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">        Password</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> oldPassword</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToString</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    using</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> connection</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> SqliteConnection</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">connectionString</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        connection</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Open</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        using</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> command</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> connection</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">CreateCommand</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            command</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CommandText</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "SELECT quote($newPassword);"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            command</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Parameters</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddWithValue</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"$newPassword"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">newPassword</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> quotedNewPassword</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> command</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ExecuteScalar</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">as</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            command</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CommandText</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "PRAGMA rekey = "</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> quotedNewPassword</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            command</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Parameters</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Clear</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> x</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> command</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ExecuteNonQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> x</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> oldPassword</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "123qwe"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> newPassword</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "abcd"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UpdatePassword</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">oldPassword</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">newPassword</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4>å®Œæ•´ä»£ç </h4>
<ul>
<li><a href="https://github.com/luoyunchong/dotnetcore-examples/blob/master/Database-Drivers/OvOv.SqliteMicrosoftCore/Program.cs" target="_blank" rel="noopener noreferrer">https://github.com/luoyunchong/dotnetcore-examples/blob/master/Database-Drivers/OvOv.SqliteMicrosoftCore/Program.cs</a></li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>SerilogæŒ‡åŒ—</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/examples/serilog-tutorial.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/examples/serilog-tutorial.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">SerilogæŒ‡åŒ—</source>
      <description>SerilogæŒ‡åŒ— åŸæ–‡ï¼šhttps://blog.datalust.co/serilog-tutorial/#3eventsandlevels github: https://github.com/serilog/serilog 1.æ¦‚è¿° serilogæ˜¯ä¸€ä¸ªå®Œå…¨ç»“æ„åŒ–äº‹ä»¶çš„ç®€å•.NETæ—¥å¿—è®°å½• fully-structured,ç»“æ„åŒ– æ”¯æŒå¤šç§Pr...</description>
      <pubDate>Fri, 07 Jan 2022 10:07:15 GMT</pubDate>
      <content:encoded><![CDATA[
<ul>
<li>åŸæ–‡ï¼š<a href="https://blog.datalust.co/serilog-tutorial/#3eventsandlevels" target="_blank" rel="noopener noreferrer">https://blog.datalust.co/serilog-tutorial/#3eventsandlevels</a></li>
<li>github: <a href="https://github.com/serilog/serilog" target="_blank" rel="noopener noreferrer">https://github.com/serilog/serilog</a></li>
</ul>
<h3>1.æ¦‚è¿°</h3>
<p>serilogæ˜¯ä¸€ä¸ªå®Œå…¨ç»“æ„åŒ–äº‹ä»¶çš„ç®€å•.NETæ—¥å¿—è®°å½•</p>
<p><code>fully-structured</code>,ç»“æ„åŒ–</p>
<ul>
<li>æ”¯æŒå¤šç§Providerï¼Œå¯å°†æ—¥å¿—æ¨é€åˆ°ä¸åŒçš„ä¸­é—´ä»¶ï¼Œå¦‚æ–‡ä»¶ï¼Œæ•°æ®åº“(mysql,sql server,mariadbç­‰)</li>
</ul>
<h3>2. Hello, Serilog!</h3>
<p>è®©æˆ‘ä»¬ä»æœ€ç®€å•çš„å¼€å§‹ï¼Œè·Ÿéšä»¥ä¸‹æ•™ç¨‹ï¼Œä½ éœ€è¦åˆ›å»ºä¸€ä¸ªConsoleé¡¹ç›®ï¼Œ<a href="http://xn--6kqx45gg2r.NET" target="_blank" rel="noopener noreferrer">é€‚ç”¨äº.NET</a> FrameWork <a href="http://xn--0tr.NET" target="_blank" rel="noopener noreferrer">å’Œ.NET</a> Coreã€‚</p>
<p><code>Serilog</code> é€šè¿‡ <code>NuGet</code>  åˆ†å‘åŒ…. è¯¥é¡¹ç›®ä»¥SerilogåŒ…ä¸ºæ ¸å¿ƒç»„ç»‡ï¼Œé…åˆè®¸å¤š <code>sinks</code>ï¼ˆæ¥æ”¶å™¨ï¼‰ (è¶…è¿‡ä¸Šç™¾!), ç”¨äºå°†äº‹ä»¶å†™å…¥ç»ˆç«¯,æ–‡ä»¶ï¼Œæ•°æ®åº“ï¼Œæ—¥å¿—æœåŠ¡å™¨çš„æ’ä»¶ä¸­ã€‚</p>
<p>æˆ‘ä»¬ä» <code>Serilog</code> å’Œ <code>Serilog.Sinks.Console</code>å¼€å§‹, ç¨åå†è®¨è®ºå…¶ä»–é€‰é¡¹:</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>Install-Package Serilog</span></span>
<span class="line"><span>Install-Package Serilog.Sinks.Console</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»¥ä¸‹æ˜¯ä¸–ç•Œä¸Šæœ€ç®€å•çš„ Serilog é…ç½®ï¼š</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>using Serilog;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>class Program</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    public static void Main(string[] args)</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        using (var log = new LoggerConfiguration()</span></span>
<span class="line"><span>            .WriteTo.Console()</span></span>
<span class="line"><span>            .CreateLogger())</span></span>
<span class="line"><span>        {</span></span>
<span class="line"><span>            log.Information("Hello, Serilog!");</span></span>
<span class="line"><span>            log.Warning("Goodbye, Serilog.");</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ˜ç¡®ä»¥ä¸‹å‡ ç‚¹</p>
<ul>
<li><code>LoggerConfiguration</code> ç±»æä¾› äº†ä¸€ä¸ªfluent æ¥å£ æ„å»ºä¸€ä¸ªæ—¥å¿—ç®¡é“</li>
<li><code>WriteTo.Console() </code> å°†ä¸€ä¸ªæ§åˆ¶å°æ¥æ”¶å™¨ æ·»åŠ åˆ°ç®¡é“ä¸­</li>
<li><code>CreateLogger()</code> é›†åˆæ„å»ºåä¼š è¿”å›ä¸€ä¸ª <code>Logger</code> å¯¹è±¡, ä»–å®ç°äº† <code>ILogger</code>çš„æ¥å£</li>
<li><code>Logger</code> æ¥å£ç»§æ‰¿ <code>IDisposable</code>, æ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨ <code>using</code> å—</li>
<li>æœ€å, <code>log.Information()</code> å’Œ <code>log.Warning()</code> é€šè¿‡loggerè®°å½•æ‰€æœ‰çš„å‘å‡ºçš„äº‹ä»¶</li>
</ul>
<p>è¿è¡Œç¨‹åº</p>
<p><img src="https://note.youdao.com/yws/api/personal/file/261B46CA8E7E474D889CC2D6312BA39E?method=download&amp;shareKey=b47ca475a270339f81b8af4ba28a1954" alt="image"></p>
<p>ç°åœ¨æœ€è¿«åˆ‡çš„é—®é¢˜æ˜¯: åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­ï¼Œå…¶ä»–ç±»å¦‚ä½•å¾—åˆ°è¿™ä¸ªLogå¯¹è±¡? é™¤äº†é€šè¿‡å‚æ•°è¿›è¡Œä¼ é€’, æœ‰ä¸¤ç§å¯èƒ½æ€§</p>
<ul>
<li>å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ <code>IoC</code> å®¹å™¨, ä½  å¯ä»¥ä½¿ç”¨ç»„ä»¶æ¥æ”¶<code>ILogger</code>å¯¹è±¡ï¼Œå³é€šè¿‡ <code>dependency injection</code>(ä¾èµ–æ³¨å…¥)<code> ILogger</code>çš„æ–¹å¼ä½¿ç”¨. åƒé›†æˆ <a href="https://github.com/nblumhardt/autofac-serilog-integration" target="_blank" rel="noopener noreferrer">AutofacSerilogIntegration</a>ç­‰åŒ…å³å¯ã€‚</li>
</ul>
<p>æˆ–è€…,ä½ å¯ä»¥æŠŠLoggerå­˜å‚¨åˆ°ä¸€ä¸ªå·²çŸ¥çš„ä½ç½®ä¸­;ä¸ºæ­¤ <code>Serilog</code>æœ‰ä¸€ä¸ªé™æ€æ—¥å¿—ç±»</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Logger</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> LoggerConfiguration</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    .</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">WriteTo</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">CreateLogger</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Information</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Hello again, Serilog!"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">CloseAndFlush</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>Log</code> ç±»æä¾›äº†ä¸<code>ILogger</code>æ¥å£ç›¸åŒçš„æ‰€æœ‰æ–¹æ³•.ç”¨äºæ›¿æ¢ä½¿ç”¨using å—,æˆ‘ä»¬å¯ä»¥è°ƒç”¨ <code>Log.CloseAndFlush()</code>ï¼Œé‡ç½®<code>Serilog.Log.Logger</code>,å¹¶é‡Šæ”¾åŸæœ‰çš„èµ„æº</p>
<blockquote>
<p>ä½ å¯èƒ½é€‰æ‹©åŸºäº<code>ILogger</code>çš„æ³¨å…¥æ–¹å¼ä½¿ç”¨ï¼Œæˆ–ä½¿ç”¨é™æ€Logç±» -è¿™ç§é€‰æ‹©æ˜¯åŸºäºä¸ªäººå£å‘³å’Œçˆ±å¥½çš„é—®é¢˜. ä¸ºäº†ä¿æŒç®€å• æˆ‘ä»¬å°†åœ¨æ­¤æ•™ç¨‹ä¸­ä½¿ç”¨é™æ€æ—¥å¿—ç±»ã€‚</p>
</blockquote>
<h3>3. äº‹ä»¶å’Œçº§åˆ«</h3>
<p>å¦‚æœä½¿ç”¨è¿‡<code>log4net</code>ç­‰è¾ƒæ—§çš„åº“ï¼Œåœ¨ä½¿<code>Serilog</code>æ—¶ï¼Œæ‚¨éœ€è¦åœ¨æ€ç»´æ–¹å¼ä¸Šåšçš„æœ€å¤§æ”¹å˜æ˜¯ä»æ—¥å¿—äº‹ä»¶è€Œä¸æ˜¯æ—¥å¿—æ¶ˆæ¯çš„è§’åº¦æ¥æ€è€ƒã€‚æ´»åŠ¨ç”±ä»¥ä¸‹éƒ¨åˆ†ç»„æˆï¼š</p>
<ul>
<li>è®°å½•äº‹ä»¶å‘ç”Ÿæ—¶çš„æ—¶é—´æˆ³</li>
<li>æè¿°ä½•æ—¶åº”æ•è·äº‹ä»¶çš„çº§åˆ«</li>
<li>è®°å½•äº‹ä»¶æ‰€ä»£è¡¨å†…å®¹çš„æ¶ˆæ¯</li>
<li>æè¿°äº‹ä»¶çš„å‘½åå±æ€§</li>
<li>å¯èƒ½æ˜¯ä¸€ä¸ªå¼‚å¸¸å¯¹è±¡</li>
</ul>
<p>æ‚¨å¯ä»¥å°†æ—¥å¿—äº‹ä»¶æ ¼å¼åŒ–ä¸ºæ§åˆ¶å°çš„å¯è¯»æ–‡æœ¬ï¼Œæ­£å¦‚æˆ‘ä»¬åœ¨ç¬¬ä¸€ä¸ªç¤ºä¾‹ä¸­çœ‹åˆ°çš„ï¼š</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>11:33:01 [INF] Hello, Serilog!</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>æˆ–è€…ï¼Œæ‚¨å¯ä»¥å°†åŒä¸€äº‹ä»¶æ ¼å¼åŒ–ä¸ºJSONï¼Œå¹¶å°†å…¶å‘é€åˆ°è¿œç¨‹æ—¥å¿—æœåŠ¡å™¨ï¼š</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{"@t":"2017-11-20T11:33:01.22138","@m":"Hello, Serilog!"}`</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>åœ¨å¹•åï¼Œåº”ç”¨ç¨‹åºä¸­çš„æ—¥å¿—è¯­å¥åˆ›å»ºLogEventå¯¹è±¡ï¼Œè€Œè¿æ¥åˆ°ç®¡é“çš„æ¥æ”¶å™¨åˆ™ç¡®å®šå¦‚ä½•è®°å½•å®ƒä»¬ã€‚</p>
<h3>Logging levels</h3>
<p><code>Serilog</code>é€Ÿåº¦å¾ˆå¿«ï¼Œä½†å§‹ç»ˆæ„é€ å’Œè®°å½•è¯¦ç»†çš„æ—¥å¿—äº‹ä»¶å¯èƒ½ä¼šæµªè´¹CPUã€ç£ç›˜å’Œç½‘ç»œèµ„æºã€‚ä¸ºäº†ç®¡ç†è¿™ä¸€ç‚¹ï¼Œ<code>Serilog</code>äº‹ä»¶è¢«åˆ†é…äº†è°ƒè¯•ã€ä¿¡æ¯ã€è­¦å‘Šå’Œé”™è¯¯ç­‰çº§åˆ«ã€‚æ¯ä¸ªæ”¯æŒçš„çº§åˆ«éƒ½æœ‰ä¸€ä¸ª<code>Log.*ï¼ˆï¼‰</code>æ–¹æ³•ã€‚</p>
<p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šæ‰“å¼€è°ƒè¯•çº§åˆ«äº‹ä»¶ï¼š</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>Log.Logger = new LoggerConfiguration()</span></span>
<span class="line"><span>    .MinimumLevel.Debug() // &lt;- Set the minimum level</span></span>
<span class="line"><span>    .WriteTo.Console()</span></span>
<span class="line"><span>    .CreateLogger();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// In a tight loop...</span></span>
<span class="line"><span>Log.Debug("Processing item {ItemNumber} of {ItemCount}", itemNumber, itemCount);</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ç”Ÿäº§ä¸­ï¼Œé€šå¸¸å…³é—­è°ƒè¯•äº‹ä»¶å¹¶å°†æœ€ä½çº§åˆ«è®¾ç½®ä¸ºä¿¡æ¯ï¼Œä»¥ä¾¿åªè®°å½•é‡è¦äº‹ä»¶ã€‚é˜…è¯»æ–‡æ¡£ä¸­æœ‰å…³<code>Serilog</code>çº§åˆ«çš„<a href="https://github.com/serilog/serilog/wiki/Writing-Log-Events#log-event-levels" target="_blank" rel="noopener noreferrer">æ›´å¤šä¿¡æ¯</a>ã€‚</p>
<h3>4. å‘é€å’Œæ”¶é›†ç»“æ„åŒ–æ•°æ®</h3>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>var itemNumber = 10;</span></span>
<span class="line"><span>var itemCount = 999;</span></span>
<span class="line"><span>Log.Debug("Processing item {ItemNumber} of {ItemCount}", itemNumber, itemCount);</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‚¨æ³¨æ„åˆ°æ—¥å¿—æ¶ˆæ¯ä¸­çš„<code>{ItemNumber}</code>ä¹‹ç±»çš„å‘½åå ä½ç¬¦äº†å—ï¼Ÿè¿™ä¸æ˜¯C#æ’å€¼å­—ç¬¦ä¸²ï¼šLog.*ï¼ˆï¼‰æ–¹æ³•æ¥å—æ¶ˆæ¯æ¨¡æ¿ï¼Œè¿™æ˜¯.NETæ ¼å¼å­—ç¬¦ä¸²çš„ä¸€ç§å˜ä½“ï¼Œé™¤äº†é€šå¸¸çš„{0}ä½ç½®å­—ç¬¦ä¸²å¤–ï¼Œè¿˜æ”¯æŒ{Named}å ä½ç¬¦ã€‚</p>
<p>è¿™ä¼¼ä¹æœ‰ç‚¹å¥‡æ€ªï¼Œç›´åˆ°æ‚¨æ„è¯†åˆ°ï¼Œé€šè¿‡è¿™æ ·åšï¼Œ<code>Serilog</code>å¯ä»¥å°†æ¶ˆæ¯çš„ä¸€éƒ¨åˆ†ä½œä¸ºä¸€çº§å±æ€§ä¸äººæ€§åŒ–æ–‡æœ¬ä¸€èµ·æ•è·ï¼š</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{</span></span>
<span class="line"><span>    "@t": "2017-11-20T11:33:01.22138",</span></span>
<span class="line"><span>    "@l": "Debug",</span></span>
<span class="line"><span>    "@m": "Processing item 10 of 999",</span></span>
<span class="line"><span>    "ItemNumber": 10,</span></span>
<span class="line"><span>    "ItemCount": 999</span></span>
<span class="line"><span>}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦è¿™æ ·åšï¼Ÿç”±äºæ—¥å¿—äº‹ä»¶é™„å¸¦äº†ä¸€äº›æœ‰è¶£çš„å­—æ®µä½œä¸ºå±æ€§ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç«‹å³ä½¿ç”¨ç®€å•çš„è¿‡æ»¤å™¨ï¼ˆå¦‚<code>ItemNumber&gt;900</code>ï¼‰æ¥æŸ¥æ‰¾äº‹ä»¶ï¼Œè€Œä¸å¿…é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼ä»æ¶ˆæ¯ä¸­æå–ä¿¡æ¯ã€‚</p>
<p>æ›´è¿›ä¸€æ­¥ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>@structure</code>æ•è·æ“ä½œç¬¦ä¸ä»…è·å–å¹³é¢å±æ€§å€¼ï¼Œè¿˜è·å–å®Œæ•´çš„å¯¹è±¡ï¼š</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>var user = new { Name = "Nick", Id = "nblumhardt" };</span></span>
<span class="line"><span>Log.Information("Logged on user {@User}", user);</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™é‡Œï¼Œç”¨æˆ·å¯¹è±¡è¢«æ•è·åˆ°ç”Ÿæˆçš„JSONä¸­ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¯¸å¦‚<code>user.Id='nblumhardt'</code>ä¹‹ç±»çš„æŸ¥è¯¢æ¥æŸ¥æ‰¾äº‹ä»¶ï¼š</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{</span></span>
<span class="line"><span>    "@t": "2017-11-20T11:33:01.22138",</span></span>
<span class="line"><span>    "@m": "Logged on user {\"Name\": \"Nick\", \"Id\": \"nblumhardt\"}",</span></span>
<span class="line"><span>    "User": {"Name": "Nick", "Id": "nblumhardt"}</span></span>
<span class="line"><span>}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç”Ÿäº§ç›‘æ§å’Œè°ƒè¯•å·²ç»æ˜¯ä¸€é¡¹è‰°å·¨ã€è€—æ—¶ä¸”ç»å¸¸å……æ»¡å‹åŠ›çš„ä»»åŠ¡ï¼šé€šå¸¸è¿™äº›ç›¸å…³æ•°æ®è§¦æ‰‹å¯åŠï¼Œ<code>Serilog</code>æ¶ˆé™¤äº†ä¸æ“ä½œç›¸å…³ æ´»åŠ¨ä¸­æœ€å¤§çš„åˆ†æ­§ä¹‹ä¸€ã€‚</p>
<blockquote>
<p>æç¤ºï¼šä»<code>VisualStudioMarketplace</code>å®‰è£…äº†ä¸èµ·çš„<a href="https://marketplace.visualstudio.com/items?itemName=Suchiman.SerilogAnalyzer" target="_blank" rel="noopener noreferrer">Serilogåˆ†æå™¨</a>ï¼Œä»¥ä¾¿åœ¨é”®å…¥æ—¶æ£€æŸ¥æ¶ˆæ¯æ¨¡æ¿è¯­æ³•</p>
</blockquote>
<p>è¿™å®é™…ä¸Šä¼šäº§ç”Ÿå¤šå¤§çš„å·®å¼‚ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºæ‚¨å¦‚ä½•ä»<code>Serilog</code>æ”¶é›†äº‹ä»¶ã€‚ä¼ ç»Ÿä¸Šï¼Œæ—¥å¿—äº‹ä»¶è¿›å…¥æ–‡æœ¬æ–‡ä»¶å¹¶ä½¿ç”¨<code>grep</code>è¿›è¡Œæœç´¢ã€‚<code>Serilog</code>ä¹Ÿå¯ä»¥è®°å½•æ–‡æœ¬æ–‡ä»¶ï¼Œä½†æ‚¨ä¸èƒ½åœ¨è®°äº‹æœ¬ä¸­æ‰§è¡Œ<code>ItemNumber&gt;900</code>ï¼Œå› æ­¤æ‚¨éœ€è¦è¯„ä¼°æ›´å¼ºå¤§çš„å·¥å…·æ¥å®ç°è¿™ä¸€ç‚¹ã€‚</p>
<h2>å°†äº‹ä»¶å†™å…¥JSONæ—¥å¿—æ–‡ä»¶</h2>
<p>å¦‚æœæ‚¨çš„éœ€æ±‚å¾ˆç®€å•ï¼Œå¯ä»¥å°†<code>JSON</code>å†™å…¥æ—¥å¿—æ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨<code>JSON</code>æ„ŸçŸ¥å·¥å…·ç›´æ¥æŸ¥è¯¢æ–‡ä»¶ã€‚<code>Serilog</code>çš„æ–‡ä»¶æ¥æ”¶å™¨å’Œç´§å‡‘çš„<code>JSON</code>æ ¼å¼åŒ–ç¨‹åºä½¿ç¬¬ä¸€éƒ¨åˆ†å˜å¾—ç®€å•ã€‚è®©æˆ‘ä»¬å°è¯•å¦ä¸€ä¸ªå®‰è£…äº†ä»¥ä¸‹è½¯ä»¶åŒ…çš„å°å‹æ§åˆ¶å°åº”ç”¨ç¨‹åºï¼š</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>Install-Package Serilog;</span></span>
<span class="line"><span>Install-Package Serilog.Sinks.File</span></span>
<span class="line"><span>Install-Package Serilog.Formatting.Compact</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨Mainï¼ˆï¼‰æ–¹æ³•ä¸­ï¼š</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>Log.Logger = new LoggerConfiguration()</span></span>
<span class="line"><span>    .MinimumLevel.Debug()</span></span>
<span class="line"><span>    .WriteTo.File(new CompactJsonFormatter(), "log.clef")</span></span>
<span class="line"><span>    .CreateLogger();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>var itemCount = 99;</span></span>
<span class="line"><span>for (var itemNumber = 0; itemNumber &lt; itemCount; ++itemNumber)</span></span>
<span class="line"><span>    Log.Debug("Processing item {ItemNumber} of {ItemCount}", itemNumber, itemCount);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Log.CloseAndFlush();</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡Œæ­¤åº”ç”¨ç¨‹åºå°†ä½¿ç”¨<code>Serilog</code>çš„å‹ç¼©æ—¥å¿—äº‹ä»¶æ ¼å¼åœ¨<code>log.clef</code>ä¸­ç”Ÿæˆä¸€ä¸ª<a href="https://en.wikipedia.org/wiki/JSON_streaming" target="_blank" rel="noopener noreferrer">æ–°è¡Œåˆ†éš”çš„<code>JSON</code>æµ</a>ã€‚ï¼ˆå¦‚æœæ²¡æœ‰<code>CompactJsonFormatter</code>ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªç®€å•çš„å¹³é¢æ—¥å¿—æ–‡ä»¶ã€‚ï¼‰</p>
<p>å¦‚æœåœ¨æ–‡æœ¬ç¼–è¾‘å™¨ä¸­æ‰“å¼€è¯¥æ–‡ä»¶ï¼Œæ‚¨å°†çœ‹åˆ°JSONäº‹ä»¶ï¼Œå¦‚æˆ‘ä»¬ä¸Šé¢ä½¿ç”¨çš„ç¤ºä¾‹ã€‚</p>
<h3>å°†äº‹ä»¶å†™å…¥æ—¥å¿—æœåŠ¡å™¨</h3>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>Install-Package Serilog.Sinks.Seq</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>Log.Logger = new LoggerConfiguration()</span></span>
<span class="line"><span>    .MinimumLevel.Debug()</span></span>
<span class="line"><span>    .WriteTo.Seq("http://localhost:5341")</span></span>
<span class="line"><span>    .CreateLogger();</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>5.æ ‡è®°ç”¨äºç­›é€‰å’Œå…³è”çš„äº‹ä»¶</h3>
<h4>å¢åŠ å›ºå®šå±æ€§</h4>
<p>æœ€ç®€å•çš„å……å®æ–¹æ³•æ˜¯å‘æºè‡ªæ—¥å¿—ç®¡é“çš„æ‰€æœ‰äº‹ä»¶æ·»åŠ å›ºå®šå±æ€§å€¼ã€‚è¿™æ˜¯ä½¿ç”¨è®°å½•å™¨é…ç½®ä¸­çš„<code>Enrich.WithProperty()</code>å®Œæˆçš„ï¼š</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>Log.Logger = new LoggerConfiguration()</span></span>
<span class="line"><span>    .Enrich.WithProperty("Application", "Demo")</span></span>
<span class="line"><span>    .WriteTo.Seq("http://localhost:5341")</span></span>
<span class="line"><span>    .CreateLogger();</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨<code>LogEvents</code>ä¸Šï¼Œé€šè¿‡æ‰©å±•æ·»åŠ çš„å±æ€§ä¸æºè‡ªæ¶ˆæ¯æ¨¡æ¿çš„å±æ€§ç›¸åŒï¼š</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>{</span></span>
<span class="line"><span>    "@t": "2017-11-20T11:33:01.22138",</span></span>
<span class="line"><span>    "@l": "Debug",</span></span>
<span class="line"><span>    "@m": "Processing item 10 of 999",</span></span>
<span class="line"><span>    "ItemNumber": 10,</span></span>
<span class="line"><span>    "ItemCount": 999,</span></span>
<span class="line"><span>    "Application": "Demo"</span></span>
<span class="line"><span>}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ç§ç­–ç•¥æœ‰åŠ©äºæ”¾å¤§é›†ä¸­æ—¥å¿—æµä¸­çš„ç‰¹å®šæ—¥å¿—æºï¼›ä»¥è¿™ç§æ–¹å¼æ·»åŠ çš„å±æ€§åŒ…æ‹¬åº”ç”¨ç¨‹åºã€ç¯å¢ƒå’Œç‰ˆæœ¬ç­‰å†…å®¹ã€‚</p>
<h2>å¢åŠ äº‹ä»¶æˆ–è®°å½•å™¨ç‰¹å®šå±æ€§</h2>
<p>é€šè¿‡åˆ›å»ºå’Œä½¿ç”¨ä¸Šä¸‹æ–‡è®°å½•å™¨ï¼Œå¯ä»¥å°†å±æ€§æ·»åŠ åˆ°ä¸€ä¸ªæˆ–å‡ ä¸ªç›¸å…³äº‹ä»¶ä¸­ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ç›¸åŒçš„å€¼ä¸°å¯Œæ‰€æœ‰äº‹ä»¶ï¼š</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>var orderLog = Log.ForContext("OrderId", order.Id);</span></span>
<span class="line"><span>orderLog.Information("Looking up product codes");</span></span>
<span class="line"><span>// ...</span></span>
<span class="line"><span>orderLog.Information("Product lookup took {Elapsed} ms", elapsed.TotalMilliseconds);</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™é‡Œï¼Œé€šè¿‡<code>orderLog</code>å‘å‡ºçš„ä¸¤ä¸ªäº‹ä»¶éƒ½å°†é™„åŠ <code>OrderId</code>å±æ€§ã€‚</p>
<p>æ‰©å±•æ˜¯å¯æ·»åŠ çš„ï¼šå¦‚æœ<code>Application</code>å±æ€§è®¾ç½®åœ¨ç®¡é“çº§åˆ«ï¼Œåˆ™ä¸Šé¢çš„ç¬¬äºŒä¸ªäº‹ä»¶å°†æºå¸¦ç»è¿‡ï¼ˆæ¥è‡ªæ¶ˆæ¯ï¼‰ã€<code>OrderId</code>ï¼ˆæ¥è‡ªä¸Šä¸‹æ–‡è®°å½•å™¨ï¼‰å’Œ<code>Application</code>ï¼ˆæ¥è‡ªæ—¥å¿—ç®¡é“ï¼‰ã€‚</p>
<h3>ä¸°å¯Œæºç±»å‹ä¿¡æ¯</h3>
<p>ç‰¹å®šäºè®°å½•å™¨çš„å……å®çš„ä¸€ä¸ªç‰¹ä¾‹æ˜¯å¦‚ä½•ç”¨åˆ›å»ºäº‹ä»¶çš„ç±»æ ‡è®°äº‹ä»¶ã€‚</p>
<p>åœ¨åä¸º<code>HomeController</code>çš„ç±»ä¸­ï¼Œä½¿ç”¨ä»¥ä¸‹æ–¹æ³•åˆ›å»ºç‰¹å®šäºç±»å‹çš„è®°å½•å™¨ï¼š</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>private readonly ILogger _log = Log.ForContext&lt;HomeController&gt;();</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>é€šè¿‡<code>_log</code>å‘å‡ºçš„äº‹ä»¶å°†æºå¸¦å€¼ä¸º<code>MyApp.Controller.HomeController</code>çš„<code>SourceContext</code>å±æ€§ã€‚</p>
<h3>ä¸°å¯Œç¯å¢ƒè¯­å¢ƒ</h3>
<p>ä¸ºäº†ä¸°å¯Œå·¥ä½œå•å…ƒä¸­å¼•å‘çš„æ‰€æœ‰äº‹ä»¶ï¼Œ<code>Serilog</code>æä¾›äº†<code>LogContext</code>ã€‚é¦–å…ˆéœ€è¦åœ¨<code>LoggerConfiguration</code>çº§åˆ«ä½¿ç”¨<code>Enrich.FromLogContext()</code>å¯ç”¨æ­¤åŠŸèƒ½ï¼š</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>Log.Logger = new LoggerConfiguraition()</span></span>
<span class="line"><span>     .Enrich.FromLogContext()</span></span>
<span class="line"><span>     // ...</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>LogContext</code>å¯ä»¥çœ‹ä½œæ˜¯ï¼ˆé”®ã€å€¼ï¼‰å¯¹çš„å †æ ˆï¼›å½“ä»æ—¥å¿—ä¸Šä¸‹æ–‡ä¸­ä¸°å¯Œäº‹ä»¶æ—¶ï¼Œè¿™äº›äº‹ä»¶å°†ä½œä¸ºå±æ€§æ·»åŠ åˆ°äº‹ä»¶ä¸­ã€‚</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>using (LogContext.PushProperty("MessageId", message.Id))</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    Log.Debug("Dispatching message of type {MessageType}", message.GetType());</span></span>
<span class="line"><span>    await handler.HandleAsync(message);</span></span>
<span class="line"><span>}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>LogContext</code>çš„æœ‰è¶£ä¹‹å¤„åœ¨äºä¸éœ€è¦ä¼ é€’ä»»ä½•ä¿¡æ¯ã€‚åœ¨ç¤ºä¾‹ä»£ç ä¸­ï¼Œ<code>HandleAsync()</code>çš„å®ç°ä»¥åŠå®ƒè°ƒç”¨çš„ä»»ä½•å…¶ä»–æ–¹æ³•éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨<code>Log</code>å’Œ<code>ILogger</code>ã€ <code>MessageId</code>å±æ€§å°†è¢«æå–å¹¶æ·»åŠ åˆ°åå°ã€‚</p>
<blockquote>
<p>æç¤ºï¼š<code>LogContext</code>æ˜¯ä¸€ä¸ªå †æ ˆï¼›æ¨é€åˆ°å †æ ˆä¸Šçš„å±æ€§å¿…é¡»é€šè¿‡å¤„ç†ä»<code>PushProperty()</code>è¿”å›çš„å¯¹è±¡å†æ¬¡å¼¹å‡º-å¿…é¡»ä½¿ç”¨å—ã€‚</p>
</blockquote>
]]></content:encoded>
      <enclosure url="https://note.youdao.com/yws/api/personal/file/261B46CA8E7E474D889CC2D6312BA39E?method=download&amp;shareKey=b47ca475a270339f81b8af4ba28a1954" type="image/"/>
    </item>
    <item>
      <title>git emoji</title>
      <link>https://igeekfan.cn/igeekfan-docs/blogs/git-emoji.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/blogs/git-emoji.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">git emoji</source>
      <description>git emoji</description>
      <pubDate>Thu, 06 Jan 2022 12:53:16 GMT</pubDate>
      <content:encoded><![CDATA[
<p>| emoji å›¾æ ‡            | emoji                         | å«ä¹‰                         |<br>
|</p>
]]></content:encoded>
    </item>
    <item>
      <title>Nacos é…ç½®ä¸­å¿ƒ</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/examples/nacos-aspnetcore.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/examples/nacos-aspnetcore.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">Nacos é…ç½®ä¸­å¿ƒ</source>
      <description>Nacos é…ç½®ä¸­å¿ƒ nacos æ˜¯ä¸€ä¸ªæ„å»ºäº‘åŸç”Ÿåº”ç”¨çš„åŠ¨æ€æœåŠ¡å‘ç°ã€é…ç½®ç®¡ç†å’ŒæœåŠ¡ç®¡ç†å¹³å°ã€‚ã€‚ é…ç½®ç®¡ç† asp.net core ä¸­æ‰€æœ‰çš„é…ç½®é¡¹ï¼Œå¦‚ appsetting.json è¿›è¡Œé›†ä¸­ç®¡ç†,æ”¯æŒçƒ­åŠ è½½ï¼Œæ”¯æŒæœåŠ¡å‘ç°ã€‚ nacos github https://github.com/alibaba/nacos csharp sdk github...</description>
      <pubDate>Wed, 22 Dec 2021 18:31:25 GMT</pubDate>
      <content:encoded><![CDATA[
<p><code>nacos</code> æ˜¯ä¸€ä¸ªæ„å»ºäº‘åŸç”Ÿåº”ç”¨çš„åŠ¨æ€æœåŠ¡å‘ç°ã€é…ç½®ç®¡ç†å’ŒæœåŠ¡ç®¡ç†å¹³å°ã€‚ã€‚</p>
<h2>é…ç½®ç®¡ç†</h2>
<p><a href="http://asp.net" target="_blank" rel="noopener noreferrer">asp.net</a> core ä¸­æ‰€æœ‰çš„é…ç½®é¡¹ï¼Œå¦‚ appsetting.json è¿›è¡Œé›†ä¸­ç®¡ç†,æ”¯æŒçƒ­åŠ è½½ï¼Œæ”¯æŒæœåŠ¡å‘ç°ã€‚</p>
<ul>
<li>nacos github <a href="https://github.com/alibaba/nacos" target="_blank" rel="noopener noreferrer">https://github.com/alibaba/nacos</a></li>
<li>csharp sdk github <a href="https://github.com/nacos-group/nacos-sdk-csharp" target="_blank" rel="noopener noreferrer">https://github.com/nacos-group/nacos-sdk-csharp</a></li>
<li>csharp sdk æ–‡æ¡£ï¼š<a href="https://nacos-sdk-csharp.readthedocs.io/en/latest/introduction/gettingstarted.html" target="_blank" rel="noopener noreferrer">https://nacos-sdk-csharp.readthedocs.io/en/latest/introduction/gettingstarted.html</a></li>
<li><a href="https://nacos.io/zh-cn/" target="_blank" rel="noopener noreferrer">https://nacos.io/zh-cn/</a></li>
</ul>
<p>å®‰è£…è¯·å‚è€ƒï¼š<a href="https://nacos.io/zh-cn/docs/quick-start.html" target="_blank" rel="noopener noreferrer">https://nacos.io/zh-cn/docs/quick-start.html</a></p>
<h3>å¼€å§‹</h3>
<ul>
<li>windows è¿›å…¥ nacos çš„ bin ç›®å½•ï¼Œæˆ–æŠŠç›®å½• <code>D:\work\tools\nacos\bin</code>ï¼ˆæˆ‘æœ¬åœ°ï¼‰é…ç½®åˆ°ç¯å¢ƒå˜é‡ä¸­çš„ Path ä¸­ã€‚</li>
</ul>
<p>å³å¯åœ¨ä»»æ„ä½ç½®ï¼Œæ‰§è¡Œå‘½ä»¤</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">startup.cmd</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> standalone</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><ul>
<li>standalone ä»£è¡¨ç€å•æœºæ¨¡å¼è¿è¡Œï¼Œéé›†ç¾¤æ¨¡å¼</li>
</ul>
<div class="language-cmd line-numbers-mode" data-highlighter="shiki" data-ext="cmd" data-title="cmd" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">C:\</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">WINDOWS</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">\</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">system32</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">startup.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">cmd</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">m</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> standalone</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"nacos is starting with standalone"</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">         ,</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">--</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">       ,</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">--</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">'|</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">   ,</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">--</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,:  : |                                           Nacos </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">2.0.3</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,`</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">--</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">'`|  ' :                       ,</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>ASP.NETCore ä¸‹ FreeSql çš„ä»“å‚¨äº‹åŠ¡</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/aspnetcore-repository-unitofwork.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/aspnetcore-repository-unitofwork.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">ASP.NETCore ä¸‹ FreeSql çš„ä»“å‚¨äº‹åŠ¡</source>
      <description>ASP.NETCore ä¸‹ FreeSql çš„ä»“å‚¨äº‹åŠ¡ ç¬¬ä¸€æ­¥ï¼šé…ç½® Startup.cs æ³¨å…¥ å¼•å…¥åŒ… é…ç½® Startup.cs æ³¨å…¥ appsettings.json TransBlogService.cs å®Œæ•´çš„ä»£ç  Blog.cs Tag.cs TransBlogService.cs ä»¥ä¸Šä½¿ç”¨çš„æ˜¯æ³›å‹ä»“å‚¨ï¼Œé‚£æˆ‘ä»¬å¦‚æœæ˜¯é‡å†™ä¸€ä¸ªä»“å‚¨ å¦‚ä½•ä¿æŒå’Œ...</description>
      <pubDate>Sun, 12 Dec 2021 10:05:43 GMT</pubDate>
      <content:encoded><![CDATA[
<h4>ç¬¬ä¸€æ­¥ï¼šé…ç½® Startup.cs æ³¨å…¥</h4>
<p>å¼•å…¥åŒ…</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">dotnet</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> add</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> package</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> FreeSql</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">dotnet</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> add</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> package</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">DbContext</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">dotnet</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> add</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> package</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Provider</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">MySqlConnector</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é…ç½® Startup.cs æ³¨å…¥</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> ConfigureServices</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IServiceCollection</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">  IConfigurationSection</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> Mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> Configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetSection</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Mysql"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">        Fsql</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> FreeSqlBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseConnectionString</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">DataType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">MySql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Mysql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseAutoSyncStructure</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">true</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseNameConvert</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">NameConvertType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">PascalCaseToUnderscoreWithLower</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UseMonitorCommand</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">cmd</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> Trace</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">cmd</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CommandText</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Build</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddSingleton</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IFreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddScoped</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">UnitOfWorkManager</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddFreeRepository</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">null</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Startup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Assembly</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //æ–°å¢è‡ªå·±çš„æœåŠ¡ï¼Œè¿™é‡Œåªæœ‰å®ç°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddScoped</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">TransBlogService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>appsettings.json</li>
</ul>
<div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "Mysql"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Data Source=127.0.0.1;Port=3306;User ID=root;Password=root;Initial Catalog=ovov_freesql_repository;Charset=utf8;SslMode=none;Max pool size=10"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>| UnitOfWorkManager æˆå‘˜                         | è¯´æ˜                   |<br>
|</p>
]]></content:encoded>
    </item>
    <item>
      <title>Autofac ä¾èµ–æ³¨å…¥å°çŸ¥è¯†</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/autofac.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/autofac.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">Autofac ä¾èµ–æ³¨å…¥å°çŸ¥è¯†</source>
      <description>Autofac ä¾èµ–æ³¨å…¥å°çŸ¥è¯† æ§åˆ¶åè½¬/ä¾èµ–æ³¨å…¥ IOC/DI ä¾èµ–æ¥å£è€Œä¸ä¾èµ–äºå®ç°ï¼Œæ˜¯é¢å‘å¯¹è±¡çš„å…­å¤§è®¾è®¡åŸåˆ™ï¼ˆSOLID)ä¹‹ä¸€ã€‚å³ä¾èµ–å€’ç½®åŸåˆ™(Dependence Inversion Principle) aspnetcoreä¸­çš„ç”Ÿå‘½å‘¨æœŸé€šå¸¸åˆ†ä¸ºä¸‰ç§ï¼Œå…·ä½“å¦‚ä¸‹ Singleton å•ä¾‹ï¼ˆå…¨å±€å”¯ä¸€å®ä¾‹ï¼‰ Scoped èŒƒå›´ ï¼ˆåœ¨åŒä¸€ä¸ªç”Ÿå‘½å‘¨æœŸå†…æ˜¯...</description>
      <pubDate>Sun, 12 Dec 2021 10:05:43 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>æ§åˆ¶åè½¬/ä¾èµ–æ³¨å…¥ IOC/DI</h2>
<p>ä¾èµ–æ¥å£è€Œä¸ä¾èµ–äºå®ç°ï¼Œæ˜¯é¢å‘å¯¹è±¡çš„å…­å¤§è®¾è®¡åŸåˆ™ï¼ˆSOLID)ä¹‹ä¸€ã€‚å³ä¾èµ–å€’ç½®åŸåˆ™(<code>Dependence Inversion Principle</code>)</p>
<p>aspnetcoreä¸­çš„ç”Ÿå‘½å‘¨æœŸé€šå¸¸åˆ†ä¸ºä¸‰ç§ï¼Œå…·ä½“å¦‚ä¸‹</p>
<ul>
<li><code>Singleton</code> å•ä¾‹ï¼ˆå…¨å±€å”¯ä¸€å®ä¾‹ï¼‰</li>
<li><code>Scoped</code> èŒƒå›´ ï¼ˆåœ¨åŒä¸€ä¸ªç”Ÿå‘½å‘¨æœŸå†…æ˜¯åŒä¸€ä¸ªå®ä¾‹ï¼‰</li>
<li><code>Transient</code> ç¬æ—¶ï¼ˆæ¯æ¬¡è¯·æ±‚éƒ½æ˜¯ä¸€ä¸ªæ–°çš„å®ä¾‹ï¼‰</li>
</ul>
<p>Autofacå‘½åæœ‰ä¸€äº›ä¸åŒï¼Œä½†åŠŸèƒ½æ˜¯ä¸€æ ·çš„ã€‚</p>
<ul>
<li>Instance Per Dependencyç¬æ—¶çš„</li>
<li>Single Instance å•ä¾‹</li>
<li>Instance Per Lifetime Scope ä½œç”¨åŸŸ</li>
</ul>
<h3>Autofac ç”Ÿå‘½å‘¨æœŸ</h3>
<ul>
<li>Instance Per Dependency ç¬æ—¶</li>
</ul>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">RegisterType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Worker</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">InstancePerDependency</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// å¦‚æœä¸æŒ‡å®š,é»˜è®¤å°±æ˜¯InstancePerDependency</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">RegisterType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Worker</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>Instance Per Lifetime Scope ä½œç”¨åŸŸ</li>
</ul>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸä¸­è·å¾—çš„æ˜¯ç›¸åŒå®ä¾‹ï¼Œåœ¨ä¸åŒä½œç”¨åŸŸè·å¾—çš„æ˜¯ä¸åŒå®ä¾‹</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">RegisterType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Worker</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">InstancePerLifetimeScope</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>Single Instance å•ä¾‹</li>
</ul>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// æ³¨å†ŒWorkerç±»ä¸ºSIngle Instanceï¼ˆå•ä¾‹ï¼‰ï¼Œæ¯æ¬¡è·å–å‡è¿”å›åŒä¸€ä¸ªå®ä¾‹</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">RegisterType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Worker</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">SingleInstance</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><h2>ä½¿ç”¨è¯´æ˜</h2>
<p>åˆ›å»º<code>ASP.NET Core 3.0+</code>çš„é¡¹ç›®ï¼Œå¹¶å®‰è£…<code>Autofac</code>åŒ…</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> package</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> Autofac.Extensions.DependencyInjection</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>åœ¨ Program ä¸­ Host ä¸»æœºæŒ‡å®š <code>.UseServiceProviderFactory(new AutofacServiceProviderFactory())</code>.</p>
<p>UseServiceProviderFactory è°ƒç”¨ Autofac æä¾›ç¨‹åº,é™„åŠ åˆ°é€šç”¨å®¿ä¸»æœºåˆ¶ã€‚</p>
<div class="language-diff line-numbers-mode" data-highlighter="shiki" data-ext="diff" data-title="diff" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">public class Program</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    public static void Main(string[] args)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        var host = Host.CreateDefaultBuilder(args)</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#98C379">+       .UseServiceProviderFactory(new AutofacServiceProviderFactory())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .ConfigureWebHostDefaults(webHostBuilder =&gt; {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            webHostBuilder</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            .UseContentRoot(Directory.GetCurrentDirectory())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            .UseIISIntegration()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            .UseStartup&lt;Startup&gt;();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .Build();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        host.Run();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ StartUp ä¸­é…ç½®</p>
<div class="language-diff line-numbers-mode" data-highlighter="shiki" data-ext="diff" data-title="diff" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">public class Startup</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  public Startup(IConfiguration configuration)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    this.Configuration = configuration;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  public IConfiguration Configuration { get; private set; }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#98C379">+  public ILifetimeScope AutofacContainer { get; private set; }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  public void ConfigureServices(IServiceCollection services)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    services.AddOptions();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  // ConfigureContainer is where you can register things directly</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  // with Autofac. This runs after ConfigureServices so the things</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  // here will override registrations made in ConfigureServices.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  // Don't build the container; that gets done for you by the factory.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  public void ConfigureContainer(ContainerBuilder builder)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    // Register your own things directly with Autofac here. Don't</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    // call builder.Populate(), that happens in AutofacServiceProviderFactory</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    // for you.</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#98C379">+    builder.RegisterModule(new MyApplicationModule());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  public void Configure(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    IApplicationBuilder app,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    ILoggerFactory loggerFactory)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  {</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#98C379">+   this.AutofacContainer = app.ApplicationServices.GetAutofacRoot();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    loggerFactory.AddConsole(this.Configuration.GetSection("Logging"));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    loggerFactory.AddDebug();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    app.UseMvc();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®šä¹‰æ³¨å…¥å®ç°</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> MyApplicationModule</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Autofac</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Module</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    protected</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> override</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Load</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ContainerBuilder</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">      builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">RegisterType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpContextAccessor</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">As</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IHttpContextAccessor</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">SingleInstance</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>æ³¨å†Œæ³›å‹ä»“å‚¨</li>
</ul>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">RegisterGeneric</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AuditBaseRepository</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;&gt;)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">As</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IAuditBaseRepository</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;&gt;)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">InstancePerLifetimeScope</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">RegisterGeneric</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AuditBaseRepository</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;,&gt;)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">As</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IAuditBaseRepository</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;,&gt;)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">InstancePerLifetimeScope</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>ä¸€ä¸ªæ¥å£å¤šä¸ªå®ç°,ä½¿ç”¨ Namedï¼ŒåŒºåˆ†ã€å‚æ•°ä¸ºå­—ç¬¦ä¸²å³å¯ã€‚</li>
</ul>
<p>æ³¨å†ŒæœåŠ¡</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">RegisterType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IdentityServer4Service</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Named</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ITokenService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IdentityServer4Service</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">InstancePerLifetimeScope</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">RegisterType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">JwtTokenService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Named</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ITokenService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">JwtTokenService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">InstancePerLifetimeScope</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>æ ¹æ® Name è·å–å“ªä¸ªæœåŠ¡</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">private</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> readonly</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> ITokenService</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> _tokenService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> AccountController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">IComponentContext</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> componentContext</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">IConfiguration</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> isIdentityServer4</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetSection</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Service:IdentityServer4"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Value</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">?</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToBoolean</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">??</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">    _tokenService</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> componentContext</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ResolveNamed</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ITokenService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">isIdentityServer4</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> ?</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IdentityServer4Service</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Name</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> :</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">JwtTokenService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯é€šè¿‡ appsettings.json ä¸­é…ç½®,å¯å†³å®šæ˜¯å“ªä¸ªæœåŠ¡</p>
<div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379">  "Service"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "IdentityServer4"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  }</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>åŸºäºæ¥å£çš„æ³¨å…¥</li>
</ul>
<p><code>AsImplementedInterfaces</code> Specifies that a type from a scanned assembly is registered as providing all of its implemented interfaces.<br>
æŒ‡å®šå°†æ‰«æç¨‹åºé›†ä¸­çš„ç±»å‹æ³¨å†Œä¸ºæä¾›å…¶æ‰€æœ‰å®ç°çš„æ¥å£ã€‚</p>
<p>æ ¹æ®æ¥å£<code>ITransientDependency</code>å¯ä»¥å¾—åˆ°æœ‰å“ªäº›ç±»ç»§æ‰¿äº†æ­¤æ¥å£ï¼Œå¹¶åˆ¤æ–­æ˜¯ç±»ï¼Œä¸æ˜¯æŠ½è±¡ç±»ï¼Œä¸æ˜¯æ³›å‹ã€‚</p>
<p>æ‰€æœ‰ç»§æ‰¿ç±»æ¥å£çš„ç±»ï¼Œå°†ä»¥æ¥å£çš„æ–¹å¼è‡ªåŠ¨æ³¨å…¥å®ä¾‹ã€‚å¯ç›´æ¥ä½¿ç”¨æ¥å£å³å¯ã€‚</p>
<ul>
<li>InstancePerDependency ç¬æ—¶ ï¼ˆæ¯æ¬¡è¯·æ±‚éƒ½æ˜¯ä¸€ä¸ªæ–°çš„å®ä¾‹ï¼‰</li>
<li>InstancePerLifetimeScope èŒƒå›´ï¼ˆåœ¨åŒä¸€ä¸ªç”Ÿå‘½å‘¨æœŸå†…æ˜¯åŒä¸€ä¸ªå®ä¾‹ï¼‰</li>
<li>SingleInstance å•ä¾‹ï¼ˆå…¨å±€å”¯ä¸€å®ä¾‹ï¼‰</li>
</ul>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> DependencyModule</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Autofac</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Module</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        protected</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> override</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Load</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ContainerBuilder</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">            Assembly</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">currentAssemblies</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> AppDomain</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CurrentDomain</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetAssemblies</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Where</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">r</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> r</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">FullName</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Contains</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"LinCms."</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToArray</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            //æ¯æ¬¡è°ƒç”¨ï¼Œéƒ½ä¼šé‡æ–°å®ä¾‹åŒ–å¯¹è±¡ï¼›æ¯æ¬¡è¯·æ±‚éƒ½åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼›</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">            Type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> transientDependency</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ITransientDependency</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">RegisterAssemblyTypes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">currentAssemblies</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Where</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> transientDependency</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetTypeInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">IsAssignableFrom</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">t</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> t</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">IsClass</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> &amp;&amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> !</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">t</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">IsAbstract</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> &amp;&amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> !</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">t</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">IsGenericType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AsImplementedInterfaces</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">InstancePerDependency</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            //åŒä¸€ä¸ªLifetimeç”Ÿæˆçš„å¯¹è±¡æ˜¯åŒä¸€ä¸ªå®ä¾‹</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">            Type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> scopeDependency</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IScopedDependency</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">RegisterAssemblyTypes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">currentAssemblies</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Where</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> scopeDependency</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetTypeInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">IsAssignableFrom</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">t</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> t</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">IsClass</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> &amp;&amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> !</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">t</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">IsAbstract</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> &amp;&amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> !</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">t</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">IsGenericType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AsImplementedInterfaces</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">InstancePerLifetimeScope</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            //å•ä¾‹æ¨¡å¼ï¼Œæ¯æ¬¡è°ƒç”¨ï¼Œéƒ½ä¼šä½¿ç”¨åŒä¸€ä¸ªå®ä¾‹åŒ–çš„å¯¹è±¡ï¼›æ¯æ¬¡éƒ½ç”¨åŒä¸€ä¸ªå¯¹è±¡ï¼›</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">            Type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> singletonDependency</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ISingletonDependency</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">RegisterAssemblyTypes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">currentAssemblies</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Where</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> singletonDependency</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetTypeInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">IsAssignableFrom</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">t</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> t</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">IsClass</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> &amp;&amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> !</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">t</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">IsAbstract</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> &amp;&amp;!</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">t</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">IsGenericType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AsImplementedInterfaces</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">SingleInstance</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœä¸å†™ç»§æ‰¿ï¼Œå¦‚ä½•æ‰¹é‡æ³¨å…¥å‘¢ã€‚ 1.ç±»åæœ‰è§„åˆ™ 2.åŸºäºç‰¹æ®Šæ ‡ç­¾ 3.ç»§æ‰¿æ¥å£ã€‚</p>
<ul>
<li>ç±»åæœ‰è§„åˆ™<br>
æ¯”å¦‚ä»“å‚¨åç¼€ï¼Œå…¨æ˜¯<code>Repository</code>,å…¶ä¸­<code>Assembly</code>ä¸ºä»“å‚¨çš„å®ç°æ‰€åœ¨ç¨‹åºé›†ã€‚å°†è‡ªåŠ¨æ³¨å…¥æ‰€æœ‰çš„ä»“å‚¨ï¼Œä»“å‚¨å¿…é¡»æœ‰æ¥å£ã€‚</li>
</ul>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">    Assembly</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> assemblysRepository</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> Assembly</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Load</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"LinCms.Infrastructure"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">RegisterAssemblyTypes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">assemblysRepository</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Where</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">a</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">EndsWith</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Repository"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AsImplementedInterfaces</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">InstancePerLifetimeScope</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>æ³¨å…¥æœåŠ¡åå°±æ‰§è¡Œä¸€æ®µé€»è¾‘</li>
</ul>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">RegisterType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">MigrationStartupTask</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">SingleInstance</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">RegisterBuildCallback</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">async</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">c</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">=&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> c</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">MigrationStartupTask</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">StartAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">());</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><h3>åŠ¨æ€ä»£ç†</h3>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">dotnet</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> add</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> package</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> Autofac</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Extras</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">DynamicProxy</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">dotnet</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> add</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> package</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> Castle</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Core</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">AsyncInterceptor</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>æœåŠ¡æ³¨å†Œ</li>
</ul>
<p>AOP+å±æ€§æ³¨å…¥+ä»¥åç¼€ä¸º Service çš„æœåŠ¡å®ç°ï¼Œæ³¨å…¥ Scope èŒƒå›´çš„ç”Ÿå‘½å‘¨æœŸ+å¯ç”¨æ¥å£çš„æ‹¦æˆªå™¨ã€‚</p>
<ul>
<li>ä½¿ç”¨<code>EnableInterfaceInterceptors</code>åˆ›å»ºæ‰§è¡Œæ‹¦æˆªçš„æ¥å£ä»£ç†ï¼Œ</li>
<li>ä½¿ç”¨<code>EnableClassInterceptors()</code> åŠ¨æ€å¯¹å­ç±»è¿›è¡Œé‡å†™, æ‰§è¡Œ virtual æ–¹æ³•çš„æ‹¦æˆª</li>
</ul>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">RegisterType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">UnitOfWorkInterceptor</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">RegisterType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">UnitOfWorkAsyncInterceptor</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">List</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Type</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">interceptorServiceTypes</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> List</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Type</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">UnitOfWorkInterceptor</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Assembly</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> servicesDllFile</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> Assembly</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Load</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"LinCms.Application"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">RegisterAssemblyTypes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">servicesDllFile</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Where</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">a</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">EndsWith</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Service"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">&amp;&amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> !</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">a</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">IsAbstract</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> &amp;&amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> !</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">a</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">IsInterface</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> &amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">IsPublic</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AsImplementedInterfaces</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//æ¥å£æ³¨å…¥</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">InstancePerLifetimeScope</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//ç”Ÿå‘½å‘¨æœŸï¼šèŒƒå›´</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">PropertiesAutowired</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// å±æ€§æ³¨å…¥</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">InterceptedBy</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">interceptorServiceTypes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToArray</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">())</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//å£°æ˜æ‹¦æˆªå™¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">EnableInterfaceInterceptors</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//å¯ç”¨æ¥å£çš„æ‹¦æˆªå™¨ã€‚</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™äºŒä¸ªç±»ï¼Œè¯·å‚è€ƒå¦‚ä¸‹ä»£ç </p>
<ul>
<li>åŒæ­¥ï¼šUnitOfWorkInterceptor.cs <a href="https://github.com/luoyunchong/lin-cms-dotnetcore/blob/master/src/LinCms.Web/Middleware/UnitOfWorkInterceptor.cs" target="_blank" rel="noopener noreferrer">https://github.com/luoyunchong/lin-cms-dotnetcore/blob/master/src/LinCms.Web/Middleware/UnitOfWorkInterceptor.cs</a></li>
<li>å¼‚æ­¥æ‹¦æˆªï¼šUnitOfWorkAsyncInterceptor.cs <a href="https://github.com/luoyunchong/lin-cms-dotnetcore/blob/master/src/LinCms.Web/Middleware/UnitOfWorkInterceptor.cs" target="_blank" rel="noopener noreferrer">https://github.com/luoyunchong/lin-cms-dotnetcore/blob/master/src/LinCms.Web/Middleware/UnitOfWorkInterceptor.cs</a></li>
</ul>
<p><code>Autofac.Extras.DynamicProxy</code>ä¾èµ– Castle.Core,å³åªæ”¯æŒåŒæ­¥æ–¹æ³•çš„æ‹¦æˆªã€‚<br>
å¼‚æ­¥æ–¹æ³•çš„æ‹¦æˆªéœ€è¦å®‰è£…åŒ…ï¼š<code>Castle.Core.AsyncInterceptor</code>ã€‚</p>
<ul>
<li>å¼‚æ­¥æ–¹æ³•,åˆ†ä¸ºæœ‰/æ— è¿”å›å€¼ï¼š<code>async Task RunAsync()</code>,<code>asyn Task&lt;Result&gt; RunAsync()</code></li>
<li>åŒæ­¥æ–¹æ³•ï¼š<code>void Run()</code>,<code>Result Run()</code></li>
</ul>
<h3>åŒæ­¥æ‹¦æˆª</h3>
<p>1.å®šä¹‰æ‹¦æˆªå™¨</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> CallLogger</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IInterceptor</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">  TextWriter</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> _output</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">  public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> CallLogger</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">TextWriter</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> output</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">    _output</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> output</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">  public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Intercept</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IInvocation</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> invocation</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    _output</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Write</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Calling method {0} with parameters {1}... "</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">      invocation</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Method</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">      string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Join</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">", "</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">invocation</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Arguments</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">a</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">a</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> ??</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> ""</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToString</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToArray</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    invocation</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Proceed</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    _output</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Done: result was {0}."</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">invocation</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">ReturnValue</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.æ³¨å†Œæ‹¦æˆªå™¨ã€‚</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Named registration</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Register</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">c</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> CallLogger</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Out</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">       .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Named</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IInterceptor</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"log-calls"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Typed registration</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">builder</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Register</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">c</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> CallLogger</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Out</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">));</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å°†æ‹¦æˆªå™¨ä¸è¦æ‹¦æˆªçš„ç±»å‹ å…³è”</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Intercept</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">CallLogger</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">))]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> First</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">  public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> virtual</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> GetValue</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Do some calculation and return a value</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// This attribute will look for a NAMED</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// interceptor registration:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Intercept</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"log-calls"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Second</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">  public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> virtual</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> GetValue</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // Do some calculation and return a value</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>é“¾æ¥</h2>
<ul>
<li>å®˜ç½‘ <a href="https://autofac.org/" target="_blank" rel="noopener noreferrer">https://autofac.org/</a></li>
<li>GitHub <a href="https://github.com/autofac/Autofac" target="_blank" rel="noopener noreferrer">https://github.com/autofac/Autofac</a></li>
<li>æ–‡æ¡£ <a href="https://autofac.readthedocs.io/en/latest/" target="_blank" rel="noopener noreferrer">https://autofac.readthedocs.io/en/latest/</a></li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>LinCmså¦‚ä½•åˆ‡æ¢æˆSQL server</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/change-sqlserver.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/change-sqlserver.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">LinCmså¦‚ä½•åˆ‡æ¢æˆSQL server</source>
      <description>LinCmså¦‚ä½•åˆ‡æ¢æˆSQL server éœ€è¦ä¿®æ”¹LinCms.Webä¸­çš„appsetting.jsoné…ç½® æ•°æ®åº“é…ç½® DefaultDBï¼šæ”¹æˆ1 SqlServerï¼šæ”¹æˆè‡ªå·±çš„æ•°æ®åº“é…ç½® Serilogé…ç½® Usingå¼•ç”¨ &amp;quot;Serilog.Sinks.MSSqlServer&amp;quot;,å»æ‰ &amp;quot;Serilog.Sinks.MariaDB&amp;quot; æŠŠ &amp;quot;Name...</description>
      <pubDate>Sun, 12 Dec 2021 10:05:43 GMT</pubDate>
      <content:encoded><![CDATA[
<p>éœ€è¦ä¿®æ”¹LinCms.Webä¸­çš„appsetting.jsoné…ç½®</p>
<h3>æ•°æ®åº“é…ç½®</h3>
<p>DefaultDBï¼šæ”¹æˆ1<br>
SqlServerï¼šæ”¹æˆè‡ªå·±çš„æ•°æ®åº“é…ç½®</p>
<div class="language-diff line-numbers-mode" data-highlighter="shiki" data-ext="diff" data-title="diff" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  "ConnectionStrings": {</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#E06C75">-    "DefaultDB": "0",</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#98C379">+    "DefaultDB": "1",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    "DataType": {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      "MySql": 0,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      "SqlServer": 1,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      "PostgreSQL": 2,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      "Oracle": 3,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      "Sqlite": 4</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    "MySql": "Data Source=localhost;Port=3306;User ID=root;Password=rCsRedisoot;Initial Catalog=lincms;Charset=utf8mb4;SslMode=none;Max pool size=1;Connection LifeTime=20"</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#98C379">+   "SqlServer": "Data Source=.;User ID=sa;Password=123456;Integrated Security=True;Initial Catalog=LinCMS;Pooling=true;Min Pool Size=1"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  },</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>Serilogé…ç½®</h3>
<p>Usingå¼•ç”¨  <code>"Serilog.Sinks.MSSqlServer"</code>,å»æ‰<code> "Serilog.Sinks.MariaDB"</code></p>
<p>æŠŠ <code>"Name"</code>ä¸º <code>"MariaDB"</code>çš„jsonæ³¨é‡Šæ‰ã€‚</p>
<p>æŠŠ<code>"Name"</code>ä¸º <code>"MSSqlServer"</code>çš„jsonæ³¨é‡Šå»æ‰ã€‚</p>
<p>å¹¶æ”¹æ‰<code>Args:connectionString</code>çš„è¿æ¥ä¸²ã€‚</p>
<div class="language-diff line-numbers-mode" data-highlighter="shiki" data-ext="diff" data-title="diff" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    "Serilog": {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    "Using": [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      "Serilog.Sinks.Console",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      "Serilog.Sinks.File",</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#E06C75">-      "Serilog.Sinks.MariaDB"</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#98C379">+      "Serilog.Sinks.MSSqlServer"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    "MinimumLevel": {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      "Default": "Information",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      "Override": {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        "Microsoft": "Information",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        "System": "Warning"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    "WriteTo": [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        "Name": "File",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        "Args": {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">          "path": "Logs/log.txt",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">          "rollingInterval": "Day"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        "Name": "Console",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        "Args": {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">          "theme": "Serilog.Sinks.SystemConsole.Themes.AnsiConsoleTheme::Code, Serilog.Sinks.Console",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">          "outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] {Message:lj} &lt;s:{SourceContext}&gt;{NewLine}{Exception}"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      },</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#E06C75">-      {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        "Name": "MariaDB",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        "Args": {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">          "connectionString": "Data Source=localhost;Port=3308;User ID=root;Password=root;Initial Catalog=lincms;Charset=utf8mb4;SslMode=none;Max pool size=1;Connection LifeTime=20",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">          "autoCreateTable": true,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">          "tableName": "app_serilog",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">          "restrictedToMinimumLevel": "Information",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">          "batchPostingLimit": 4, //1000</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">          "period": "0.00:00:03",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">          "options": {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            "PropertiesToColumnsMapping": {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">              "Exception": "exception",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">              "Level": "level",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">              "Message": "message",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">              "MessageTemplate": "message_template",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">              "Properties": "properties",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">              "Timestamp": "timestamp"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            "TimestampInUtc": false,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            "ExcludePropertiesWithDedicatedColumn": true,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            "EnumsAsInts": true,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            "LogRecordsCleanupFrequency": "0.02:00:00",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            "LogRecordsExpiration": "31.00:00:00"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">          }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#E06C75">-      }</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#98C379">+      //{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //  "Name": "MSSqlServer",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //  "Args": {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //    "connectionString": "Data Source=.;User ID=sa;Password=123456;Integrated Security=True;Initial Catalog=LinCMS;Pooling=true;Min Pool Size=1",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //    "restrictedToMinimumLevel": "Information",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //    "sinkOptionsSection": {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      "tableName": "app_serilog",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      "schemaName": "dbo",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      "autoCreateSqlTable": true,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      "batchPostingLimit": 1000,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      "period": "0.00:00:15"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //    "columnOptionsSection": {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      "disableTriggers": true,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      "clusteredColumnstoreIndex": false,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      "primaryKeyColumnName": "id",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      "addStandardColumns": [ "LogEvent" ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      "removeStandardColumns": [ "Properties" ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      "additionalColumns": [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //          "ColumnName": "event_type",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //          "DataType": "int",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //          "AllowNull": true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //          "ColumnName": "release",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //          "DataType": "varchar",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //          "DataLength": 32</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //          "ColumnName": "environment_user_name",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //          "PropertyName": "UserName",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //          "DataType": "varchar",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //          "DataLength": 50</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //          "ColumnName": "all_sqlcolumn_defaults",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //          "DataType": "varchar",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //          "AllowNull": true,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //          "DataLength": -1,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //          "NonClusteredIndex": false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      "id": {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //        "columnName": "id",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //        "nonClusteredIndex": true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      "level": {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //        "columnName": "level",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //        "storeAsEnum": true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      //"Properties": {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      //  "columnName": "properties",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      //  "excludeAdditionalProperties": true,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      //  "dictionaryElementName": "dict",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      //  "itemElementName": "item",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      //  "omitDictionaryContainerElement": false,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      //  "omitSequenceContainerElement": false,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      //  "omitStructureContainerElement": false,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      //  "omitElementIfEmpty": true,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      //  "propertyElementName": "prop",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      //  "rootElementName": "root",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      //  "sequenceElementName": "seq",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      //  "structureElementName": "struct",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      //  "usePropertyKeyAsElementName": false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      //},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      "TimeStamp": {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //        "columnName": "timestamp",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //        "convertToUtc": true,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //        "DataType": "tinyint"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      "MessageTemplate": {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //        "columnName": "message_template",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //        "convertToUtc": true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      "Timestamp": "timestamp",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      "Exception": {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //        "columnName": "exception"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      "Message": {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //        "columnName": "message"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      "logEvent": {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //        "columnName": "properties",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //        "excludeAdditionalProperties": true,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //        "excludeStandardColumns": true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      //  }</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#98C379">+      //}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  }</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>CAPé…ç½®</h3>
<p>å› ä¸ºç”¨äº†<code>CAP</code>ã€‚capæ¢<code>sql server</code>ã€‚è¿™é‡Œæ”¹æˆ <code>DefaultStorage</code>æ”¹æˆ2ã€‚</p>
<p>å¦‚æœMessqueueæ¢rabbitmqçš„è¯ï¼Œ<code>DefaultMessageQueue</code>å°±æ”¹æˆ1.ç„¶åé…ç½® RabbitMQ</p>
<div class="language-diff line-numbers-mode" data-highlighter="shiki" data-ext="diff" data-title="diff" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  "CAP": {</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#E06C75">-    "DefaultStorage": "1",</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#98C379">+    "DefaultStorage": "2",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    "DefaultMessageQueue": "0",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    "Storage": {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      "InMemoryStorage": 0,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      "MySql": 1,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      "SqlServer": 2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    "MessageQueue": {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      "InMemoryQueue": 0,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      "RabbitMQ": 1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    "RabbitMQ": {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      "HostName": "localhost",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      "UserName": "admin",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      "Password": "123456",</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      "Port": 5672,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      "VirtualHost": "/admin"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  },</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åŒå‡»<code>LinCms.Application</code>é¡¹ç›®,æ³¨é‡Šæ‰<code>DotNetCore.CAP.MySql</code>çš„å¼•ç”¨ï¼Œå¼•ç”¨ SqlServerçš„åŒ…</p>
<div class="language-diff line-numbers-mode" data-highlighter="shiki" data-ext="diff" data-title="diff" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">	&lt;ItemGroup&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">		&lt;PackageReference Include="AspNet.Security.OAuth.Gitee" Version="5.0.11" /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">		&lt;PackageReference Include="AspNet.Security.OAuth.GitHub" Version="5.0.11" /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">		&lt;PackageReference Include="AspNet.Security.OAuth.QQ" Version="5.0.11" /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">		&lt;PackageReference Include="AutoMapper" Version="10.1.1" /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">		&lt;PackageReference Include="Autofac.Extensions.DependencyInjection" Version="7.1.0" /&gt;</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#E06C75">-		&lt;PackageReference Include="DotNetCore.CAP.MySql" Version="5.1.3" /&gt;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#98C379">+		&lt;PackageReference Include="DotNetCore.CAP.SqlServer" Version="5.1.3" /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">		&lt;PackageReference Include="IdentityServer4" Version="4.1.2" /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">		&lt;PackageReference Include="DotNetCore.CAP" Version="5.1.3" /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">		&lt;PackageReference Include="IdentityModel" Version="5.1.0" /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">		&lt;PackageReference Include="MQiniu.Core" Version="1.0.1" /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">		&lt;PackageReference Include="Caching.CSRedis" Version="3.6.60" /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">		&lt;PackageReference Include="CSRedisCore" Version="3.6.6" /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">	&lt;/ItemGroup&gt;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰“å¼€<code>LinCms.Application</code>é¡¹ç›®ä¸­çš„<code>CapUnitOfWorkExtensions.cs</code>æ–‡ä»¶</p>
<p>ä¿®æ”¹æ–¹æ³•<code>BeginTransaction</code></p>
<div class="language-diff line-numbers-mode" data-highlighter="shiki" data-ext="diff" data-title="diff" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">public static ICapTransaction BeginTransaction(this IUnitOfWork unitOfWork, ICapPublisher publisher, bool autoCommit = false)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    //çœ‹äº†æºç ï¼Œæ¢äº†æ–°çš„å†™æ³•ï¼Œæ¢ä¸åŒçš„æ•°æ®åº“ï¼Œå°±éœ€è¦æ‰‹åŠ¨ä¿®æ”¹è¿™æ®µä»£ç äº†ï¼ˆMySqlCapTransactionï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    //publisher.Transaction.Value = (ICapTransaction)publisher.ServiceProvider.GetService(typeof(ICapTransaction));æ–°ç‰ˆæœ¬åªèƒ½å¾—åˆ°nul</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#E06C75">-   publisher.Transaction.Value = ActivatorUtilities.CreateInstance&lt;MySqlCapTransaction&gt;(publisher.ServiceProvider);</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#98C379">+   publisher.Transaction.Value = ActivatorUtilities.CreateInstance&lt;SqlServerCapTransaction&gt;(publisher.ServiceProvider);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>LinCms.Scaffolding ä»£ç ç”Ÿæˆå™¨</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/lincms-scaffolding.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/lincms-scaffolding.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">LinCms.Scaffolding ä»£ç ç”Ÿæˆå™¨</source>
      <description>LinCms.Scaffolding ä»£ç ç”Ÿæˆå™¨ https://github.com/luoyunchong/lin-cms-dotnetcore/tree/dev æ‰“å¼€é¡¹ç›® LinCms.Scaffolding.slnã€‚ çœ‹åˆ° appsettings.json é…ç½®å¦‚ä¸‹ å®Œæˆä¸€ä¸ªç®€å•çš„è¡¨çš„ CRUDï¼Œåªéœ€è¦ï¼Œåˆ›å»ºä¸€ä¸ªå®ä½“ç±»ï¼Œä¿®æ”¹ä¸€ä¸‹ä¸Šé¢çš„é…ç½®é¡¹ï¼Œå³...</description>
      <pubDate>Sun, 26 Jul 2020 16:18:09 GMT</pubDate>
      <content:encoded><![CDATA[
<p><a href="https://github.com/luoyunchong/lin-cms-dotnetcore/tree/dev" target="_blank" rel="noopener noreferrer">https://github.com/luoyunchong/lin-cms-dotnetcore/tree/dev</a></p>
<p>æ‰“å¼€é¡¹ç›® LinCms.Scaffolding.slnã€‚</p>
<p>çœ‹åˆ° appsettings.json é…ç½®å¦‚ä¸‹</p>
<div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "SettingOptions"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "ProjectName"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"LinCms"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "BaseDirectory"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"D:/code/github/lin-cms-dotnetcore/src/LinCms.Core/"</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379">    "EntityFilePath"</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FFFFFF;--shiki-dark-font-style:inherit">:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "Entities/Base/Doc.cs"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "Areas"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Base"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "TemplatePath"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"./Templates"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "OutputDirectory"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"D:/code/github/lin-cms-dotnetcore/code-scaffolding"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®Œæˆä¸€ä¸ªç®€å•çš„è¡¨çš„ CRUDï¼Œåªéœ€è¦ï¼Œåˆ›å»ºä¸€ä¸ªå®ä½“ç±»ï¼Œä¿®æ”¹ä¸€ä¸‹ä¸Šé¢çš„é…ç½®é¡¹ï¼Œå³å¯ç”Ÿæˆä»£ç ã€‚</p>
<ul>
<li>BaseDirectory:BaseDirectory è¯·é…ç½®æˆ LinCms.Core çš„é¡¹ç›®è·¯å¾„ã€‚åç¼€è¦åŠ /</li>
</ul>
<p>ç”±äºé¡¹ç›®ä½¿ç”¨<strong>Microsoft.CodeAnalysis.CSharp</strong>è§£æå‡ºç±»çš„å±æ€§ï¼Œéœ€è¦çŸ¥é“é¡¹ç›®çš„åœ¨å“ªä¸ªä½ç½®ã€‚</p>
<p>å¦å¤–ï¼Œæœ¬é¡¹ç›®ï¼Œä¼šæ ¹æ® LinCms.Core.xml ä¸­çš„å†…å®¹è§£æå‡ºç±»å’Œå±æ€§çš„æ³¨é‡Šã€‚</p>
<ul>
<li>EntityFilePath å®ä½“ç±»æ‰€åœ¨æ–‡ä»¶ä½ç½®</li>
<li>Areas åŒºåŸŸæ¨¡å—å,eg:(Base)</li>
<li>TemplatePath ç›¸å¯¹è·¯å¾„ï¼Œå½“å‰é¡¹ç›®ä¸‹çš„ Templates ç›®å½•,ä¸éœ€è¦ä¿®æ”¹</li>
<li>OutputDirectory ç”Ÿæˆçš„ä»£ç è·¯å¾„ã€‚å¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„</li>
</ul>
<p>æˆ‘ä»¬åœ¨ LinCms.Core ä¸­çš„ Entities ä¸­ Base ç›®å½•ï¼Œæ–°å»ºä¸€ä¸ªç±» Doc.csï¼Œå¹¶å†™ä¸Šæ³¨é‡Šä¿¡æ¯ï¼Œä»¥ä¾¿ç”Ÿæˆåˆ—è¡¨å’Œè¡¨å•ã€‚</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">DataAnnotations</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> System</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> System</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Collections</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Generic</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> System</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Text</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> LinCms</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Entities</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Base</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// æ–‡æ¡£</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Doc</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FullAuditEntity</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// æ–‡æ¡£å</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Column</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF">StringLength</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 50</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> Name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// æ˜¾ç¤ºå</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Column</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF">StringLength</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 50</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> DisplayName</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬å¯ä»¥æ ¹æ®éœ€è¦ï¼Œä¿®æ”¹ä¸Šé¢çš„é…ç½®ä¿¡æ¯ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥æ‰“å¼€ Lincms çš„é¡¹ç›®ã€‚åˆ é™¤æ‰€æœ‰çš„ Docs ç›¸å…³çš„ä»£ç ã€‚</p>
<p>ç„¶åè¿è¡Œæ­¤ä»£ç ç”Ÿæˆå™¨ã€‚å³å¯ç”Ÿæˆæ‰€æœ‰ CRUD ä»£ç ã€‚ç„¶åã€‚ä»£ç ä¼šè¾“å‡ºåˆ°æ­¤ç›®å½• <strong>"D:/code/github/lin-cms-dotnetcore/code-scaffolding"</strong>,</p>
<p><img src="https://pic.downk.cc/item/5f1da73014195aa594ee9888.jpg" alt=""></p>
<p>ç„¶åã€‚æˆ‘ä»¬å°†å‰äº”ä¸ªä»£ç ï¼Œä¾æ¬¡å¤åˆ¶åˆ°é¡¹ç›®ä¸­ï¼Œå› ä¸ºå¯èƒ½è¦†ç›–ç°æœ‰çš„ä»£ç ï¼Œæ‰€ä»¥ä¸æ¨èå°†æ­¤ä»£ç çš„è¾“å‡ºç›®å½•å†™æˆ<strong>D:/code/github/lin-cms-dotnetcore/src</strong>ã€‚</p>
<p>ç„¶åå°†æœ€åä¸€ä¸ª lin-cms-vueã€‚æŒ‰æ¨¡å—å¤åˆ¶åˆ°è‡ªå·±é¡¹ç›®ä¸­å³å¯ã€‚</p>
]]></content:encoded>
      <enclosure url="https://pic.downk.cc/item/5f1da73014195aa594ee9888.jpg" type="image/jpeg"/>
    </item>
    <item>
      <title>Scriban æ¨¡æ¿è¯­è¨€</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/scriban-README.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/scriban-README.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">Scriban æ¨¡æ¿è¯­è¨€</source>
      <description>Scriban æ¨¡æ¿è¯­è¨€ ç›®å½• ã€ç¿»è¯‘ã€‘Scriban æ˜¯ä¸€ç§å¿«é€Ÿã€å¼ºå¤§ã€å®‰å…¨å’Œè½»é‡çº§çš„æ–‡æœ¬æ¨¡æ¿è¯­è¨€å’Œ.NET å¼•æ“ï¼Œå…·æœ‰è§£æ liquid æ¨¡æ¿çš„å…¼å®¹æ¨¡å¼ ã€ç¿»è¯‘ã€‘ Scriban languageï¼ˆ å¾…å®Œæˆï¼‰ ã€ç¿»è¯‘ã€‘Scriban runtimeï¼ˆ å¾…å®Œæˆï¼‰ åŸæ–‡ Githubï¼šhttps://github.com/lunet-io/scriba...</description>
      <pubDate>Sun, 26 Jul 2020 16:18:09 GMT</pubDate>
      <content:encoded><![CDATA[
<h3>ç›®å½•</h3>
<ul>
<li><a href="https://www.cnblogs.com/igeekfan/p/13343331.html" target="_blank" rel="noopener noreferrer">ã€ç¿»è¯‘ã€‘Scriban æ˜¯ä¸€ç§å¿«é€Ÿã€å¼ºå¤§ã€å®‰å…¨å’Œè½»é‡çº§çš„æ–‡æœ¬æ¨¡æ¿è¯­è¨€å’Œ.NET å¼•æ“ï¼Œå…·æœ‰è§£æ liquid æ¨¡æ¿çš„å…¼å®¹æ¨¡å¼</a></li>
<li><a href="">ã€ç¿»è¯‘ã€‘ Scriban languageï¼ˆ å¾…å®Œæˆï¼‰</a></li>
<li><a href="">ã€ç¿»è¯‘ã€‘Scriban runtimeï¼ˆ å¾…å®Œæˆï¼‰</a></li>
<li>åŸæ–‡ Githubï¼š<a href="https://github.com/lunet-io/scriban#readme" target="_blank" rel="noopener noreferrer">https://github.com/lunet-io/scriban#readme</a></li>
</ul>
<p><a href="https://github.com/lunet-io/scriban/actions" target="_blank" rel="noopener noreferrer"><img src="https://github.com/lunet-io/scriban/workflows/ci/badge.svg?branch=master" alt="Build Status"></a> <a href="https://coveralls.io/github/lunet-io/scriban?branch=master" target="_blank" rel="noopener noreferrer"><img src="https://coveralls.io/repos/github/lunet-io/scriban/badge.svg?branch=master" alt="Coverage Status"></a> <a href="https://www.nuget.org/packages/Scriban/" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/nuget/v/Scriban.svg" alt="NuGet"></a></p>

<p>Scriban æ˜¯ä¸€ç§å¿«é€Ÿã€å¼ºå¤§ã€<a href="http://xn--15q79ea762erongmcvqp2olx7ae8rfr2a92e2mno9h.NET" target="_blank" rel="noopener noreferrer">å®‰å…¨å’Œè½»é‡çº§çš„æ–‡æœ¬æ¨¡æ¿è¯­è¨€å’Œ.NET</a> å¼•æ“ï¼Œå…·æœ‰è§£æ<code>liquid</code>æ¨¡æ¿çš„å…¼å®¹æ¨¡å¼</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Parse a scriban template</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> template</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> Template</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Parse</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Hello {{name}}!"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> template</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Render</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">new</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">Name</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "World"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> }); </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// =&gt; "Hello World!"</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨ Liquid è¯­è¨€è§£æ Liquid æ¨¡æ¿ï¼š</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// Parse a liquid template</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> template</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> Template</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ParseLiquid</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Hello {{name}}!"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> template</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Render</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">new</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">Name</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "World"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> }); </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">// =&gt; "Hello World!"</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯­è¨€éå¸¸é€šç”¨ï¼Œæ˜“äºé˜…è¯»å’Œä½¿ç”¨ï¼Œç±»ä¼¼äº<a href="https://shopify.github.io/liquid/" target="_blank" rel="noopener noreferrer">liquid</a> æ¨¡æ¿:</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> template</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> Template</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Parse</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">@"</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379">&lt;ul id='products'&gt;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379">  {{ for product in products }}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379">    &lt;li&gt;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379">      &lt;h2&gt;{{ product.name }}&lt;/h2&gt;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379">           Price: {{ product.price }}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379">           {{ product.description | string.truncate 15 }}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379">    &lt;/li&gt;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379">  {{ end }}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379">&lt;/ul&gt;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> template</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Render</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">new</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">Products</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">ProductList</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> });</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p><strong>æ³¨æ„</strong></p>
<p>é»˜è®¤æƒ…å†µä¸‹, .NET å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ä¼šè‡ªåŠ¨ä»¥å°å†™å’Œ<code>_</code>å‘½åï¼Œè¿™æ„å‘³ç€åƒ<code>MyMethodIsNice</code>è¿™æ ·çš„å±æ€§å°†è¢«å…¬å¼€ä¸º<code>my_method_is_nice</code>.è¿™æ˜¯é»˜è®¤çº¦å®šï¼Œæœ€åˆæ˜¯ä¸ºäº†åŒ¹é…<code>liquid</code>æ¨¡æ¿çš„è¡Œä¸ºã€‚<br>
å¦‚æœè¦æ”¹å˜æ­¤è¡Œä¸ºï¼Œåˆ™éœ€è¦ä½¿ç”¨ <a href="/igeekfan-docs/dotnetcore/lin-cms/doc/runtime.html#member-renamer" target="_blank"><code>MemberRenamer</code></a> å§”æ‰˜</p>
</blockquote>
<h2>ç‰¹æ€§</h2>
<ul>
<li>éå¸¸<strong>é«˜æ•ˆ</strong>,<strong>å¿«é€Ÿ</strong> è§£æå™¨å’Œ<strong>è½»é‡çº§</strong>çš„è¿è¡Œæ—¶. å¯¹ CPU å’Œåƒåœ¾æ”¶é›†å™¨å‹å¥½. æŸ¥çœ‹</li>
<li><a href="https://github.com/lunet-io/scriban/blob/devel-3.0/doc/benchmarks.md" target="_blank" rel="noopener noreferrer">benchmarks</a>è·å–æ›´å¤šç»†èŠ‚.</li>
<li>ç”± Lexer / Parser æä¾›ä¸€ä¸ª<strong>å®Œæ•´çš„æŠ½è±¡è¯­æ³•æ ‘ï¼Œfast, versatile and robust(å¿«é€Ÿï¼Œé€šç”¨ä¸”å¼ºå¤§)</strong>, æ¯”åŸºäº regex çš„è§£æå™¨æ›´é«˜æ•ˆ
<ul>
<li>é”™è¯¯æŠ¥å‘Š:èƒ½æä¾›ç²¾ç¡®çš„æºä»£ç ä½ç½® ï¼ŒåŒ…æ‹¬(path, column and line)</li>
<li><strong>å°† AST å†™å…¥è„šæœ¬æ–‡æœ¬çš„å½¢å¼</strong>, ä½¿ç”¨ <a href="https://github.com/lunet-io/scriban/blob/devel-3.0/doc/runtime.md#ast-to-text" target="_blank" rel="noopener noreferrer"><code>Template.ToText</code></a>, å¯ä»¥æ“ä½œå†…å­˜ä¸­çš„è„šæœ¬å¹¶å°†å…¶é‡æ–°ä¿å­˜åˆ°ç£ç›˜, å¯¹äº <strong>roundtripï¼ˆå¾€è¿”ï¼‰çš„è„šæœ¬æ›´æ–°æ–¹æ¡ˆ</strong>æ˜¯æœ‰ç”¨çš„</li>
</ul>
</li>
<li><strong>å…¼å®¹<code>liquid</code></strong> æ¨¡æ¿ å¯ä½¿ç”¨<code>Template.ParseLiquid</code> æ–¹æ³•
<ul>
<li>è™½ç„¶ <code>liquid</code> è¯­è¨€ä¸å¦‚<code>scriban</code>å¼ºå¤§, ä½†è¯¥æ¨¡å¼ä» <code>liquid</code> åˆ™æ›´å®¹æ˜“åœ°è¿ç§»è‡³ <code>scriban</code></li>
<li>åœ¨ <a href="https://github.com/lunet-io/scriban/blob/devel-3.0/doc/runtime.md#ast-to-text" target="_blank" rel="noopener noreferrer">AST to text</a> æ¨¡å¼ä¸‹,å°†å¯¹æ¨¡æ¿<code>Template.ParseLiquid</code>è¿›è¡Œè§£æï¼Œæ›¿æ¢æˆ<code>Template.ToText</code>,å³å¯å°†<code>liquid</code> è„šæœ¬ è½¬æ¢æˆ <code>scriban</code> è„šæœ¬</li>
<li>ç”±äº liquid è¯­è¨€æ²¡æœ‰ä¸¥æ ¼å®šä¹‰ å¹¶ä¸”å®ƒæœ‰ç€ä¸åŒç‰ˆæœ¬çš„ liquid è¯­æ³•ï¼Œåœ¨ä½¿ç”¨ scriban çš„ liquid æ¨¡æ¿æ—¶ä¼šæœ‰ä¸€äº›é™åˆ¶, æŸ¥çœ‹æ­¤æ–‡æ¡£äº†è§£è¯¦æƒ… <a href="https://github.com/lunet-io/scriban/blob/devel-3.0/doc/liquid-support.md" target="_blank" rel="noopener noreferrer">liquid support in scriban</a></li>
</ul>
</li>
<li><strong>å¯æ‰©å±•çš„è¿è¡Œæ—¶</strong> æä¾›è®¸å¤šæ‰©å±•ç‚¹</li>
<li>æ”¯æŒ <code>async</code>/<code>await</code> çš„è„šæœ¬æ”¯æŒ (e.g <code>Template.RenderAsync</code>)</li>
<li><a href="https://github.com/lunet-io/scriban/blob/devel-3.0/doc/language.md#14-whitespace-control" target="_blank" rel="noopener noreferrer">ç²¾ç¡®æ§åˆ¶ç©ºç™½æ–‡æœ¬è¾“å‡º</a></li>
<li><a href="https://github.com/lunet-io/scriban/blob/devel-3.0/doc/language.md" target="_blank" rel="noopener noreferrer">å®Œæ•´çš„è¯­è¨€ç‰¹æ€§</a> åŒ…æ‹¬ <code>if</code>/<code>else</code>/<code>for</code>/<code>while</code>, <a href="/igeekfan-docs/dotnetcore/lin-cms/doc/language.html#8-expressions" target="_blank">expressions</a> (<code>x = 1 + 2</code>), conditions... etc.</li>
<li><a href="https://github.com/lunet-io/scriban/blob/devel-3.0/doc/language.md#89-function-call-expression" target="_blank" rel="noopener noreferrer">å‡½æ•°è°ƒç”¨å’Œç®¡é“</a> (<code>myvar | string.capitalize</code>)
<ul>
<li><a href="https://github.com/lunet-io/scriban/blob/devel-3.0/doc/language.md#7-functions" target="_blank" rel="noopener noreferrer">è‡ªå®šä¹‰å‡½æ•°</a> é€šè¿‡<code>func</code>è¯­å¥ç›´æ¥å°†å‡½æ•°è‡ªå®šä¹‰åˆ°è¯­è¨€ä¸­ é€šè¿‡<code>alias @ directive</code>å¯ä½¿ç”¨<strong>function pointers/delegates</strong></li>
<li>ä» runtime API ç»‘å®š <a href="https://github.com/lunet-io/scriban/blob/devel-3.0/doc/runtime.md#imports-functions-from-a-net-class" target="_blank" rel="noopener noreferrer">.NET è‡ªå®šä¹‰å‡½æ•°</a>ï¼Œ<a href="http://xn--jhqq1bn2s0qfzuhmx8d.NET" target="_blank" rel="noopener noreferrer">å¹¶æä¾›è®¸å¤šä¸.NET</a> å¯¹è±¡æ¥å£çš„<a href="https://github.com/lunet-io/scriban/blob/devel-3.0/doc/runtime.md#the-scriptobject" target="_blank" rel="noopener noreferrer">é€‰é¡¹</a> ã€‚</li>
</ul>
</li>
<li><a href="/igeekfan-docs/dotnetcore/lin-cms/doc/language.html#5-objects" target="_blank">Complex objects (å¤æ‚å¯¹è±¡)</a> (javascript/json like objects <code>x = {mymember: 1}</code>) and <a href="https://github.com/lunet-io/scriban/blob/devel-3.0/doc/language.md#6-arrays" target="_blank" rel="noopener noreferrer">arrays</a> (e.g <code>x = [1,2,3,4]</code>)</li>
<li>é€šå¸¸ç”±<code>wrap</code>è¯­å¥ä½¿ç”¨å¯ä»¥å°† <a href="https://github.com/lunet-io/scriban/blob/devel-3.0/doc/language.md#98-wrap-function-arg1argn--end" target="_blank" rel="noopener noreferrer">a block of statements ï¼ˆè¯­å¥å—ï¼‰</a> ä¼ é€’ç»™å‡½æ•°,</li>
<li>ä¸€äº›<a href="https://github.com/lunet-io/scriban/blob/devel-3.0/doc/builtins.md" target="_blank" rel="noopener noreferrer">å†…ç½®å‡½æ•°</a>:
<ul>
<li><a href="https://github.com/lunet-io/scriban/blob/devel-3.0/doc/builtins.md#array-functions" target="_blank" rel="noopener noreferrer"><code>arrays functions</code></a></li>
<li><a href="https://github.com/lunet-io/scriban/blob/devel-3.0/doc/builtins.md#date-functions" target="_blank" rel="noopener noreferrer"><code>date</code></a></li>
<li><a href="https://github.com/lunet-io/scriban/blob/devel-3.0/doc/builtins.md#html-functions" target="_blank" rel="noopener noreferrer"><code>html</code></a></li>
<li><a href="https://github.com/lunet-io/scriban/blob/devel-3.0/doc/builtins.md#math-functions" target="_blank" rel="noopener noreferrer"><code>maths functions</code></a></li>
<li><a href="/igeekfan-docs/dotnetcore/lin-cms/doc/builtins.html#object-functions" target="_blank"><code>object</code></a></li>
<li><a href="https://github.com/lunet-io/scriban/blob/devel-3.0/doc/builtins.md#regex-functions" target="_blank" rel="noopener noreferrer"><code>regex functions</code></a></li>
<li><a href="https://github.com/lunet-io/scriban/blob/devel-3.0/doc/builtins.md#string-functions" target="_blank" rel="noopener noreferrer"><code>string functions</code></a></li>
<li><a href="/igeekfan-docs/dotnetcore/lin-cms/doc/builtins.html#timespan-functions" target="_blank"><code>timespan</code></a></li>
</ul>
</li>
<li><a href="https://github.com/lunet-io/scriban/blob/devel-3.0/doc/language.md#11-code-block" target="_blank" rel="noopener noreferrer">Multi-line statements å¤šè¡Œè¯­å¥</a> ä¸å¿…åœ¨æ¯è¡Œéƒ½ä½¿ç”¨</li>
</ul>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">{{...}}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><ul>
<li><a href="https://github.com/lunet-io/scriban/blob/devel-3.0/doc/runtime.md#the-lexer-and-parser" target="_blank" rel="noopener noreferrer">Safe parser</a> and <a href="https://github.com/lunet-io/scriban/blob/devel-3.0/doc/runtime.md#safe-runtime" target="_blank" rel="noopener noreferrer">safe runtime</a>, ä½¿æ‚¨å¯ä»¥æ§åˆ¶å…¬å¼€å“ªäº›å¯¹è±¡å’ŒåŠŸèƒ½</li>
</ul>
<h2>Syntax Coloring(è¯­æ³•ç€è‰²)</h2>
<p>æ‚¨å¯ä»¥å®‰è£… <a href="https://marketplace.visualstudio.com/items?itemName=xoofx.scriban" target="_blank" rel="noopener noreferrer">Scriban Extension for Visual Studio Code</a> è·å– scriban è„šæœ¬ (without HTML) å’Œ scriban html æ–‡ä»¶çš„è¯­æ³•é¢œè‰²æç¤º</p>
<h2>æ–‡æ¡£</h2>
<ul>
<li>æœ‰å…³<a href="https://github.com/lunet-io/scriban/blob/devel-3.0/doc/language.md" target="_blank" rel="noopener noreferrer">è¯­è¨€è¯­æ³•</a>çš„è¯´æ˜ï¼Œè¯·å‚é˜…è¯­è¨€æ–‡æ¡£ã€‚</li>
<li>å†…ç½®å‡½æ•°è§æ–‡æ¡£<a href="https://github.com/lunet-io/scriban/blob/devel-3.0/doc/builtins.md" target="_blank" rel="noopener noreferrer">å†…ç½®å‡½æ•°</a>åˆ—è¡¨ã€‚</li>
<li><a href="http://xn--d6q68ewvytnav2iwszywn9lrwohlwk.NET" target="_blank" rel="noopener noreferrer">æœ‰å…³ç¼–è¯‘å’Œè¿è¡Œæ¨¡æ¿çš„.NET</a> è¿è¡Œæ—¶ API çš„è¯´æ˜ï¼Œè¯·å‚é˜…<a href="https://github.com/lunet-io/scriban/blob/devel-3.0/doc/runtime.md" target="_blank" rel="noopener noreferrer">è¿è¡Œæ—¶</a>æ–‡æ¡£ã€‚</li>
<li>æœ‰å…³æ”¯æŒ liquid æ¨¡æ¿çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…[Liquid support]æ–‡æ¡£ã€‚</li>
<li>è¯·å‚é˜…æˆ‘çš„åšå®¢æ–‡ç« "<a href="http://xoofx.com/blog/2017/11/13/implementing-a-text-templating-language-and-engine-for-dotnet/" target="_blank" rel="noopener noreferrer">å®ç°.NET çš„æ–‡æœ¬æ¨¡æ¿å¼•æ“</a>"ï¼Œäº†è§£ä¸€äº›å¹•åç»†èŠ‚ã€‚</li>
</ul>
<h2>äºŒè¿›åˆ¶åŒ…</h2>
<p>Scriban æä¾›ä¸€ä¸ªå¯è·å–çš„ NuGet åŒ…: <a href="https://www.nuget.org/packages/Scriban/" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/nuget/v/Scriban.svg" alt="NuGet"></a></p>
<p>å…¼å®¹ä»¥ä¸‹ .NET framework ç‰ˆæœ¬:</p>
<ul>
<li>.NET Framework 3.5</li>
<li>.NET Framework 4.0</li>
<li>.NET Framework 4.5+ (supports asynchronous code and timeouts for regular expressions)</li>
<li>.NET Standard1.1+ (some features are not available)</li>
<li>.NET Standard1.3+ (which means .NET Core, Xamarin, UWP, Unity etc.)</li>
</ul>
<p>è¿˜æœ‰æä¾›ç­¾åçš„ NuGet åŒ… <a href="https://www.nuget.org/packages/Scriban.Signed/" target="_blank" rel="noopener noreferrer">Scriban.Signed</a></p>
<h2>Benchmarksï¼ˆåŸºå‡†æµ‹è¯•ï¼‰</h2>
<p><strong>Scriban é€Ÿåº¦æå¿«</strong>! æ›´å¤šç»†èŠ‚, ä½ å¯ä»¥æŸ¥çœ‹æ­¤æ–‡æ¡£ <a href="https://github.com/lunet-io/scriban/blob/devel-3.0/doc/benchmarks.md" target="_blank" rel="noopener noreferrer">benchmarksï¼ˆåŸºå‡†æµ‹è¯•ï¼‰ æ–‡æ¡£</a>.</p>
<h2>License</h2>
<p>è¯¥è½¯ä»¶æ˜¯åœ¨<a href="https://opensource.org/licenses/BSD-2-Clause" target="_blank" rel="noopener noreferrer">BSD-Clause 2 license</a>åè®®ä¸‹å‘å¸ƒçš„</p>
<h2>ç›¸å…³é¡¹ç›®</h2>
<ul>
<li><a href="https://github.com/dotliquid/dotliquid" target="_blank" rel="noopener noreferrer">dotliquid</a>: Liquid <a href="http://xn--msvn2d35qbttogc.NET" target="_blank" rel="noopener noreferrer">æ¨¡æ¿è¯­è¨€çš„.NET</a> ç«¯å£ã€‚</li>
<li><a href="https://github.com/sebastienros/fluid/" target="_blank" rel="noopener noreferrer">Fluid</a> .NET liquid æ¨¡æ¿å¼•æ“</li>
<li><a href="https://github.com/jdiamond/Nustache" target="_blank" rel="noopener noreferrer">Nustache</a>: .NET æ— é€»è¾‘æ¨¡æ¿ï¼ˆLogic-less templates for .NETï¼‰</li>
<li><a href="https://github.com/rexm/Handlebars.Net" target="_blank" rel="noopener noreferrer">Handlebars.Net</a>: .NET port of handlebars.js</li>
</ul>
<h2>åœ¨çº¿ç¤ºä¾‹</h2>
<ul>
<li><a href="https://scribanonline.azurewebsites.net/" target="_blank" rel="noopener noreferrer">https://scribanonline.azurewebsites.net/)</a>: <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Core Sample.</li>
</ul>
<h2>Credits</h2>
<p>Adapted logo <code>Puzzle</code> by <a href="https://thenounproject.com/andydoane/" target="_blank" rel="noopener noreferrer">Andrew Doane</a> from the Noun Project</p>
<h2>ä½œè€…</h2>
<p>Alexandre Mutel aka <a href="http://xoofx.com" target="_blank" rel="noopener noreferrer">xoofx</a>.</p>
]]></content:encoded>
      <enclosure url="https://github.com/lunet-io/scriban/workflows/ci/badge.svg?branch=master" type="image/"/>
    </item>
    <item>
      <title>åç«¯å¿«é€Ÿä¸Šæ‰‹</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/cms-start.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/cms-start.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">åç«¯å¿«é€Ÿä¸Šæ‰‹</source>
      <description>åç«¯å¿«é€Ÿä¸Šæ‰‹ æœ¬å°èŠ‚æˆ‘ä»¬å°†åœ¨ lin-cms çš„åŸºç¡€ä¸Šå¼€å‘ä¸€ä¸ªç®€å•çš„å›¾ä¹¦ç®¡ç† demo,å¸®åŠ©å¤§å®¶æ¥ç†Ÿæ‚‰å’Œå…¥é—¨ lin-cmsã€‚ lin-cms æ˜¯ä¸€ä¸ª lin å›¢é˜Ÿç»æ•°æ‰“ç£¨çš„æ¨¡æ¿é¡¹ç›®ï¼Œæœ¬äººæ˜¯ c#çš„å¼€å‘è€…ï¼Œä¸º lin-cms å®Œå–„åœ¨.net ä¸‹çš„ç”Ÿæ€ï¼Œæ˜¯åŸºäº asp.netcore çš„åŸºç¡€ä¸Šï¼Œæ²‰æ·€ä¸‹æ¥çš„ä¸€å¥—å®è·µï¼Œ å¸®åŠ©å¼€å‘è€…èŠ‚çº¦æ—¶é—´ã€‚ æ³¨æ„ï¼šæœ¬å°èŠ‚å»ºç«‹...</description>
      <pubDate>Fri, 24 Jul 2020 17:10:08 GMT</pubDate>
      <content:encoded><![CDATA[
<p>æœ¬å°èŠ‚æˆ‘ä»¬å°†åœ¨ lin-cms çš„åŸºç¡€ä¸Šå¼€å‘ä¸€ä¸ªç®€å•çš„å›¾ä¹¦ç®¡ç† demo,å¸®åŠ©å¤§å®¶æ¥ç†Ÿæ‚‰å’Œå…¥é—¨ lin-cmsã€‚</p>
<p>lin-cms æ˜¯ä¸€ä¸ª lin å›¢é˜Ÿç»æ•°æ‰“ç£¨çš„æ¨¡æ¿é¡¹ç›®ï¼Œæœ¬äººæ˜¯ c#çš„å¼€å‘è€…ï¼Œä¸º lin-cms <a href="http://xn--30r01bk4g.net" target="_blank" rel="noopener noreferrer">å®Œå–„åœ¨.net</a> ä¸‹çš„ç”Ÿæ€ï¼Œæ˜¯åŸºäº asp.netcore çš„åŸºç¡€ä¸Šï¼Œæ²‰æ·€ä¸‹æ¥çš„ä¸€å¥—å®è·µï¼Œ å¸®åŠ©å¼€å‘è€…èŠ‚çº¦æ—¶é—´ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šæœ¬å°èŠ‚å»ºç«‹åœ¨ä½ æœ‰ä¸€å®šçš„ <a href="http://asp.net" target="_blank" rel="noopener noreferrer">asp.net</a> mvcï¼Œfreesqlï¼Œ.net core çš„åŸºç¡€ä¸Šã€‚</p>
</blockquote>
<h2>æ•°æ®å±‚</h2>
<p><a href="http://xn--6kqui483ct5rgbx9m.net" target="_blank" rel="noopener noreferrer">ç”±äºæˆ‘ä»¬ç”¨çš„.net</a> core ä¸­ä¼˜ç§€çš„å¼€æºé¡¹ç›® FreeSql,codefirst æ¨¡å¼ï¼Œä»–èƒ½æ ¹æ®ç±»ç”Ÿæˆè¡¨ç»“æ„ã€‚æ‰€ä»¥ï¼Œä¸éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨åˆ›å»ºè¡¨ç»“æ„ã€‚</p>
<h3>book ä¹¦</h3>
<p>| å­—æ®µ    | ç±»å‹    | å¤‡æ³¨    |<br>
|</p>
]]></content:encoded>
    </item>
    <item>
      <title>GitHub Actions</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/github-actions.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/github-actions.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">GitHub Actions</source>
      <description>GitHub Actions Gitee ä¸ GitHub è‡ªåŠ¨åŒæ­¥ å½“ github ä¸Šçš„é¡¹ç›®ä»£ç  master åˆ†æ”¯æäº¤åï¼Œgitee è‡ªåŠ¨åŒæ­¥ã€‚å¦‚ä½•å®ç°å‘¢ã€‚ä¸»è¦é€šè¿‡ github action å®ç° æˆ‘ä»¬æƒ³å°† luoyunchong/lin-cms-dotnetcore åŒæ­¥åˆ° igeekfan/lin-cms-dotnetcore ä¸Šé¢ï¼Œéœ€è¦åš...</description>
      <pubDate>Fri, 24 Jul 2020 17:10:08 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>Gitee ä¸ GitHub è‡ªåŠ¨åŒæ­¥</h2>
<p>å½“ github ä¸Šçš„é¡¹ç›®ä»£ç  master åˆ†æ”¯æäº¤åï¼Œgitee è‡ªåŠ¨åŒæ­¥ã€‚å¦‚ä½•å®ç°å‘¢ã€‚ä¸»è¦é€šè¿‡ github action å®ç°</p>
<p>æˆ‘ä»¬æƒ³å°† luoyunchong/lin-cms-dotnetcore åŒæ­¥åˆ° igeekfan/lin-cms-dotnetcore ä¸Šé¢ï¼Œéœ€è¦åšçš„éå¸¸ç®€å•ï¼Œåªéœ€è¦ 2 æ­¥ï¼š</p>
<p>1.å°† Gitee çš„ç§é’¥ï¼Œä¸Šä¼ åˆ°é¡¹ç›®çš„ setting çš„ Secrets ä¸­ã€‚<br>
<a href="https://pic.downk.cc/item/5e9725f5c2a9a83be5dcdec3.png" target="_blank" rel="noopener noreferrer"><img src="https://pic.downk.cc/item/5e9725f5c2a9a83be5dcdec3.png" alt=""></a></p>
<p>å‰æï¼Œè¯¥ç§é’¥å¯¹åº”çš„å…¬é’¥åœ¨ gitee ä¸Šï¼Œwindows(C:\Users\Computer.ssh)ï¼Œå…¶ä¸­ id_rsa æ˜¯ç§é’¥ï¼Œid_rsa.pub å†…å®¹æ˜¯å…¬é’¥ï¼Œå…·ä½“åœ¨ gitee ä¸Šå¢åŠ  ssh å…¬é’¥çš„è¿‡ç¨‹ï¼Œè¯·å‚è€ƒ<a href="https://gitee.com/help/articles/4191" target="_blank" rel="noopener noreferrer">SSH å…¬é’¥è®¾ç½®</a></p>
<ol start="2">
<li>æ”¹ source-repoã€destination-repo çš„å€¼</li>
</ol>
<h2>lin-cms-dotnetcore gitee åŒæ­¥è„šæœ¬</h2>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>name: Publish</span></span>
<span class="line"><span>on:</span></span>
<span class="line"><span>    push:</span></span>
<span class="line"><span>        branches:</span></span>
<span class="line"><span>            - master</span></span>
<span class="line"><span></span></span>
<span class="line"><span>jobs:</span></span>
<span class="line"><span>    build:</span></span>
<span class="line"><span>        runs-on: ubuntu-latest</span></span>
<span class="line"><span>        steps:</span></span>
<span class="line"><span>            - name: Sync to Gitee ğŸ’•</span></span>
<span class="line"><span>              uses: wearerequired/git-mirror-action@master</span></span>
<span class="line"><span>              env:</span></span>
<span class="line"><span>                  SSH_PRIVATE_KEY: ${{ secrets.SSH_PRIVATE_KEY }}</span></span>
<span class="line"><span>              with:</span></span>
<span class="line"><span>                  source-repo: "git@github.com:luoyunchong/lin-cms-dotnetcore.git"</span></span>
<span class="line"><span>                  destination-repo: "git@gitee.com:igeekfan/lin-cms-dotnetcore.git"</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¯ä¸€ä¸ª steps å°±æ˜¯åœ¨ jobs é‡Œæ‰§è¡Œå‘½ä»¤ï¼Œä¸€ä¸ª jobs å¯ä»¥æœ‰å¤šä¸ª steps,<br>
steps å­—æ®µæŒ‡å®šæ¯ä¸ª Job çš„è¿è¡Œæ­¥éª¤çš„ä»‹ç»</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>jobs.&lt;job_id&gt;.steps.name æ­¥éª¤åç§°</span></span>
<span class="line"><span>jobs.&lt;job_id&gt;.steps.env è¯¥æ­¥éª¤æ‰€éœ€çš„ç¯å¢ƒå˜é‡ã€‚</span></span>
<span class="line"><span>jobs.&lt;job_id&gt;.steps.uses  ä½¿ç”¨çš„ç»„ä»¶</span></span>
<span class="line"><span>jobs.&lt;job_id&gt;.steps.with å¤šä¸ªå€¼(è¿™ä¸ªå‚æ•°å…¶å®æ˜¯æäº¤ç»™å®¹å™¨çš„CMD)</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>CI/CD éƒ¨ç½²</h2>
<ul>
<li>å®Œæ•´çš„é…ç½®é¡¹</li>
</ul>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span># This workflow will do a clean install of node dependencies, build the source code and run tests across different versions of node</span></span>
<span class="line"><span># For more information see: https://help.github.com/actions/language-and-framework-guides/using-nodejs-with-github-actions</span></span>
<span class="line"><span></span></span>
<span class="line"><span>name: Node.js CI</span></span>
<span class="line"><span></span></span>
<span class="line"><span>on:</span></span>
<span class="line"><span>  push:</span></span>
<span class="line"><span>    branches:</span></span>
<span class="line"><span>      - master</span></span>
<span class="line"><span></span></span>
<span class="line"><span>jobs:</span></span>
<span class="line"><span>  build:</span></span>
<span class="line"><span>    name: ç¼–è¯‘</span></span>
<span class="line"><span>    runs-on: ubuntu-latest</span></span>
<span class="line"><span>    strategy:</span></span>
<span class="line"><span>      matrix:</span></span>
<span class="line"><span>        node-version: ['8','10','12']</span></span>
<span class="line"><span>    steps:</span></span>
<span class="line"><span>    - uses: actions/checkout@v2</span></span>
<span class="line"><span>    - name: Use Node.js ${{ matrix.node-version }}</span></span>
<span class="line"><span>      uses: actions/setup-node@v1</span></span>
<span class="line"><span>      with:</span></span>
<span class="line"><span>        node-version: ${{ matrix.node-version }}</span></span>
<span class="line"><span>    - name: å®‰è£…ä¾èµ–</span></span>
<span class="line"><span>      run: npm i</span></span>
<span class="line"><span>    - name: ç¼–è¯‘æ–‡ä»¶</span></span>
<span class="line"><span>      run: |</span></span>
<span class="line"><span>        npm run lint</span></span>
<span class="line"><span>        npm run build</span></span>
<span class="line"><span>  deploy:</span></span>
<span class="line"><span>    name: éƒ¨ç½²</span></span>
<span class="line"><span>    runs-on: ubuntu-latest</span></span>
<span class="line"><span>    steps:</span></span>
<span class="line"><span>      - name: æ‹‰å–ä»£ç </span></span>
<span class="line"><span>        uses: actions/checkout@v2</span></span>
<span class="line"><span>      - name: å®‰è£… Node.js 12</span></span>
<span class="line"><span>        uses: actions/setup-node@v1</span></span>
<span class="line"><span>        with:</span></span>
<span class="line"><span>          node-version: 12</span></span>
<span class="line"><span>      - name: å®‰è£…ä¾èµ–</span></span>
<span class="line"><span>        run: npm i</span></span>
<span class="line"><span>      - name: ç¼–è¯‘æ–‡ä»¶</span></span>
<span class="line"><span>        run: |</span></span>
<span class="line"><span>          npm run lint</span></span>
<span class="line"><span>          npm run build</span></span>
<span class="line"><span>      - name: ä¸Šä¼ æ–‡ä»¶</span></span>
<span class="line"><span>        uses: easingthemes/ssh-deploy@v2.1.4</span></span>
<span class="line"><span>        env:</span></span>
<span class="line"><span>          ARGS: "-rltgoDzvO --delete"</span></span>
<span class="line"><span>          SOURCE: "dist/"</span></span>
<span class="line"><span>          REMOTE_HOST: ${{ secrets.HOST }}</span></span>
<span class="line"><span>          REMOTE_USER: ${{ secrets.USER }}</span></span>
<span class="line"><span>          SSH_PRIVATE_KEY: ${{ secrets.SERVER_SSH_KEY }}</span></span>
<span class="line"><span>          TARGET: ${{ secrets.REMOTE_TARGET }}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>ssh-deploy æ’ä»¶</h3>
<ul>
<li><a href="https://github.com/easingthemes/ssh-deploy" target="_blank" rel="noopener noreferrer">https://github.com/easingthemes/ssh-deploy</a></li>
</ul>
<p>å¯æŸ¥çœ‹ README äº†è§£å…·ä½“å‚æ•°</p>
<p>ä»¥ä¸Šå…±æœ‰å››ä¸ªå‚æ•°éœ€è¦é…ç½®</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>REMOTE_HOST: ${{ secrets.HOST }}</span></span>
<span class="line"><span>REMOTE_USER: ${{ secrets.USER }}</span></span>
<span class="line"><span>SSH_PRIVATE_KEY: ${{ secrets.SERVER_SSH_KEY }}</span></span>
<span class="line"><span>TARGET: ${{ secrets.REMOTE_TARGET }}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰“å¼€ Settings-&gt;Secrets-&gt;New secret é…ç½®å¦‚ä¸‹å†…å®¹ã€‚</p>
<ul>
<li>HOST eg: <a href="http://mydomain.com" target="_blank" rel="noopener noreferrer">mydomain.com</a> è¿™é‡Œæˆ‘ä»¬é…ç½®äº†æœåŠ¡å™¨çš„ ip 111.231.197.142</li>
<li>USER centos æœåŠ¡å™¨çš„ç”¨æˆ·å</li>
<li>REMOTE_TARGET ç›®æ ‡æœåŠ¡å™¨çš„æ–‡ä»¶å¤¹ä½ç½®ï¼Œ eg: /var/www/lin-cms-vvlog</li>
<li>SERVER_SSH_KEYï¼šSSH å¯†é’¥å¯¹çš„ç§é’¥éƒ¨åˆ†ï¼Œå…¬é’¥åº”è¯¥æ·»åŠ åˆ°æœåŠ¡å™¨ä¸Šçš„ authorized_keys æ–‡ä»¶ä¸­ã€‚ã€‚eg /root/.ssh/authorized_keys</li>
</ul>
<p>æœ€åä¸€ä¸ªå‚æ•°è¯´æ˜ï¼šè¿™ä¸ªç›¸å½“äºæŠŠç§é’¥ç»™ githubï¼Œè®©ä»–èƒ½è¿œç¨‹ä¸Šä¼ æ–‡ä»¶åˆ° centos ä¸­ï¼Œå…¬é’¥æ”¾åˆ°æœåŠ¡å™¨ä¸Šã€‚å…¬é’¥ç”Ÿæˆçš„è¿‡ç¨‹ä¸ BB äº†ï¼Œ</p>
<h3>.ssh ç”Ÿæˆ</h3>
<ul>
<li><a href="https://help.github.com/en/articles/connecting-to-github-with-ssh" target="_blank" rel="noopener noreferrer">https://help.github.com/en/articles/connecting-to-github-with-ssh</a></li>
<li><a href="https://www.ssh.com/ssh/public-key-authentication" target="_blank" rel="noopener noreferrer">https://www.ssh.com/ssh/public-key-authentication</a></li>
</ul>
<p>æœ¬åœ° windows .ssh é»˜è®¤ç”Ÿæˆç›®å½•</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>C:\Users\è®¡ç®—æœºå\.ssh</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>æˆ‘çš„.ssh ç›®å½•ä½ç½®</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>C:\Users\Computer\.ssh</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>dir æŸ¥çœ‹æ–‡ä»¶</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>C:\Users\Computer\.ssh&gt;dir</span></span>
<span class="line"><span>2020/02/22  19:45             3,243 id_rsa</span></span>
<span class="line"><span>2020/02/22  19:45               750 id_rsa.pub</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>id_rsa æ˜¯ç§é’¥ï¼Œç”¨ vscode ç­‰è®°äº‹æœ¬ç¼–è¾‘å™¨æ‰“å¼€ï¼Œå¹¶å¤åˆ¶é…ç½®åˆ° github ä¸Šã€‚New secret,id_rsa.pub æ˜¯å…¬é’¥ï¼ŒæŠŠä»–å¤åˆ¶åˆ° linux æ–‡ä»¶å¤¹<code>/root/.ssh/</code>ç›®å½•ä¸­ï¼Œè¿™æ—¶æŠŠä»–çš„åå­—ç”±<code>id_rsa.pub</code>æ”¹æˆ<code>authorized_keys</code>å³å¯ã€‚</p>
<p><code>/ç”¨æˆ·å/.ssh</code> æ²¡æœ‰.ssh æ–‡ä»¶å¤¹å°±åˆ›å»ºä¸€ä¸ªã€‚</p>
<h3>XSheel ssh ç™»å½•</h3>
<p>å¯é€šè¿‡ xshell å·¥å…·éªŒè¯ï¼ŒPublic Key ç™»å½•ã€‚</p>
<p>æ–°å»ºä¼šè¯å±æ€§-&gt;è¾“å…¥ä¸»æœºï¼ˆHï¼‰å³ IP åœ°å€ã€‚</p>
<p>é€‰æ‹©ç”¨æˆ·èº«ä»½éªŒè¯-&gt;æ–¹æ³•é€‰æ‹© public Key,è¾“å…¥ç”¨æˆ·åï¼Œæ¯”å¦‚ root</p>
<ul>
<li>é€‰æ‹©ç§é’¥ç™»å½•<br>
åœ¨ç”¨æˆ·å¯†é’¥å³ä¾§ç‚¹å‡»æµè§ˆ-&gt;ç”¨æˆ·å¯†é’¥-&gt;å¯¼å…¥-&gt;é€‰æ‹© id_rsa.pub ç§é’¥ï¼Œå¯¼å…¥æˆåŠŸåï¼Œé€‰æ‹©æ­¤å¯†é’¥ï¼Œç¡®å®šã€‚å†åœ¨ SSH ç”¨æˆ·èº«ä»½éªŒè¯ç•Œé¢ç¡®å®š,å³å¯ç™»å½•æˆåŠŸã€‚è¡¨æ˜ç§é’¥ï¼Œå…¬é’¥é…ç½®æˆåŠŸ</li>
</ul>
<h2>å‚è€ƒ</h2>
<ul>
<li><a href="https://github.com/marketplace/actions/mirror-a-repository-using-ssh" target="_blank" rel="noopener noreferrer">https://github.com/marketplace/actions/mirror-a-repository-using-ssh</a></li>
<li><a href="https://help.github.com/en/actions" target="_blank" rel="noopener noreferrer">https://help.github.com/en/actions</a></li>
</ul>
]]></content:encoded>
      <enclosure url="https://pic.downk.cc/item/5e9725f5c2a9a83be5dcdec3.png" type="image/png"/>
    </item>
    <item>
      <title>æ–¹æ³•çº§åˆ«çš„æƒé™æ§åˆ¶ï¼ˆAPIçº§åˆ«ï¼‰</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/authorize.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/authorize.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">æ–¹æ³•çº§åˆ«çš„æƒé™æ§åˆ¶ï¼ˆAPIçº§åˆ«ï¼‰</source>
      <description>æ–¹æ³•çº§åˆ«çš„æƒé™æ§åˆ¶ï¼ˆAPIçº§åˆ«ï¼‰ Linçš„å®šä½åœ¨äºå®ç°ä¸€æ•´å¥— CMSçš„è§£å†³æ–¹æ¡ˆï¼Œå®ƒæ˜¯ä¸€ä¸ªè®¾è®¡æ–¹æ¡ˆï¼Œæä¾›äº†ä¸åŒçš„åç«¯ï¼Œä¸åŒçš„å‰ç«¯ï¼Œè€Œä¸”ä¹Ÿæ”¯æŒä¸åŒçš„æ•°æ®åº“ ç›®å‰å®˜æ–¹å›¢é˜Ÿç»´æŠ¤ lin-cms-vue,lin-cms-spring-boot,lin-cms-koa,lin-cms-flask ç¤¾åŒºç»´æŠ¤äº† lin-cms-tp5,lin-cms-react,li...</description>
      <pubDate>Thu, 28 May 2020 06:06:11 GMT</pubDate>
      <content:encoded><![CDATA[
<p>Linçš„å®šä½åœ¨äºå®ç°ä¸€æ•´å¥— CMSçš„è§£å†³æ–¹æ¡ˆï¼Œå®ƒæ˜¯ä¸€ä¸ªè®¾è®¡æ–¹æ¡ˆï¼Œæä¾›äº†ä¸åŒçš„åç«¯ï¼Œä¸åŒçš„å‰ç«¯ï¼Œè€Œä¸”ä¹Ÿæ”¯æŒä¸åŒçš„æ•°æ®åº“</p>
<p>ç›®å‰å®˜æ–¹å›¢é˜Ÿç»´æŠ¤ lin-cms-vue,lin-cms-spring-boot,lin-cms-koa,lin-cms-flask<br>
ç¤¾åŒºç»´æŠ¤äº† lin-cms-tp5,lin-cms-react,lin-cms-dotnetcoreï¼Œå³å·²æ”¯æŒvue,reactäºŒç§å‰ç«¯æ¡†æ¶ï¼Œjava,nodejs,python,php,c#ç­‰äº”ç§åç«¯è¯­è¨€ã€‚</p>
<p><a href="http://xn--4gqvab21ge41e49gvk0e1st.NET" target="_blank" rel="noopener noreferrer">ä¸‹é¢æˆ‘ä»¬æ¥è®²ä¸€ä¸‹.NET</a> Coreè¿™ä¸ªé¡¹ç›®ä¸­æƒé™æ§åˆ¶çš„å®ç°ã€‚</p>
<p>å¯¹äºCMSæ¥è¯´ï¼Œä¸€ä¸ªå®Œå–„çš„æƒé™æ¨¡å—æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œæ˜¯ç³»ç»Ÿå†…ç½®å®ç°çš„ã€‚ä¸ºäº†æ›´åŠ ç®€å•åœ°ç†è§£æƒé™ï¼Œ<a href="http://xn--ASP-p18d1bu7f23heq6b29jzx4acj4c.NET" target="_blank" rel="noopener noreferrer">æˆ‘ä»¬å…ˆæ¥ç†è§£ä¸€ä¸‹ASP.NET</a> Coreæœ‰å“ªäº›æƒé™æ§åˆ¶ã€‚</p>
<p>1.<strong>AuthorizeAttribute</strong>çš„ä½œç”¨ï¼Ÿ</p>
<p>è¿™ä¸ªç‰¹æ€§æ ‡ç­¾æˆæƒé€šè¿‡å±æ€§å‚æ•°é…ç½®ï¼Œå¯åº”ç”¨äºæ§åˆ¶å™¨æˆ–æ“ä½œæ–¹æ³•ä¸Šï¼Œå¯¹ç”¨æˆ·çš„èº«ä»½è¿›è¡ŒéªŒè¯ã€‚</p>
<p>å¦‚æœæ²¡æœ‰æˆæƒï¼Œä¼šè¿”å›403çŠ¶æ€ç ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é‡å†™ï¼Œæ¥å®ç°è¿”å›JSONå­—ç¬¦ä¸²ï¼Œè®©å‰å°æç¤ºã€‚å‰ææ˜¯è¯·æ±‚ä¸­é—´ä»¶é…ç½®äº†å¦‚ä¸‹äºŒè¡Œã€‚</p>
<ul>
<li>
<p><strong>app.UseAuthentication();</strong> è®¤è¯ï¼Œæ˜ç¡®æ˜¯è°åœ¨æ“ä½œï¼Œè®¤è¯æ–¹å¼å¦‚ç”¨æˆ·åå¯†ç ,ç™»å½•åï¼Œå¯ä»¥å¾—åˆ°ä¸€ä¸ªtokenï¼Œæˆ–è€…å†™å…¥cookiesï¼Œè¿™æ ·å¯ä»¥ç¡®å®šè¿™ä¸ªç”¨æˆ·æ˜¯è°</p>
</li>
<li>
<p><strong>app.UseAuthorization();</strong> æˆæƒä¸­é—´ä»¶ï¼Œæ˜ç¡®ä½ æ˜¯å¦æœ‰æŸä¸ªæƒé™ã€‚åœ¨httpè¯·æ±‚æ—¶ï¼Œä¸­é—´ä»¶ä¼šåœ¨å¸¦æœ‰æƒé™ç‰¹æ€§æ ‡ç­¾ <strong>[Authorize]</strong> çš„æ“ä½œï¼Œè¿›è¡Œæƒé™åˆ¤æ–­ï¼ŒåŒ…æ‹¬è§’è‰²ï¼Œç­–ç•¥ç­‰ã€‚</p>
</li>
</ul>
<p>è¯¥æ§åˆ¶å™¨ä¸‹çš„æ“ä½œéƒ½å¿…é¡»ç»è¿‡èº«ä»½éªŒè¯ï¼Œ</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Authorize</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> AccountController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Controller</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> ActionResult</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Login</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> ActionResult</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Logout</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ ·åªæ˜¾ç¤ºå•ä¸ªæ–¹æ³•å¿…é¡»åº”ç”¨æˆæƒã€‚</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> AccountController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Controller</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">   public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> ActionResult</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Login</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">   {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">   }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">   [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Authorize</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">   public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> ActionResult</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Logout</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">   {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">   }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæˆ‘ä»¬é€šè¿‡<strong>AllowAnonymous</strong>ç‰¹æ€§æ ‡ç­¾å»æ‰èº«ä»½éªŒè¯ã€‚Loginæ–¹æ³•æ— é¡»è¿›è¡ŒéªŒè¯ã€‚å³å¯åŒ¿åè®¿é—®ã€‚</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Authorize</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> AccountController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Controller</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AllowAnonymous</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> ActionResult</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Login</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> ActionResult</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Logout</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2">
<li>åŸºäºè§’è‰²çš„æˆæƒ</li>
</ol>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ç»™è¿™ä¸ªç‰¹æ€§æ ‡ç­¾åŠ å‚æ•°ï¼Œé…ç½®ï¼ŒæŸä¸ªæ–¹æ³•ï¼Œæ§åˆ¶å™¨æ˜¯å¦æœ‰è¿™ä¸ªè§’è‰²ï¼Œå¦‚æœæœ‰æ­¤è§’è‰²æ‰èƒ½è®¿é—®è¿™äº›èµ„æºã€‚</p>
<p>å•ä¸ªè§’è‰²</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Authorize</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF">Roles</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "Administrator"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> AdministrationController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Controller</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¤šä¸ªè§’è‰²ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·é…ç½®,å³ç”¨é€—å·åˆ†éš”ã€‚ç”¨æˆ·æœ‰å…¶ä¸­ä¸€ä¸ªè§’è‰²å³å¯è®¿é—®ã€‚</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Authorize</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF">Roles</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "HRManager,Finance"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> SalaryController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Controller</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“æŸä¸ªæ–¹æ³•å¿…é¡»åŒæ—¶æœ‰äºŒä¸ªè§’è‰²æ€ä¹ˆåŠå‘¢ã€‚è¯¥æ§åˆ¶å™¨åªæœ‰åŒæ—¶æœ‰PowerUserï¼Œå’ŒControlPanelUserçš„è§’è‰²æ‰èƒ½è®¿é—®è¿™äº›èµ„æºäº†ã€‚</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Authorize</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF">Roles</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "PowerUser"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Authorize</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF">Roles</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "ControlPanelUser"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> ControlPanelController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Controller</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>3.æ›´å¤šã€‚è¯·çœ‹å®˜ç½‘ <a href="https://docs.microsoft.com/zh-cn/aspnet/core/security/authorization/roles?view=aspnetcore-3.1" target="_blank" rel="noopener noreferrer">https://docs.microsoft.com/zh-cn/aspnet/core/security/authorization/roles?view=aspnetcore-3.1</a></li>
</ul>
<p>æ›´å¤šè¯¥ç‰¹æ€§æ ‡ç­¾çš„ä»‹ç»ï¼Œä¹Ÿå¯å‚è€ƒå®˜ç½‘ï¼Œè¿™é‡Œå°±ä¸å±•å¼€äº†ã€‚</p>
<p>é‚£è¿™ä¸ªè§’è‰²ï¼Œåˆ°åº•åœ¨å“ªé…ç½®çš„ï¼Ÿï¼Ÿ</p>
<p>ç™»å½•æ—¶ç”Ÿæˆçš„Token,æ˜¯åŸºäºJWTçš„ï¼Œå…¶ä¸­çš„Claimçš„typeä¸º<strong>ClaimTypes.Role</strong>ï¼ˆæšä¸¾å€¼ï¼‰ï¼Œè§’è‰²åç§°ä¸ºå­—ç¬¦ä¸²ï¼Œä¸ç‰¹æ€§æ ‡ç­¾ä¸­çš„Roleså±æ€§å€¼ç›¸åŒã€‚<br>
å¦‚</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Claim</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">ClaimTypes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Role</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Administrator"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>æœ‰å¤šä¸ªè§’è‰²æ—¶ï¼Œ<strong>List Claim</strong> å¤šåŠ å‡ ä¸ª <strong>new Claim(ClaimTypes.Role, "PowerUser");</strong> ä¹Ÿæ˜¯æ”¯æŒçš„ã€‚userä¸ºç”¨æˆ·ä¿¡æ¯ï¼ŒLinGroupsä¸ºå½“å‰ç”¨æˆ·çš„åˆ†ç»„ï¼ˆå¤šä¸ªï¼‰</p>
<p>å³å¦‚ä¸‹ä»£ç ç¤ºä¾‹ï¼Œå¤šä¸ªåˆ†ç»„ï¼ˆè§’è‰²ï¼‰</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> claims</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> List</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Claim</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">    new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Claim</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">ClaimTypes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">NameIdentifier</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">user</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Email</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> ??</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> ""</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">),</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">    new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Claim</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">ClaimTypes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">GivenName</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">user</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Nickname</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> ??</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> ""</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">),</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">    new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Claim</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">ClaimTypes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">user</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Username</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> ??</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> ""</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">user</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">LinGroups</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">?</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ForEach</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">r</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">     claims</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Add</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Claim</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">ClaimTypes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Role</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">r</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> });</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>AuthorizeAttributeæºç </h3>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AttributeUsage</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">AttributeTargets</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Class</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> |</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> AttributeTargets</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Method</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF">AllowMultiple</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF">Inherited</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">  public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> AuthorizeAttribute</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Attribute</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IAuthorizeData</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> AuthorizeAttribute</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> AuthorizeAttribute</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> policy</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B">      this</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Policy</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> policy</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> Policy</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> Roles</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> AuthenticationSchemes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  }</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå®ƒç»§æ‰¿äº†Attributeï¼Œè¯´æ˜è¿™æ˜¯ä¸€ä¸ªç‰¹æ€§æ ‡ç­¾ï¼ŒIAuthorizeDataæ˜¯ä¸€ä¸ªæ¥å£ï¼Œæœ‰è¿™ä¸‰ä¸ªå±æ€§ï¼Œçº¦æŸäº† ä¸€ä¸ªè§„èŒƒï¼Œå³æœ‰è§’è‰²Rolesï¼Œæœ‰ç­–ç•¥Policyï¼Œæœ‰èº«ä»½éªŒè¯æ–¹æ¡ˆAuthenticationSchemesï¼Œè¯¥ç‰¹æ€§æ”¯æŒClass,æ”¯æŒæ–¹æ³•ï¼Œè¯¥ç‰¹æ€§æ ‡ç­¾æ”¯æŒå¤šä¸ªå…±ç”¨ï¼Œè¯¥ç‰¹æ€§æ ‡ç­¾æ”¯æŒè¢«ç»§æ‰¿ã€‚</p>
<p>åŸºäºè§’è‰²çš„æˆæƒå’ŒåŸºäºå£°æ˜çš„æˆæƒæ˜¯ä¸€ç§é¢„é…ç½®çš„ç­–ç•¥ï¼Œå³å›ºå®šçš„è§’è‰²ï¼Œå›ºå®šçš„ClaimséªŒè¯ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥åŸºäºè‡ªå®šä¹‰ç­–ç•¥çš„å®ç°æ›´å¤šçš„æƒé™éªŒè¯æˆ–æŸäº›è§„åˆ™éªŒè¯ã€‚</p>
<p>AuthorizeAttributeèƒ½åšçš„æƒé™æ§åˆ¶å¦‚ä¸‹</p>
<ul>
<li>åŸºäºè§’è‰²çº§åˆ«çš„æƒé™æ§åˆ¶ï¼ˆå¤šä¸ªè§’è‰²ï¼Œå•ä¸ªè§’è‰²ï¼‰</li>
<li>åŸºäºå£°æ˜çš„æˆæƒï¼šå¯è‡ªå®šä¹‰å£°æ˜ç‰¹æ€§ã€‚</li>
<li>åŸºäºç­–ç•¥çš„æˆæƒï¼š</li>
</ul>
<h2>lin-cms-dotnetcoreä¸­çš„æƒé™è®¾è®¡</h2>
<p>è¯´äº†è¿™ä¹ˆå¤šå®˜æ–¹æä¾›çš„ï¼Œæˆ‘ä»¬è®²ä¸€ä¸‹lin-cms-dotnetcoreä¸­çš„æƒé™è®¾è®¡</p>
<p>å®Œæ•´çš„è¡¨ç»“æ„å¦‚ä¸‹<br>
<a href="https://luoyunchong.github.io/igeekfan-docs/dotnetcore/lin-cms/table.html" target="_blank" rel="noopener noreferrer">https://luoyunchong.github.io/igeekfan-docs/dotnetcore/lin-cms/table.html</a></p>
<h4>LinCmsAuthorizeAttribute</h4>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AttributeUsage</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">AttributeTargets</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Class</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> |</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> AttributeTargets</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Method</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF">AllowMultiple</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> LinCmsAuthorizeAttribute</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Attribute</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IAsyncAuthorizationFilter</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> Permission</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> Module</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> LinCmsAuthorizeAttribute</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> permission</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> module</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">            Permission</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> permission</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">            Module</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> module</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Task</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> OnAuthorizationAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AuthorizationFilterContext</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> context</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">            ClaimsPrincipal</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> claimsPrincipal</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> context</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">HttpContext</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">User</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">claimsPrincipal</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Identity</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">IsAuthenticated</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">                HandlerAuthenticationFailed</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">context</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"è®¤è¯å¤±è´¥ï¼Œè¯·æ£€æŸ¥è¯·æ±‚å¤´æˆ–è€…é‡æ–°ç™»é™†"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">ErrorCode</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">AuthenticationFailed</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">                return</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">            IAuthorizationService</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> authorizationService</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IAuthorizationService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">context</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">HttpContext</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">RequestServices</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IAuthorizationService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">            AuthorizationResult</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> authorizationResult</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> authorizationService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AuthorizeAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">context</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">HttpContext</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">User</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">null</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> OperationAuthorizationRequirement</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">() { </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">Name</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> Permission</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> });</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">authorizationResult</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Succeeded</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">                HandlerAuthenticationFailed</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">context</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">$"æ‚¨æ²¡æœ‰æƒé™ï¼š{</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">Module</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">}-{</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">Permission</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">}"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">ErrorCode</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">NoPermission</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> HandlerAuthenticationFailed</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AuthorizationFilterContext</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> context</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> errorMsg</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ErrorCode</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> errorCode</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            context</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">HttpContext</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Response</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">StatusCode</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> StatusCodes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Status401Unauthorized</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            context</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Result</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> JsonResult</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> UnifyResponseDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">errorCode</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">errorMsg</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">context</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">HttpContext</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„å®ç°éå¸¸ç®€å•,LinCmsAuthorizeAttributeç»§æ‰¿äºAttributeï¼Œè¯´æ˜æ˜¯ä¸€ä¸ªç‰¹æ€§æ ‡ç­¾ï¼Œæœ‰äºŒä¸ªå±æ€§Permissionï¼ŒModuleï¼Œä»£è¡¨æƒé™åï¼Œæ¨¡å—åï¼ˆç”¨äºåŒºåˆ†å“ªä¸ªåŠŸèƒ½æ¨¡å—ï¼‰ï¼Œç„¶åå°†æƒé™åç§°è½¬åŒ–ä¸ºOperationAuthorizationRequirementï¼Œç„¶åè°ƒç”¨authorizationServiceä¸­çš„æ–¹æ³•AuthorizeAsyncæ¥å®Œæˆæˆæƒã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åœ¨æ§åˆ¶å™¨ä¸Šä½¿ç”¨LinCmsAuthorizeAttribute,é‚£ä¹ˆæˆ‘ä»¬</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Route</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"cms/admin/group"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ApiController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> GroupController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ControllerBase</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> readonly</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IGroupService</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> _groupService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> GroupController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IGroupService</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> groupService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">        _groupService</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> groupService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpGet</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"all"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">LinCmsAuthorize</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"æŸ¥è¯¢æ‰€æœ‰æƒé™ç»„"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"ç®¡ç†å‘˜"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Task</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">List</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">LinGroup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetListAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _groupService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetListAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpGet</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"{id}"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">LinCmsAuthorize</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"æŸ¥è¯¢ä¸€ä¸ªæƒé™ç»„åŠå…¶æƒé™"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"ç®¡ç†å‘˜"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Task</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">GroupDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">long</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">        GroupDto</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> groupDto</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _groupService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> groupDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpPost</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">LinCmsAuthorize</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"æ–°å»ºæƒé™ç»„"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"ç®¡ç†å‘˜"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Task</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">UnifyResponseDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">CreateAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">([</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FromBody</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">CreateGroupDto</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> inputDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">        await</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _groupService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">CreateAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">inputDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> UnifyResponseDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Success</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"æ–°å»ºåˆ†ç»„æˆåŠŸ"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpPut</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"{id}"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">LinCmsAuthorize</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"æ›´æ–°ä¸€ä¸ªæƒé™ç»„"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"ç®¡ç†å‘˜"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Task</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">UnifyResponseDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UpdateAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">long</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FromBody</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">UpdateGroupDto</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> updateGroupDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">        await</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _groupService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UpdateAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">updateGroupDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> UnifyResponseDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Success</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"æ›´æ–°åˆ†ç»„æˆåŠŸ"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpDelete</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"{id}"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">LinCmsAuthorize</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"åˆ é™¤ä¸€ä¸ªæƒé™ç»„"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"ç®¡ç†å‘˜"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Task</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">UnifyResponseDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">DeleteAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">long</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">        await</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _groupService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">DeleteAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> UnifyResponseDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Success</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"åˆ é™¤åˆ†ç»„æˆåŠŸ"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ ·åœ¨æ–¹æ³•ä¸Šå·²ç»åŠ äº†æƒé™çš„æ ‡ç­¾ï¼Œä½†æˆ‘ä»¬æ€ä¹ˆå¾—åˆ°ç³»ç»Ÿä¸­çš„æ‰€æœ‰æƒé™ï¼Œè®©ç”¨æˆ·é…ç½®å‘¢ã€‚<br>
<a href="https://igeekfan.gitee.io/igeekfan-docs/dotnetcore/lin-cms/reflex-assembly-get-controller-methods-attribute.html#%E8%8E%B7%E5%8F%96%E6%8E%A7%E5%88%B6%E5%99%A8%E5%8F%8A%E6%96%B9%E6%B3%95%E7%89%B9%E6%80%A7%E6%A0%87%E7%AD%BE" target="_blank" rel="noopener noreferrer">è·å–æ§åˆ¶å™¨åŠæ–¹æ³•ç‰¹æ€§æ ‡ç­¾</a>ã€‚æœ¬è´¨ä¸Šï¼Œæ˜¯é€šè¿‡åå°„,æ‰«æå½“å‰ç¨‹åºé›†ï¼Œä¼šè·å–åˆ°ä¸€ä¸ªListï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶æŠŠè¿™äº›æ•°æ®å­˜åˆ°æ•°æ®åº“ä¸­ã€‚</p>
<p>æœ€æ–°çš„æ–¹å¼æ˜¯é‡‡ç”¨æ­¤æ–¹æ³•ï¼ŒåŸç†éƒ½ç›¸åŒã€‚nameï¼Œmoduleå”¯ä¸€å€¼ã€‚å­˜å…¥lin_permissionè¡¨ä¸­ï¼Œè¿™æ—¶å°±æœ‰idå€¼äº†ã€‚lin_group_permissionå°±èƒ½ç”¨åˆ†ç»„å…³è”äº†ã€‚</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Task</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> SeedAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">    List</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">PermissionDefinition</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">linCmsAttributes</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> ReflexHelper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GeAssemblyLinCmsAttributes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">    List</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">LinPermission</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">insertPermissions</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> List</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">LinPermission</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">    List</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">LinPermission</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">allPermissions</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">  _permissionRepository</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToListAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    linCmsAttributes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ForEach</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">r</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        bool</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> exist</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> allPermissions</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Any</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">u</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> u</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Module</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> ==</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> r</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Module</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> &amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> u</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Name</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> ==</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> r</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Permission</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">exist</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            insertPermissions</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Add</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> LinPermission</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">r</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Permission</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">r</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Module</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    });</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _permissionRepository</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">InsertAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">insertPermissions</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> }</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>å®ç°æ–¹æ³•çº§çš„æƒé™æ§åˆ¶æºç è§£æ</h3>
<p>åŸç†å¯ä»¥çœ‹è¿™ä¸ªæ–‡ç« <a href="https://www.cnblogs.com/RainingNight/p/dynamic-authorization-in-asp-net-core.html" target="_blank" rel="noopener noreferrer">ASP.NET Core è®¤è¯ä¸æˆæƒ[7]:åŠ¨æ€æˆæƒ</a>ä¸­çš„<strong>è‡ªå®šä¹‰æˆæƒè¿‡æ»¤å™¨</strong></p>
<p>æˆ‘ä»¬éœ€è¦äº†è§£ä¸€ä¸‹è¿™äº›ç±»/æ¥å£/æŠ½è±¡ç±»</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>- IAuthorizationService(interface)</span></span>
<span class="line"><span>- AuthorizationService(class)</span></span>
<span class="line"><span>- IAuthorizationHandler(interface)</span></span>
<span class="line"><span>- AuthorizationHandler&lt;TRequirement&gt;(abstract class)</span></span>
<span class="line"><span>- PermissionAuthorizationHandlerï¼ˆclass è‡ªå®šä¹‰çš„ç±»,ç»§æ‰¿AuthorizationHandlerï¼‰</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>æ€»ç»“è°ƒç”¨é“¾å¦‚ä¸‹</h3>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>LinCmsAuthorizeAttributeï¼ˆç»§æ‰¿äº†IAsyncAuthorizationFilterçš„ç‰¹æ€§æ ‡ç­¾ï¼‰</span></span>
<span class="line"><span>è°ƒç”¨äº†</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>æ–‡ä»¶ä¸Šä¼ ç³»ç»Ÿ</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/file-upload.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/file-upload.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">æ–‡ä»¶ä¸Šä¼ ç³»ç»Ÿ</source>
      <description>æ–‡ä»¶ä¸Šä¼ ç³»ç»Ÿ lin-cms-dotnetcore é»˜è®¤é›†æˆäº†æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ï¼Œå¹¶å¯è‡ªç”±åˆ‡æ¢å­˜å‚¨ä½ç½®ï¼Œå‰ç«¯ä¹Ÿæœ‰ç›¸åº”çš„ç»„ä»¶åŒ¹é…ä½¿ç”¨. ç›®å‰åç«¯å®ç°äº†ä¸ƒç‰›äº‘æ–‡ä»¶ï¼ˆQiniuServiceï¼‰ä¸Šä¼ ï¼Œæœ¬åœ°æ–‡ä»¶ï¼ˆLocalFileServiceï¼‰ä¸Šä¼ ã€‚ æ¥å£ IFileService é…ç½®é¡¹ appsettings.json æœ¬åœ°æ–‡ä»¶ä¸Šä¼  PrefixPathï¼šé»˜è®¤ä¸º...</description>
      <pubDate>Wed, 13 May 2020 11:18:08 GMT</pubDate>
      <content:encoded><![CDATA[
<p>lin-cms-dotnetcore é»˜è®¤é›†æˆäº†æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ï¼Œå¹¶å¯è‡ªç”±åˆ‡æ¢å­˜å‚¨ä½ç½®ï¼Œå‰ç«¯ä¹Ÿæœ‰ç›¸åº”çš„ç»„ä»¶åŒ¹é…ä½¿ç”¨.</p>
<p>ç›®å‰åç«¯å®ç°äº†ä¸ƒç‰›äº‘æ–‡ä»¶ï¼ˆQiniuServiceï¼‰ä¸Šä¼ ï¼Œæœ¬åœ°æ–‡ä»¶ï¼ˆLocalFileServiceï¼‰ä¸Šä¼ ã€‚</p>
<p>æ¥å£ <strong>IFileService</strong></p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IFileService</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// å•æ–‡ä»¶ä¸Šä¼ ï¼Œé”®ä¸ºfile</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic"> name</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">=</span><span style="--shiki-light:#032F62;--shiki-light-font-style:inherit;--shiki-dark:#98C379;--shiki-dark-font-style:italic">"file"</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic"> name</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">=</span><span style="--shiki-light:#032F62;--shiki-light-font-style:inherit;--shiki-dark:#98C379;--shiki-dark-font-style:italic">"key"</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">returns</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">returns</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">    Task</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FileDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">UploadAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IFormFile</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> file</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> key</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é…ç½®é¡¹ appsettings.json</p>
<h2>æœ¬åœ°æ–‡ä»¶ä¸Šä¼ </h2>
<ul>
<li>PrefixPathï¼šé»˜è®¤ä¸ºwwwrootä¸‹çš„æ–‡ä»¶ç›®å½•é…ç½®é¡¹ï¼Œassetsï¼Œå¤šçº§ç›®å½•ï¼Œå‰åä¸è¦åŠ **/**ï¼Œå¦‚assets/file</li>
<li>Host:  æ–‡ä»¶ä¸Šä¼ åï¼Œè®¿é—®åŸŸåé…ç½®ï¼Œè¿™é‡Œé…ç½®<a href="https://localhost:5001/" target="_blank" rel="noopener noreferrer">https://localhost:5001/</a></li>
<li>ServiceName :é…ç½®å½“å‰ç³»ç»Ÿä¸Šä¼ æ—¶ä½¿ç”¨å“ªä¸ªå®ç°ï¼Œå¯é€‰é…ç½®é¡¹ï¼ˆLocalFileServiceã€QiniuServiceï¼‰
<ul>
<li>å½“ä¸ºLocalFileServiceæ—¶ï¼Œæ–‡ä»¶ä¿å­˜è·¯å¾„ä¸º<strong>wwwroot</strong>é™æ€æ–‡ä»¶ç›®å½•ä¸‹ï¼Œä¸Šä¼ è‡³æœ¬åœ°ï¼Œ</li>
<li>QiniuService ä¸Šä¼ è‡³ä¸ƒç‰›äº‘</li>
</ul>
</li>
</ul>
<p>å®é™…æ–‡ä»¶è·¯å¾„</p>
<p><strong>/assets/2020/5/8/xxxxxx-1111-12-12-12--1-21.png</strong></p>
<p>å‚æ•°åŒ–</p>
<p><strong>/{STORE_DIR}/{year}/{month}/{day}/{guid}.æ–‡ä»¶åç¼€</strong></p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>  "FileStorage": {</span></span>
<span class="line"><span>    "ServiceName": "LocalFileService",//LocalFileServiceã€QiniuService</span></span>
<span class="line"><span>    "LocalFile":{</span></span>
<span class="line"><span>      "PrefixPath": "assets",</span></span>
<span class="line"><span>      "Host": "https://localhost:5001/"</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  },</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>ä¸ƒç‰›äº‘æ–‡ä»¶ä¸Šä¼ </h2>
<p>SERVICEä¸ºQiniuServiceæ—¶ï¼Œç³»ç»Ÿå°†éœ€è¦ä½¿ç”¨å¦‚ä¸‹é…ç½®é¡¹ï¼Œ</p>
<ul>
<li>AK :ä¸ƒç‰›äº‘å¯†é’¥AccessKey</li>
<li>SK :ä¸ƒç‰›äº‘å¯†é’¥SecretKey</li>
<li>Bucket :ä¸ƒç‰›äº‘æ–°å»ºå­˜å‚¨ç©ºé—´çš„åç§°ï¼ˆå”¯ä¸€å€¼ï¼‰</li>
<li>PrefixPath æ–‡ä»¶æ ¹ç›®å½•å‰ç¼€</li>
<li>Host:ä¸ƒç‰›äº‘é…ç½®çš„CDN åŠ é€ŸåŸŸåï¼Œå¯ä½¿ç”¨ä¸´æ—¶åˆ†é…çš„åŸŸåï¼Œä»…ä¸€ä¸ªæœˆæœ‰æ•ˆæœŸï¼Œç»‘å®šè‡ªå·±çš„åŸŸåï¼Œå¯é…ç½®æ³›å­åŸŸå</li>
<li>UseHttpsï¼šä½¿ç”¨httpsï¼Œè¿™ä¸ªå‚æ•°å¥½åƒæ²¡å•¥ç”¨ã€‚</li>
</ul>
<p>ä¸Šä¼ æ–‡ä»¶å</p>
<p><strong>assets/20191218150043868887.jpg</strong></p>
<p>å‚æ•°</p>
<p><strong>{PrefixPath}/{yyyyMMddHHmmssffffff}.æ–‡ä»¶åç¼€</strong></p>
<div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379">  "FileStorage"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">   "ServiceName"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"QiniuService"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "Qiniu"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">      "AK"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">""</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">      "SK"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">""</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">      "Bucket"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"vvv"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">      "PrefixPath"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"assets"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">      "Host"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"http://images.igeekfan.cn/"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">      "UseHttps"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  },</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>lin-cms é»˜è®¤å¯¹å¤–æš´éœ²äº†cms/file/ä½œä¸ºæ–‡ä»¶ä¸Šä¼ æ¥å£ï¼Œé€šè¿‡è¯¥æ¥å£å¯ä»¥ç›´æ¥ä½¿ç”¨ HTTP post æ–¹æ³•ä¸Šä¼ æ–‡ä»¶ã€‚</p>
<p>è¿è¡Œé¡¹ç›®åï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°swaggerï¼Œæ‰¾åˆ°cms/file<br>
<a href="https://localhost:5001/swagger/index.html" target="_blank" rel="noopener noreferrer">https://localhost:5001/swagger/index.html</a></p>
<p>| è¯·æ±‚æ–¹å¼ | è·¯å¾„             | åŠŸèƒ½       |<br>
|</p>
]]></content:encoded>
      <enclosure url="https://pic.downk.cc/item/5ebaba6bc2a9a83be5afe50b.png" type="image/png"/>
    </item>
    <item>
      <title>è¡Œä¸ºæ—¥å¿—</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/logger.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/logger.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">è¡Œä¸ºæ—¥å¿—</source>
      <description>è¡Œä¸ºæ—¥å¿—</description>
      <pubDate>Wed, 13 May 2020 11:18:08 GMT</pubDate>
      <content:encoded><![CDATA[
]]></content:encoded>
    </item>
    <item>
      <title>QQç¬¬ä¸‰æ–¹æˆæƒç™»å½•</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/qq-login.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/qq-login.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">QQç¬¬ä¸‰æ–¹æˆæƒç™»å½•</source>
      <description>QQç¬¬ä¸‰æ–¹æˆæƒç™»å½• å®‰è£…åŒ… æ¥ä¸Šæ–‡GitHubç¬¬ä¸‰æ–¹æˆæƒç™»å½• ç”³è¯·è¿‡ç¨‹ä¸ä»‹ç»äº†ï¼Œç”³è¯·è€…èµ„æ–™,ä¸ªäººä¹Ÿæ˜¯å¯ä»¥ç”³è¯·æˆåŠŸçš„ã€‚ è¿™æ—¶å€™æœ‰äºŒä¸ªå‚æ•°å°±æ˜¯clientid clientsecret å…¶ä¸­å¹³å°ä¿¡æ¯ï¼Œè¿™ä¸ªç”³è¯·å®¡æ ¸é€šè¿‡åï¼Œä¸è¦ä¿®æ”¹ï¼Œåƒä¸‡ä¸è¦éšä¾¿ä¿®æ”¹ï¼Œä¸€ä¿®æ”¹å°±è¦é‡æ–°å®¡æ ¸ã€‚ ç½‘ç«™å›è°ƒåŸŸ:å¯ä»¥éšä¾¿ä¿®æ”¹ï¼Œå¹¶ä¸”å¯ä»¥å†™å¤šä¸ªï¼Œä¸­é—´ç”¨è‹±æ–‡é€—å·åˆ†éš”å³å¯ã€‚ æ¯”å¦‚ï¼Œç½‘ç«™åœ°å€å¡«çš„ï¼š...</description>
      <pubDate>Wed, 13 May 2020 11:18:08 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>å®‰è£…åŒ…</h2>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>dotnet add package AspNet.Security.OAuth.QQ</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><ul>
<li><a href="https://luoyunchong.github.io/igeekfan-docs/dotnetcore/lin-cms/spa-github-login.html" target="_blank" rel="noopener noreferrer">æ¥ä¸Šæ–‡GitHubç¬¬ä¸‰æ–¹æˆæƒç™»å½•</a></li>
</ul>
<p>ç”³è¯·è¿‡ç¨‹ä¸ä»‹ç»äº†ï¼Œ<a href="https://wiki.connect.qq.com/%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C_oauth2-0" target="_blank" rel="noopener noreferrer">ç”³è¯·è€…èµ„æ–™</a>,ä¸ªäººä¹Ÿæ˜¯å¯ä»¥ç”³è¯·æˆåŠŸçš„ã€‚</p>
<p>è¿™æ—¶å€™æœ‰äºŒä¸ªå‚æ•°å°±æ˜¯clientid clientsecret</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>APP IDï¼šxxxx</span></span>
<span class="line"><span>APP Keyï¼šxxxxxx</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶ä¸­<strong>å¹³å°ä¿¡æ¯</strong>ï¼Œè¿™ä¸ªç”³è¯·å®¡æ ¸é€šè¿‡åï¼Œ<strong>ä¸è¦ä¿®æ”¹ï¼Œåƒä¸‡ä¸è¦éšä¾¿ä¿®æ”¹</strong>ï¼Œä¸€ä¿®æ”¹å°±è¦é‡æ–°å®¡æ ¸ã€‚</p>
<p>ç½‘ç«™å›è°ƒåŸŸ:å¯ä»¥éšä¾¿ä¿®æ”¹ï¼Œå¹¶ä¸”å¯ä»¥å†™å¤šä¸ªï¼Œä¸­é—´ç”¨è‹±æ–‡é€—å·åˆ†éš”å³å¯ã€‚<br>
æ¯”å¦‚ï¼Œç½‘ç«™åœ°å€å¡«çš„ï¼š<a href="https://api.igeekfan.cn%EF%BC%8C%E4%B8%8B%E9%9D%A2%E5%A6%82%E6%9E%9C%E6%98%AFlocalhost%EF%BC%8C%E6%98%AF%E5%8F%AF%E4%BB%A5%E7%9A%84%EF%BC%8C%E4%BD%86%E5%A6%82%E6%9E%9C%E6%98%AF%E5%9F%9F%E5%90%8D,%E4%BE%BF%E5%8F%AA%E8%83%BD%E6%98%AFhttps://api.igeekfan.cn" target="_blank" rel="noopener noreferrer">https://api.igeekfan.cnï¼Œä¸‹é¢å¦‚æœæ˜¯localhostï¼Œæ˜¯å¯ä»¥çš„ï¼Œä½†å¦‚æœæ˜¯åŸŸå,ä¾¿åªèƒ½æ˜¯https://api.igeekfan.cn</a>è¿™ä¸ªåŸŸåä¸‹çš„è·¯å¾„ã€‚</p>
<p>ç½‘ç«™å›è°ƒåŸŸé…ç½®,åå°æ˜¯è¿è¡Œåœ¨<a href="https://localhost:5001" target="_blank" rel="noopener noreferrer">https://localhost:5001</a>ç«¯å£ä¸Šã€‚</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>https://api.igeekfan.cn/signin-qq;https://localhost:5001/signin-qq</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h2>æ¥å£ä»‹ç»</h2>
<p>server-sideæ¨¡å¼ï¼Œæ˜¯OAuth2.0è®¤è¯çš„ä¸€ç§æ¨¡å¼ï¼Œåˆç§°Web Server Flowï¼›</p>
<p><img src="http://qzonestyle.gtimg.cn/qzone/vas/opensns/res/img/OAuth_guide_V2_1.png" alt="image"></p>
<p>è·å–Authorization Code<br>
<a href="https://graph.qq.com/oauth2.0/authorize" target="_blank" rel="noopener noreferrer">https://graph.qq.com/oauth2.0/authorize</a></p>
<p>é€šè¿‡Authorization Codeè·å–Access Token<br>
<a href="https://graph.qq.com/oauth2.0/token" target="_blank" rel="noopener noreferrer">https://graph.qq.com/oauth2.0/token</a></p>
<p>è·å–ç”¨æˆ·OpenID_OAuth2.0<br>
<a href="https://graph.qq.com/oauth2.0/me" target="_blank" rel="noopener noreferrer">https://graph.qq.com/oauth2.0/me</a></p>
<p>è·å–ç”¨æˆ·ä¸ªäººä¿¡æ¯<br>
<a href="https://graph.qq.com/user/get_user_info" target="_blank" rel="noopener noreferrer">https://graph.qq.com/user/get_user_info</a></p>
<h2><a class="header-anchor" href="#ä½¿ç”¨authorization-codeè·å–access-token"><span></span></a><a href="https://wiki.connect.qq.com/%E4%BD%BF%E7%94%A8authorization_code%E8%8E%B7%E5%8F%96access_token" target="_blank" rel="noopener noreferrer">ä½¿ç”¨Authorization_Codeè·å–Access_Token</a></h2>
<p>æ¥å…¥æµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>å…ˆè·å–Authorization Codeï¼›</li>
<li>é€šè¿‡Authorization Codeè·å–Access Token</li>
</ol>
<p>1.Step1ï¼šè·å–Authorization Code</p>
<p>GET</p>
<p><a href="https://graph.qq.com/oauth2.0/authorize?response_type=code&amp;client_id=client_id&amp;redirect_uri=https://localhost:5001/signin-qq&amp;state=123abc" target="_blank" rel="noopener noreferrer">https://graph.qq.com/oauth2.0/authorize?response_type=code&amp;client_id=client_id&amp;redirect_uri=https://localhost:5001/signin-qq&amp;state=123abc</a></p>
<p>å…·ä½“å‚æ•°å¯æŸ¥çœ‹å®˜ç½‘ã€‚</p>
<p>stateç”±ç”¨æˆ·è‡ªå·±åˆ›å»ºä¸€ä¸ªéšæœºæ•°ï¼Œä»¥é˜²æ­¢CSRFæ”»å‡»ã€‚</p>
<p>å¦‚æœç”¨æˆ·æˆåŠŸç™»å½•å¹¶æˆæƒï¼Œåˆ™ä¼šè·³è½¬åˆ°æŒ‡å®šçš„å›è°ƒåœ°å€ï¼Œå¹¶åœ¨redirect_uriåœ°å€åå¸¦ä¸ŠAuthorization Codeå’ŒåŸå§‹çš„stateå€¼ã€‚å¦‚ï¼š</p>
<p><a href="https://localhost:5001/signin-qq?code=B6D497755EACE4635115FC82BE24F280&amp;state=123abc" target="_blank" rel="noopener noreferrer">https://localhost:5001/signin-qq?code=B6D497755EACE4635115FC82BE24F280&amp;state=123abc</a></p>
<p>åå°å…ˆæ ¹æ®stateéªŒè¯æ˜¯è‡ªå·±å‘å‡ºçš„è¯·æ±‚ï¼Œåˆ¤æ–­æ˜¯å¦ç›¸åŒï¼Œä¸ç›¸åŒï¼Œåˆ™ä»£è¡¨éæœ¬é¡¹ç›®å‘å‡ºçš„æˆæƒç™»å½•è¯·æ±‚ã€‚</p>
<ol start="2">
<li>æ ¹æ®codeè·å–access_token</li>
</ol>
<p>GET</p>
<p><a href="https://graph.qq.com/oauth2.0/token?grant_type=authorization_code&amp;client_id=client_id&amp;client_secret=client_secret&amp;code=B6D497755EACE4635115FC82BE24F280&amp;redirect_uri=https://localhost:5001/signin-qq" target="_blank" rel="noopener noreferrer">https://graph.qq.com/oauth2.0/token?grant_type=authorization_code&amp;client_id=client_id&amp;client_secret=client_secret&amp;code=B6D497755EACE4635115FC82BE24F280&amp;redirect_uri=https://localhost:5001/signin-qq</a></p>
<p>è¿™æ—¶å€™ä½ ä¼šå¾—åˆ°</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>access_token=1B6E45FA99BA3D6B347713440C9BCEFE&amp;expires_in=7776000&amp;refresh_token=8DB1D48D95C85D3EF593936B8ACE5EE0</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h2>è·å–ç”¨æˆ·OpenID_OAuth2.0</h2>
<p>GET</p>
<p><a href="https://graph.qq.com/oauth2.0/me?access_token=1B6E45FA99BA3D6B347713440C9BCEFE" target="_blank" rel="noopener noreferrer">https://graph.qq.com/oauth2.0/me?access_token=1B6E45FA99BA3D6B347713440C9BCEFE</a></p>
<p>openidæ˜¯æ­¤ç½‘ç«™ä¸Šå”¯ä¸€å¯¹åº”ç”¨æˆ·èº«ä»½çš„æ ‡è¯†</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>callback( {"client_id":"101867513","openid":"951560F5C7A5AA9E5E599CF9B4ECFFB2"} );</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h2>è·å–ç”¨æˆ·çš„å…¶ä»–ä¿¡æ¯</h2>
<p>ç”¨æˆ·ä¿¡æ¯</p>
<p><a href="https://graph.qq.com/user/get_user_info?access_token=1B6E45FA99BA3D6B347713440C9BCEFE&amp;oauth_consumer_key=YOUR_APP_ID&amp;openid=951560F5C7A5AA9E5E599CF9B4ECFFB2" target="_blank" rel="noopener noreferrer">https://graph.qq.com/user/get_user_info?access_token=1B6E45FA99BA3D6B347713440C9BCEFE&amp;oauth_consumer_key=YOUR_APP_ID&amp;openid=951560F5C7A5AA9E5E599CF9B4ECFFB2</a></p>
<div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">"ret"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">"msg"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">""</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">"is_lost"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">"nickname"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"ã€å¤©ä¸Šæœ‰æœ¨æœˆOvO"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">"gender"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"xxx"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">"gender_type"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">"province"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"xxx"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">"city"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"xxx"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">"year"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"2019"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">"constellation"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">""</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">"figureurl"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"http:</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\/\/</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">qzapp.qlogo.cn</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\/</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">qzapp</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\/</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">101867513</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\/</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">951560F5C7A5AA9E5E599CF9B4ECFFB2</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\/</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">30"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">"figureurl_1"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"http:</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\/\/</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">qzapp.qlogo.cn</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\/</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">qzapp</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\/</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">101867513</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\/</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">951560F5C7A5AA9E5E599CF9B4ECFFB2</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\/</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">50"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">"figureurl_2"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"http:</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\/\/</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">qzapp.qlogo.cn</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\/</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">qzapp</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\/</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">101867513</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\/</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">951560F5C7A5AA9E5E599CF9B4ECFFB2</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\/</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">100"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">"figureurl_qq_1"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"http://thirdqq.qlogo.cn/g?b=oidb&amp;k=bjXoWmdlu8fk1m80MCkibMg&amp;s=40&amp;t=1559108425"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">"figureurl_qq_2"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"http://thirdqq.qlogo.cn/g?b=oidb&amp;k=bjXoWmdlu8fk1m80MCkibMg&amp;s=100&amp;t=1559108425"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">"figureurl_qq"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"http://thirdqq.qlogo.cn/g?b=oidb&amp;k=bjXoWmdlu8fk1m80MCkibMg&amp;s=640&amp;t=1559108425"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>ä»£ç </h2>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>services.AddAuthentication(xxx)</span></span>
<span class="line"><span>.AddGitHub(xxx)</span></span>
<span class="line"><span>åŠ ä¸ŠAddQQçš„é…ç½®é¡¹</span></span>
<span class="line"><span>.AddQQ(options =&gt;</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>   options.ClientId = Configuration["Authentication:QQ:ClientId"];</span></span>
<span class="line"><span>   options.ClientSecret = Configuration["Authentication:QQ:ClientSecret"];</span></span>
<span class="line"><span>})</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>appsettings.jsonä¸­é…ç½®é¡¹</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>  "Authentication": {</span></span>
<span class="line"><span>   //ä¸‹é¢ä¸ºæ–°å¢é¡¹</span></span>
<span class="line"><span>   "QQ": {</span></span>
<span class="line"><span>     "ClientId": "xx",</span></span>
<span class="line"><span>     "ClientSecret": "xxx"</span></span>
<span class="line"><span>   }</span></span>
<span class="line"><span> }</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¹ï¼Œæ²¡é”™ï¼ŒQQç™»å½•ï¼Œå·²ç»ç»“æŸäº†ã€‚æ¥ä¸‹æ¥å°±æ˜¯æŠŠè¿™äº›ç”¨æˆ·çš„ä¿¡æ¯ä¿å­˜åˆ°æ•°æ®åº“ï¼Œç”Ÿæˆtokençš„è¿‡ç¨‹ã€‚</p>
<p>è¿™é‡Œ</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>[HttpGet("signin-callback")]</span></span>
<span class="line"><span>public async Task&lt;IActionResult&gt; Home(string provider, string redirectUrl = "")</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span></span></span>
<span class="line"><span>   AuthenticateResult authenticateResult = await _contextAccessor.HttpContext.AuthenticateAsync(provider);</span></span>
<span class="line"><span>   if (!authenticateResult.Succeeded) return Redirect(redirectUrl);</span></span>
<span class="line"><span>   var openIdClaim = authenticateResult.Principal.FindFirst(ClaimTypes.NameIdentifier);</span></span>
<span class="line"><span>   if (openIdClaim == null || string.IsNullOrWhiteSpace(openIdClaim.Value))</span></span>
<span class="line"><span>       return Redirect(redirectUrl);</span></span>
<span class="line"><span>       </span></span>
<span class="line"><span>       </span></span>
<span class="line"><span>   ClaimsPrincipal principal=authenticateResult.Principal;</span></span>
<span class="line"><span>   //æ ¹æ®providerï¼Œå¤„ç†ç”¨æˆ·çš„åŸºç¡€ä¿¡æ¯ï¼Œ</span></span>
<span class="line"><span>   </span></span>
<span class="line"><span>   long id =SaveQQAsync(principal, openIdClaim.Value)</span></span>
<span class="line"><span>   </span></span>
<span class="line"><span>   //xxx</span></span>
<span class="line"><span>   </span></span>
<span class="line"><span>}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>openIdClaimopenIdClaimæ˜¯å”¯ä¸€å€¼</p>
<h3>lin_userè¡¨</h3>
<p>å­—æ®µ| ç±»å‹|å¤‡æ³¨</p>
]]></content:encoded>
      <enclosure url="http://qzonestyle.gtimg.cn/qzone/vas/opensns/res/img/OAuth_guide_V2_1.png" type="image/png"/>
    </item>
    <item>
      <title>åŸºäº RBAC å®ç°æƒé™è®¾è®¡</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/table.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/table.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">åŸºäº RBAC å®ç°æƒé™è®¾è®¡</source>
      <description>åŸºäº RBAC å®ç°æƒé™è®¾è®¡ åŠŸèƒ½ï¼šå®ç°ä¸€ä¸ªç”¨æˆ·è®¾ç½®å¤šä¸ªåˆ†ç»„ï¼Œåˆ†ç»„å¯ä»¥è®¾ç½®å¤šä¸ªæƒé™ï¼Œæƒé™ä¸åå° API æ–¹æ³•å¯¹åº”ï¼Œå‰ç«¯èœå•ç»‘å®šæƒé™ç¼–ç ï¼Œå‰ç«¯æŒ‰é’®ç»‘å®šæƒé™ç¼–ç ï¼Œä»è€Œå®ç°ç”¨æˆ·å¯é…ç½®æƒé™ï¼Œä»è€Œæ§åˆ¶ç•Œé¢ä¸Šçš„å…ƒç´ ç­‰ã€‚ 1. ç”¨æˆ·è¡¨ lin_user 2. åˆ†ç»„è¡¨ lin_group 3. ç”¨æˆ·åˆ†ç»„è¡¨ lin_user_group ç”¨æˆ·åˆ†ç»„è¡¨ã€‚ç”¨äºç”¨æˆ·å’Œåˆ†ç»„è¡¨çš„å…³...</description>
      <pubDate>Wed, 13 May 2020 11:18:08 GMT</pubDate>
      <content:encoded><![CDATA[
<p>åŠŸèƒ½ï¼šå®ç°ä¸€ä¸ªç”¨æˆ·è®¾ç½®å¤šä¸ªåˆ†ç»„ï¼Œåˆ†ç»„å¯ä»¥è®¾ç½®å¤šä¸ªæƒé™ï¼Œæƒé™ä¸åå° API æ–¹æ³•å¯¹åº”ï¼Œå‰ç«¯èœå•ç»‘å®šæƒé™ç¼–ç ï¼Œå‰ç«¯æŒ‰é’®ç»‘å®šæƒé™ç¼–ç ï¼Œä»è€Œå®ç°ç”¨æˆ·å¯é…ç½®æƒé™ï¼Œä»è€Œæ§åˆ¶ç•Œé¢ä¸Šçš„å…ƒç´ ç­‰ã€‚</p>
<h3>1. ç”¨æˆ·è¡¨ lin_user</h3>
<p>| å­—æ®µ         | å¤‡æ³¨                                | ç±»å‹    |<br>
|</p>
]]></content:encoded>
    </item>
    <item>
      <title>CAPå®ç°EventBus</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/rabbitmq.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/rabbitmq.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">CAPå®ç°EventBus</source>
      <description>CAPå®ç°EventBus åˆ†å¸ƒå¼äº‹åŠ¡ä¸€è‡´æ€§ï¼Œä½¿ç”¨çš„æ˜¯ CAPï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨å®ƒå‘¢ã€‚ EventBus:äº‹ä»¶æ€»çº¿ï¼Œæ˜¯ä¸€ä¸ªåŸºäºè§‚å¯Ÿè€…æ¨¡å—çš„äº‹ä»¶å‘å¸ƒ/è®¢é˜…æ¡†æ¶ï¼Œå¯ä»¥å°†ä¸€äº›å¤æ‚çš„ï¼Œé‡å¤çš„æ“ä½œï¼Œå¼‚æ­¥çš„æ“ä½œï¼Œäº¤ç»™ç³»ç»Ÿå»å¤„ç†ï¼Œå½“å‰ç³»ç»Ÿç›´æ¥è¿”å›æˆåŠŸçš„æ“ä½œã€‚ ç®€å•çš„è¯´å°±æ˜¯è§£è€¦ï¼Œ æ¯”å¦‚ç”¨æˆ·å‘å¸ƒæ–‡ç« åï¼Œéœ€è¦å°†æ¶ˆæ¯æ¨é€ç»™å…³æ³¨çš„ç”¨æˆ·ï¼Œè¿™æ—¶å€™ï¼Œæ¨é€ä¼šæµªè´¹è®¸å¤šæ—¶é—´ï¼Œæœ¬æ¥...</description>
      <pubDate>Fri, 08 May 2020 15:01:00 GMT</pubDate>
      <content:encoded><![CDATA[
<p>åˆ†å¸ƒå¼äº‹åŠ¡ä¸€è‡´æ€§ï¼Œä½¿ç”¨çš„æ˜¯ <a href="https://github.com/dotnetcore/cap" target="_blank" rel="noopener noreferrer">CAP</a>ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨å®ƒå‘¢ã€‚</p>
<p>EventBus:äº‹ä»¶æ€»çº¿ï¼Œæ˜¯ä¸€ä¸ªåŸºäºè§‚å¯Ÿè€…æ¨¡å—çš„äº‹ä»¶å‘å¸ƒ/è®¢é˜…æ¡†æ¶ï¼Œå¯ä»¥å°†ä¸€äº›å¤æ‚çš„ï¼Œé‡å¤çš„æ“ä½œï¼Œå¼‚æ­¥çš„æ“ä½œï¼Œäº¤ç»™ç³»ç»Ÿå»å¤„ç†ï¼Œå½“å‰ç³»ç»Ÿç›´æ¥è¿”å›æˆåŠŸçš„æ“ä½œã€‚</p>
<p>ç®€å•çš„è¯´å°±æ˜¯è§£è€¦ï¼Œ</p>
<p>æ¯”å¦‚ç”¨æˆ·å‘å¸ƒæ–‡ç« åï¼Œéœ€è¦å°†æ¶ˆæ¯æ¨é€ç»™å…³æ³¨çš„ç”¨æˆ·ï¼Œè¿™æ—¶å€™ï¼Œæ¨é€ä¼šæµªè´¹è®¸å¤šæ—¶é—´ï¼Œæœ¬æ¥è¿™ä¸ªæ“ä½œä¸å½“å‰ç™»å½•çš„ç”¨æˆ·æ²¡æœ‰å…³ç³»ï¼Œç”¨æˆ·ä¹Ÿåªå…³æ³¨æ–‡ç« å‘å¸ƒæ˜¯å¦æˆåŠŸï¼Œã€‚åç»­ï¼Œå°†æ¨é€ç­‰æ“ä½œï¼Œäº¤ç»™å¦ä¸€ä»¶äº‹ä»¶å»å¤„ç†ï¼Œè¿™æ ·é€Ÿåº¦æ›´å¿«ï¼Œå±è”½äº†ä¸€äº›ç»†èŠ‚ã€‚å°±ç±»ä¼¼ä¸€ç§æ¶ˆæ¯é€šçŸ¥ï¼Œæˆ‘ä¸å…³å¿ƒåç»­æ˜¯ä»€ä¹ˆæ“ä½œï¼Œåªå°†è‡ªå·±çš„ä¸€äº›çŠ¶æ€ä¼ é€’è¿‡å»ã€‚</p>
<p>æˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹CAPä¸­çš„EventBusï¼Œä¸»è¦ç‰¹ç‚¹æ˜¯å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œå†…éƒ¨ä½¿ç”¨RabbitMQå®ç°å¼‚æ„ç³»ç»Ÿçš„æ¶ˆæ¯åŒæ­¥ï¼Œé€šè¿‡æœ¬åœ°æ¶ˆæ¯è¡¨å¯¹ä¿¡æ¯æŒä¹…åŒ–ï¼Œä¿è¯ç”±EventBuså‘å‡ºçš„æ¶ˆæ¯æ˜¯å¯é çš„ï¼Œå³é«˜å¯ç”¨ã€‚</p>
<p>å¦‚æœç³»ç»Ÿå¯åŠ¨ååœ¨log/log200xxx.txtæ—¥å¿—é”™è¯¯åŸå› ï¼ŒRabbitMQ</p>
<div class="language-txt line-numbers-mode" data-highlighter="shiki" data-ext="txt" data-title="txt" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>DotNetCore.CAP.BrokerConnectionException: Broker Unreachable</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div>]]></content:encoded>
      <enclosure url="https://note.youdao.com/yws/api/personal/file/7FA20220D5454DF9B0788B33E3A41FED?method=download&amp;shareKey=c2e5f279b574304e3bd777a75a4e3045" type="image/"/>
    </item>
    <item>
      <title>ç›¸å…³æŠ€æœ¯</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/technology.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/technology.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">ç›¸å…³æŠ€æœ¯</source>
      <description>ç›¸å…³æŠ€æœ¯ æ•°æ®åº“ç›¸å…³ï¼šORM:FreeSql+DataBase:MySQL5.6 ASP.NET Core3.1+WebAPI+RESTful ç®€åŒ–å¯¹è±¡æ˜ å°„ï¼šAutoMapper èº«ä»½è®¤è¯æ¡†æ¶ï¼šIdentityServer4 Json Web ä»¤ç‰Œ:JWT æ–‡æ¡£ APIï¼šSwagger(Swashbuckle.AspNetCore) åºåˆ—åŒ–ï¼šNewto...</description>
      <pubDate>Fri, 08 May 2020 05:46:31 GMT</pubDate>
      <content:encoded><![CDATA[
<ul>
<li>æ•°æ®åº“ç›¸å…³ï¼šORM:<a href="https://github.com/dotnetcore/FreeSql" target="_blank" rel="noopener noreferrer">FreeSql</a>+DataBase:MySQL5.6</li>
<li><a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Core3.1+WebAPI+RESTful</li>
<li>ç®€åŒ–å¯¹è±¡æ˜ å°„ï¼š<a href="https://automapper.org/" target="_blank" rel="noopener noreferrer">AutoMapper</a></li>
<li>èº«ä»½è®¤è¯æ¡†æ¶ï¼š<a href="https://github.com/IdentityServer/IdentityServer4" target="_blank" rel="noopener noreferrer">IdentityServer4</a></li>
<li>Json Web ä»¤ç‰Œ:JWT</li>
<li>æ–‡æ¡£ APIï¼šSwagger(<a href="https://github.com/domaindrivendev/Swashbuckle.AspNetCore" target="_blank" rel="noopener noreferrer">Swashbuckle.AspNetCore</a>)</li>
<li>åºåˆ—åŒ–ï¼šNewtonsoft.Json</li>
<li>æµ‹è¯•æ¡†æ¶ï¼šXunit</li>
<li>æ—¥å¿— NLog</li>
<li>ä¾èµ–æ³¨å…¥æœåŠ¡<a href="https://github.com/autofac/Autofac.Extensions.DependencyInjection" target="_blank" rel="noopener noreferrer">AutoFac</a></li>
<li>é€šç”¨æ‰©å±•æ–¹æ³• Z.ExtensionMethods</li>
<li>äº‘å­˜å‚¨ï¼šä¸ƒç‰›äº‘ <a href="https://github.com/Hello-Mango/MQiniu.Core" target="_blank" rel="noopener noreferrer">MQiniu.Core</a></li>
<li>åˆ†å¸ƒå¼äº‹åŠ¡ã€EventBusï¼š<a href="https://github.com/dotnetcore/CAP" target="_blank" rel="noopener noreferrer">DotNeteCore.CAP</a></li>
<li>GitHub ç¬¬ä¸‰æ–¹æˆæƒç™»å½•<a href="https://github.com/aspnet-contrib/AspNet.Security.OAuth.Providers" target="_blank" rel="noopener noreferrer">AspNet.Security.OAuth.GitHub</a></li>
<li>QQ ç¬¬ä¸‰æ–¹æˆæƒç™»å½•<a href="https://github.com/aspnet-contrib/AspNet.Security.OAuth.Providers" target="_blank" rel="noopener noreferrer">AspNet.Security.OAuth.QQ</a></li>
<li><a href="https://docs.docker.com/" target="_blank" rel="noopener noreferrer">Docker</a></li>
<li><a href="https://dev.azure.com/" target="_blank" rel="noopener noreferrer">Azure DevOps</a></li>
<li>å¥åº·æ£€æŸ¥<a href="https://github.com/xabaril/AspNetCore.Diagnostics.HealthChecks" target="_blank" rel="noopener noreferrer">AspNetCore.HealthChecks.UI.Client</a></li>
<li><a href="https://help.github.com/en/actions" target="_blank" rel="noopener noreferrer">GitHub Action</a></li>
</ul>
<h2>å®è·µ</h2>
<ul>
<li>DDD(Domain-Driven Design)é¢†åŸŸé©±åŠ¨è®¾è®¡</li>
<li>Loggingï¼ˆæ—¥å¿—ï¼‰</li>
<li>DevOps(CI/CD,è‡ªåŠ¨åŒ–æ„å»º)</li>
<li>Database Migrationsï¼ˆæ•°æ®åº“è‡ªåŠ¨è¿ç§»)</li>
<li>Authentication(èº«ä»½è®¤è¯)</li>
<li>Authorizationï¼ˆæˆæƒï¼‰</li>
<li>Separation of Concernsï¼ˆå…³æ³¨ç‚¹åˆ†ç¦»ï¼‰</li>
<li>Repository Patternï¼ˆä»“å‚¨æ¨¡å¼ï¼‰</li>
<li>SOLID Principlesï¼ˆå•ä¸€èŒè´£ï¼‰</li>
<li>Clean Codeï¼ˆä»£ç æ•´æ´ä¹‹é“ï¼‰</li>
</ul>
<h2>åˆ†å±‚ç»“æ„ï¼ˆLayersï¼‰</h2>
<ul>
<li>identityserver4
<ul>
<li>LinCms.IdentityServer4:ä½¿ç”¨ id4 æˆæƒç™»å½•</li>
</ul>
</li>
<li>src
<ul>
<li><a href="http://LinCms.Web" target="_blank" rel="noopener noreferrer">LinCms.Web</a>ï¼šæ¥å£ APIï¼ˆ<a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Core)</li>
<li>LinCms.Application:åº”ç”¨æœåŠ¡</li>
<li>LinCms.Application.Contracts:DTO,æ•°æ®ä¼ è¾“å¯¹è±¡ï¼Œåº”ç”¨æœåŠ¡æ¥å£</li>
<li>LinCms.Infrastructure:åŸºç¡€è®¾æ–½ï¼Œæ•°æ®åº“æŒä¹…æ€§çš„æ“ä½œ</li>
<li>LinCms.Core:è¯¥åº”ç”¨çš„æ ¸å¿ƒï¼Œå®ä½“ç±»ï¼Œé€šç”¨æ“ä½œç±»ï¼ŒAOP æ‰©å±•ï¼Œåˆ†é¡µå¯¹è±¡ï¼ŒåŸºç¡€ä¾èµ–å¯¹è±¡æ¥å£ï¼Œæ—¶é—´æ‰©å±•æ–¹æ³•ï¼Œå½“å‰ç”¨æˆ·ä¿¡æ¯ï¼Œå¼‚å¸¸ç±»ï¼Œå€¼å¯¹è±¡</li>
<li>LinCms.Plugins ä½¿ç”¨å•é¡¹ç›®å®ç°æŸä¸ªä¸šåŠ¡çš„æ‰©å±•ï¼Œä¸éœ€è¦ä¸»è¦é¡¹ç›®ç»“æ„ï¼Œå¯æš‚æ—¶å¿½ç•¥ã€‚</li>
</ul>
</li>
<li>test
<ul>
<li>LinCms.Test:å¯¹ä»“å‚¨ï¼Œåº”ç”¨æœåŠ¡æˆ–å·¥å…·ç±»è¿›è¡Œæµ‹è¯•</li>
</ul>
</li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>About</title>
      <link>https://igeekfan.cn/igeekfan-docs/about/</link>
      <guid>https://igeekfan.cn/igeekfan-docs/about/</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">About</source>
      <description>About æ¬¢è¿ ğŸ‘‹ ä½ å¥½ï¼Œæˆ‘æ˜¯ IGeekFan ï¼Œæˆ‘ä¼šå†™c#ï¼Œä¼šå†™ä¸€ç‚¹ç‚¹javascriptã€‚ æ¨èé¡¹ç›® è”ç³»æˆ‘ ğŸ’¬ https://github.com/luoyunchong https://www.cnblogs.com/igeekfan luoyunchong@foxmail.com Anurag&amp;apos;s github stats Most...</description>
      <pubDate>Fri, 28 Feb 2020 11:10:31 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>æ¬¢è¿</h2>
<p>ğŸ‘‹ ä½ å¥½ï¼Œæˆ‘æ˜¯ <code>IGeekFan</code> ï¼Œæˆ‘ä¼šå†™<code>c#</code>ï¼Œä¼šå†™ä¸€ç‚¹ç‚¹<code>javascript</code>ã€‚</p>
<p><img src="https://img.shields.io/badge/OS-Win11-informational?style=flat&amp;logo=<LOGO_NAME>&amp;logoColor=white&amp;color=2bbc8a" alt=""><br>
<img src="https://img.shields.io/badge/OS-MAC-informational?style=flat&amp;logo=<LOGO_NAME>&amp;logoColor=white&amp;color=fff5e8" alt=""><br>
<img src="https://img.shields.io/badge/Editor-VisualStudio2022-informational?style=flat&amp;logo=<LOGO_NAME>&amp;logoColor=white&amp;color=80ccff" alt=""><br>
<img src="https://img.shields.io/badge/Editor-VisualStudioCode-informational?style=flat&amp;logo=<LOGO_NAME>&amp;logoColor=white&amp;color=424a53" alt=""><br>
<img src="https://img.shields.io/badge/Editor-VisualStudioForMAC-informational?style=flat&amp;logo=<LOGO_NAME>&amp;logoColor=white&amp;color=80ccff" alt=""><br>
<img src="https://img.shields.io/badge/Code-Csharp-informational?style=flat&amp;logo=<LOGO_NAME>&amp;logoColor=white&amp;color=FD8C73" alt=""><br>
<img src="https://img.shields.io/badge/Code-JavaScript-informational?style=flat&amp;logo=<LOGO_NAME>&amp;logoColor=white&amp;color=0969da" alt=""><br>
<img src="https://img.shields.io/badge/Code-Vue-informational?style=flat&amp;logo=<LOGO_NAME>&amp;logoColor=white&amp;color=b6e3ff" alt=""><br>
<img src="https://img.shields.io/badge/Code-Python-informational?style=flat&amp;logo=<LOGO_NAME>&amp;logoColor=white&amp;color=2bbc8a" alt=""><br>
<img src="https://img.shields.io/badge/Code-Go-informational?style=flat&amp;logo=<LOGO_NAME>&amp;logoColor=white&amp;color=80ccff" alt=""><br>
<img src="https://img.shields.io/badge/Tools-Docker-informational?style=flat&amp;logo=<LOGO_NAME>&amp;logoColor=white&amp;color=eac54f" alt=""><br>
<img src="https://img.shields.io/badge/Tools-AzureDevops-informational?style=flat&amp;logo=<LOGO_NAME>&amp;logoColor=white&amp;color=ffddb0" alt=""><br>
<img src="https://img.shields.io/badge/Shell-PowerShell-informational?style=flat&amp;logo=<LOGO_NAME>&amp;logoColor=white&amp;color=f79939" alt=""><br>
<img src="https://img.shields.io/badge/FrameWork-ASPNETCore-informational?style=flat&amp;logo=<LOGO_NAME>&amp;logoColor=white&amp;color=d8b9ff" alt=""><br>
<img src="https://img.shields.io/badge/FrameWork-ABP-informational?style=flat&amp;logo=<LOGO_NAME>&amp;logoColor=white&amp;color=ffadda" alt=""></p>
<h2>æ¨èé¡¹ç›®</h2>
<a href="https://github.com/luoyunchong/freekit">
  <img align="center" src="https://github-readme-stats.vercel.app/api/pin/?username=luoyunchong&amp;repo=freekit&amp;title_color=fff&amp;icon_color=f9f9f9&amp;text_color=9f9f9f&amp;bg_color=151515">
</a>
<a href="https://github.com/luoyunchong/igeekfan-docs">
  <img align="center" src="https://github-readme-stats.vercel.app/api/pin/?username=luoyunchong&amp;repo=igeekfan-docs&amp;title_color=fff&amp;icon_color=f9f9f9&amp;text_color=9f9f9f&amp;bg_color=151515">
</a>
<h2>è”ç³»æˆ‘ ğŸ’¬</h2>
<ul>
<li><a href="https://github.com/luoyunchong" target="_blank" rel="noopener noreferrer">https://github.com/luoyunchong</a></li>
<li><a href="https://www.cnblogs.com/igeekfan" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/igeekfan</a></li>
<li><a href="mailto:luoyunchong@foxmail.com" target="_blank" rel="noopener noreferrer">luoyunchong@foxmail.com</a></li>
</ul>
<p><img src="https://github-readme-stats.vercel.app/api?username=luoyunchong&amp;show_icons=true&amp;theme=radical" alt="Anurag's github stats"><br>
<img src="https://github-readme-stats.vercel.app/api/top-langs/?username=luoyunchong&amp;theme=dark&amp;layout=compact" alt="Most Used Languages"></p>
]]></content:encoded>
      <enclosure url="https://img.shields.io/badge/OS-Win11-informational?style=flat&amp;logo=&lt;LOGO_NAME&gt;&amp;logoColor=white&amp;color=2bbc8a" type="image/"/>
    </item>
    <item>
      <title>ColorUI</title>
      <link>https://igeekfan.cn/igeekfan-docs/colorui/docs/</link>
      <guid>https://igeekfan.cn/igeekfan-docs/colorui/docs/</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">ColorUI</source>
      <description>ColorUI github https://github.com/weilanwl/ColorUI ç‰¹ç‚¹ * è¿™æ˜¯ä¸€ä¸ªcssåº“ï¼Œç›¸æ¯”å…¶ä»–vant-weappã€mpvueéƒ½æ˜¯ä¸ä¸€æ ·çš„,éç»„ä»¶åŒ–ï¼Œä¸»è¦å®šä½æˆ‘è§‰å¾—æ˜¯ç¾åŒ–ä¸»é¢˜ï¼Œéç»„ä»¶åŒ–ï¼Œæ”¯æŒuni-appã€mpvueï¼Œå¯ç»“åˆvant-weappä¸€èµ·ä½¿ç”¨ã€‚ è¯¥æ–‡æ¡£ä½œç”¨ å¾ˆç®€å•ï¼Œå®˜æ–¹è¿˜æ²¡å‡ºæ–‡æ¡£ï¼Œä½¿ç”¨èµ·æ¥ï¼Œéœ€è¦å¼€å‘...</description>
      <pubDate>Fri, 28 Feb 2020 11:10:31 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>github</h2>
<ul>
<li><a href="https://github.com/weilanwl/ColorUI" target="_blank" rel="noopener noreferrer">https://github.com/weilanwl/ColorUI</a></li>
</ul>
<h2>ç‰¹ç‚¹</h2>
<p>*ã€€è¿™æ˜¯ä¸€ä¸ªcssåº“ï¼Œç›¸æ¯”å…¶ä»–vant-weappã€mpvueéƒ½æ˜¯ä¸ä¸€æ ·çš„,éç»„ä»¶åŒ–ï¼Œä¸»è¦å®šä½æˆ‘è§‰å¾—æ˜¯ç¾åŒ–ä¸»é¢˜ï¼Œéç»„ä»¶åŒ–ï¼Œæ”¯æŒuni-appã€mpvueï¼Œå¯ç»“åˆvant-weappä¸€èµ·ä½¿ç”¨ã€‚</p>
<h2>è¯¥æ–‡æ¡£ä½œç”¨</h2>
<p>å¾ˆç®€å•ï¼Œå®˜æ–¹è¿˜æ²¡å‡ºæ–‡æ¡£ï¼Œä½¿ç”¨èµ·æ¥ï¼Œéœ€è¦å¼€å‘è€…è‡ªè¡Œå»çœ‹main.cssï¼Œæ‰“å¼€æ‰‹æœºçœ‹å°ç¨‹åºçš„demo,ç„¶åå†å»æ‰¾é¡¹ç›®æºç ï¼Œæˆ‘è§‰å¾—å¤ªéº»çƒ¦ï¼Œä¸çŸ¥é“å…¶ä»–äººçš„æ„Ÿå—å¦‚ä½•ã€‚</p>
]]></content:encoded>
    </item>
    <item>
      <title>Button æŒ‰é’®</title>
      <link>https://igeekfan.cn/igeekfan-docs/colorui/docs/button.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/colorui/docs/button.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">Button æŒ‰é’®</source>
      <description>Button æŒ‰é’®</description>
      <pubDate>Fri, 28 Feb 2020 11:10:31 GMT</pubDate>
      <content:encoded><![CDATA[
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>&lt;button class="cu-btn"&gt;é»˜è®¤&lt;/button&gt;</span></span>
<span class="line"><span>&lt;button class="cu-btn round"&gt;åœ†è§’&lt;/button&gt;</span></span>
<span class="line"><span>&lt;button class="cu-btn icon"&gt;</span></span>
<span class="line"><span>	&lt;text class="cuIcon-emojifill"&gt;&lt;/text&gt;</span></span>
<span class="line"><span>&lt;/button&gt;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>.cu-btn </span></span>
<span class="line"><span>.cu-btn::after</span></span>
<span class="line"><span>.cu-btn:not([class*="bg-"]) </span></span>
<span class="line"><span>.cu-btn[class*="line"] </span></span>
<span class="line"><span>.cu-btn[class*="line"]::after</span></span>
<span class="line"><span>.cu-btn.round[class*="line"]::after </span></span>
<span class="line"><span>.cu-btn[class*="lines"]::after </span></span>
<span class="line"><span>.cu-btn[class*="bg-"]::after </span></span>
<span class="line"><span>.cu-btn.sm </span></span>
<span class="line"><span>.cu-btn.lg </span></span>
<span class="line"><span>.cu-btn.cuIcon.sm </span></span>
<span class="line"><span>.cu-btn.cuIcon </span></span>
<span class="line"><span>button.cuIcon.lg </span></span>
<span class="line"><span>.cu-btn.shadow-blur::before </span></span>
<span class="line"><span>.cu-btn.button-hover </span></span>
<span class="line"><span>.block </span></span>
<span class="line"><span>.cu-btn.block </span></span>
<span class="line"><span>.cu-btn[disabled]</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>.cu-bar.btn-group</span></span>
<span class="line"><span>.cu-bar.btn-group button</span></span>
<span class="line"><span>.cu-bar.btn-group button</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>Text æ–‡æœ¬</title>
      <link>https://igeekfan.cn/igeekfan-docs/colorui/docs/text.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/colorui/docs/text.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">Text æ–‡æœ¬</source>
      <description>Text æ–‡æœ¬</description>
      <pubDate>Fri, 28 Feb 2020 11:10:31 GMT</pubDate>
      <content:encoded><![CDATA[
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>.text-xs </span></span>
<span class="line"><span>.text-sm </span></span>
<span class="line"><span>.text-df </span></span>
<span class="line"><span>.text-lg </span></span>
<span class="line"><span>.text-xl </span></span>
<span class="line"><span>.text-xxl </span></span>
<span class="line"><span>.text-sl </span></span>
<span class="line"><span>.text-xsl </span></span>
<span class="line"><span>.text-Abc </span></span>
<span class="line"><span>.text-ABC </span></span>
<span class="line"><span>.text-abc </span></span>
<span class="line"><span>.text-price::before </span></span>
<span class="line"><span>.text-cut </span></span>
<span class="line"><span>.text-bold </span></span>
<span class="line"><span>.text-center </span></span>
<span class="line"><span>.text-content </span></span>
<span class="line"><span>.text-left </span></span>
<span class="line"><span>.text-right</span></span>
<span class="line"><span>.text-red</span></span>
<span class="line"><span>.line-red</span></span>
<span class="line"><span>.lines-red </span></span>
<span class="line"><span>.text-orange</span></span>
<span class="line"><span>.line-orange</span></span>
<span class="line"><span>.lines-orange</span></span>
<span class="line"><span>.text-yellow</span></span>
<span class="line"><span>.line-yellow</span></span>
<span class="line"><span>.lines-yellow </span></span>
<span class="line"><span>.text-olive</span></span>
<span class="line"><span>.line-olive</span></span>
<span class="line"><span>.lines-olive</span></span>
<span class="line"><span>.text-green</span></span>
<span class="line"><span>.line-green</span></span>
<span class="line"><span>.lines-green </span></span>
<span class="line"><span>.text-cyan</span></span>
<span class="line"><span>.line-cyan</span></span>
<span class="line"><span>.lines-cyan </span></span>
<span class="line"><span>.text-blue</span></span>
<span class="line"><span>.line-blue</span></span>
<span class="line"><span>.lines-blue </span></span>
<span class="line"><span>.text-purple</span></span>
<span class="line"><span>.line-purple</span></span>
<span class="line"><span>.lines-purple </span></span>
<span class="line"><span>.text-mauve</span></span>
<span class="line"><span>.line-mauve</span></span>
<span class="line"><span>.lines-mauve </span></span>
<span class="line"><span>.text-pink</span></span>
<span class="line"><span>.line-pink</span></span>
<span class="line"><span>.lines-pink </span></span>
<span class="line"><span>.text-brown</span></span>
<span class="line"><span>.line-brown</span></span>
<span class="line"><span>.lines-brown</span></span>
<span class="line"><span>.text-grey</span></span>
<span class="line"><span>.line-grey</span></span>
<span class="line"><span>.lines-grey </span></span>
<span class="line"><span>.text-gray</span></span>
<span class="line"><span>.line-gray</span></span>
<span class="line"><span>.lines-gray</span></span>
<span class="line"><span>.text-black</span></span>
<span class="line"><span>.line-black</span></span>
<span class="line"><span>.lines-black </span></span>
<span class="line"><span>.text-white</span></span>
<span class="line"><span>.line-white</span></span>
<span class="line"><span>.lines-white</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>RESTful+FreeSql+AutoMapper</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/examples/FreeSql-sample-blog-RESTful-use-automapper.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/examples/FreeSql-sample-blog-RESTful-use-automapper.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">RESTful+FreeSql+AutoMapper</source>
      <description>RESTful+FreeSql+AutoMapper æ–‡ç« æ¦‚è¿° æœ¬æ–‡ä½¿ç”¨ASP .NET Coreçš„WEB APIï¼Œæ„å»ºä¸€ä¸ªRESTfulé£æ ¼çš„æ¥å£ï¼Œä½¿ç”¨Freesqlè®¿é—®MySQLæ•°æ®åº“ï¼Œå®ç°äºŒä¸ªè¡¨çš„ç®€å•åšå®¢ï¼Œå¹¶é›†æˆAutoMapperã€‚ æ¥ä¸Šä¸€ç¯‡ FreeSqlåœ¨ASP.NTE Core WebApiä¸­å¦‚ä½•ä½¿ç”¨çš„æ•™ç¨‹ é¡¹ç›®æºç  https://gi...</description>
      <pubDate>Fri, 28 Feb 2020 11:10:31 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>æ–‡ç« æ¦‚è¿°</h2>
<p>æœ¬æ–‡ä½¿ç”¨ASP .NET Coreçš„WEB APIï¼Œæ„å»ºä¸€ä¸ªRESTfulé£æ ¼çš„æ¥å£ï¼Œä½¿ç”¨Freesqlè®¿é—®MySQLæ•°æ®åº“ï¼Œå®ç°äºŒä¸ªè¡¨çš„ç®€å•åšå®¢ï¼Œå¹¶é›†æˆAutoMapperã€‚</p>
<p>æ¥ä¸Šä¸€ç¯‡</p>
<ul>
<li>
<p><a href="http://blog.igeekfan.cn/2019/06/30/re-start/FreeSql-aspnetcore-how-to-use/" target="_blank" rel="noopener noreferrer">FreeSqlåœ¨ASP.NTE Core WebApiä¸­å¦‚ä½•ä½¿ç”¨çš„æ•™ç¨‹</a></p>
</li>
<li>
<p>é¡¹ç›®æºç  <a href="https://github.com/luoyunchong/dotnetcore-examples/tree/master/aspnetcore-freesql" target="_blank" rel="noopener noreferrer">https://github.com/luoyunchong/dotnetcore-examples/tree/master/aspnetcore-freesql</a></p>
</li>
</ul>
<!-- more -->
<h2>Dtoä½œç”¨</h2>
<p>å½“æˆ‘ä»¬ä½¿ç”¨RESTfulæä¾›æ¥å£æ—¶ï¼Œæ¯”å¦‚åˆ›å»ºä¸€ä¸ªåšå®¢ï¼Œä¿®æ”¹ä¸€ä¸‹åšå®¢å†…å®¹æ—¶ï¼Œä»–ä»¬çš„å‚æ•°æ˜¯æœ‰åŒºåˆ«çš„ã€‚è‰¯å¥½çš„è®¾è®¡åº”è¯¥æ˜¯</p>
<p>åˆ›å»ºä¸€ä¸ªåšå®¢</p>
<div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">POST /api/blog</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">data:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "title"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"string"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "content"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"string"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¿®æ”¹ä¸€ä¸ªåšå®¢å†…å®¹</p>
<div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">PUT /api/blog</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">data:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "blogId"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"int"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "title"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"string"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "content"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"string"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½†ä¸€ä¸ªblog å®ä½“å¦‚ä¸‹</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Blog</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Column</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF">IsIdentity</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF">IsPrimary</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> BlogId</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> Title</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> Content</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> DateTime</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> CreateTime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> virtual</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> List</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF">Posts</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæˆ‘ä»¬ä»¥Blogä½œä¸ºcontrollersä¸­çš„å‚æ•°æ—¶</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">       // POST api/blog</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpPost</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">([</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FromBody</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CreateTime</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">DateTime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Now</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Insert</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ExecuteAffrows</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ—¶ä¿®æ”¹swaggeræ˜¾ç¤ºçš„é»˜è®¤å‚æ•°æ˜¯</p>
<div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "blogId"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "title"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"string"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "content"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"string"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "createTime"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"2019-06-30T07:33:05.524Z"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "posts"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">      "postId"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">      "replyContent"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"string"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">      "blogId"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">      "replyTime"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"2019-06-30T07:33:05.524Z"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæˆ‘ä»¬ä¸ä¼ é€’createTimeï¼Œä¼šå‡ºç°å¼‚å¸¸ï¼Œåº”è¯¥createTimeæ˜¯DateTimeï¼Œä¸èƒ½ä¸ºnullï¼Œåªæœ‰DateTime?æ‰èƒ½ä¸ºnull,æœ‰?ä¸ºå¯ç©ºç±»å‹ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬åº”è¯¥ä¸ºPOSTæ–¹å¼ä¼ é€’è¿‡æ¥æ—¶ï¼Œæ–°å»ºä¸€ä¸ªå®ä½“ç±»ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºDTO(Data Transfer Object)ï¼Œå³æ•°æ®ä¼ è¾“å¯¹è±¡ï¼Œå› ä¸ºcreateTimeå³ä½¿ä¼ é€’ï¼Œåç«¯ä¸ºä»–èµ‹äº†å€¼ï¼Œå‰å°ä¼ äº†ä¹Ÿæ— æ•ˆã€‚æœ‰äº†DTOï¼Œè¿™æ ·å¯è®©å‰ç«¯æ¸…æ¥šä»–ä»¬åº”è¯¥ä¼ é€’çš„å‚æ•°ï¼Œè€Œä¸ä¼šå‡ºç°æ²¡æœ‰ä½œç”¨çš„å‚æ•°ã€‚</p>
<p>åœ¨æ ¹ç›®å½•åˆ›å»ºModels/Blogsæ–‡ä»¶å¤¹ï¼Œåœ¨Blogsæ–‡ä»¶å¤¹ä¸­åˆ›å»º</p>
<h3>CreateBlogDto.cs</h3>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Models</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blogs</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> CreateBlogDto</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> Title</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> Content</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>UpdateBlogDto.cs</h3>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Models</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blogs</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> UpdateBlogDto</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> BlogId</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> Title</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> Content</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æœ‰äº†Dtoåï¼Œæˆ‘ä»¬ä¼šå‘ç°äº†æ–°çš„é—®é¢˜ï¼Œå¾€æ•°æ®åº“æ’å…¥æ—¶ï¼Œå¾€å¾€ä½¿ç”¨äº†ä¸€äº›ORM,ä»–ä»¬åªæ”¯æŒåŸæœ¬çš„å®ä½“ç±»ï¼Œå¦‚Blogï¼ŒPostã€‚ä½†ä¸æ”¯æŒCreateBlogDtoã€UpdateBlogDto,æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨ï¼Œå°†ä¸€ä¸ªç±»çš„å€¼ï¼Œèµ‹å€¼ç»™å¦ä¸€ä¸ªç±»ã€‚<br>
å¦‚</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">    CreateBlogDto</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> createBlogDto</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> CreateBlogDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">        Title</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "æˆ‘æ˜¯title"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">        Content</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "æˆ‘æ˜¯content"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">    Blog</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> newBlog</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">        Title</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> createBlogDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Title</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">        Content</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> createBlogDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Content</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    };</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç°åœ¨åªæ˜¯éå¸¸ç®€å•çš„äºŒä¸ªå±æ€§ï¼Œæˆ‘ä»¬è¿˜èƒ½å¿å—ï¼Œä½†å¦‚æœæ˜¯åä¸ªå±æ€§ã€è€Œä¸”æœ‰ç€å¤§é‡çš„ç±»ä¸ç±»ä¹‹é—´çš„è½¬æ¢å‘¢ã€‚è¿™æ—¶ä¿®æ”¹AutoMapperå°±é—ªäº®ç™»åœºäº†ã€‚</p>
<h2>AutoMapper</h2>
<blockquote>
<p>ä½œç”¨ï¼šA convention-based object-object mapper.</p>
</blockquote>
<p>æˆ‘ä»¬æ˜¯åœ¨ASP .NET Coreä¸‹ä½¿ç”¨AutoMapper <a href="https://automapper.readthedocs.io/en/latest/Dependency-injection.html" target="_blank" rel="noopener noreferrer">å®˜ç½‘ä»‹ç»ï¼Œå¦‚ä½•ä¾èµ–æ³¨å…¥ä¸­ä½¿ç”¨</a></p>
<h3>Setup</h3>
<p>å…ˆcdåˆ°dotnetcore-examples\aspnetcore-freesql\RESTful.FreeSqlç›®å½•</p>
<div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" data-title="powershell" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">PS </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> dotnet add package AutoMapper</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">PS </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> dotnet add package AutoMapper.Extensions.Microsoft.DependencyInjection </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">--</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">version </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">6.1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">1</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨StartUp.csä¸­çš„ConfigureServicesé…ç½®å¦‚ä¸‹</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>   public void ConfigureServices(IServiceCollection services)</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        // .... Ignore code before this</span></span>
<span class="line"><span>        </span></span>
<span class="line"><span>        //AddAutoMapperä¼šå»æ‰¾ç»§æ‰¿Profileçš„ç±»ï¼Œ</span></span>
<span class="line"><span>        services.AddAutoMapper(AppDomain.CurrentDomain.GetAssemblies());</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        // .... Ignore code after this</span></span>
<span class="line"><span>    }</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>Adding Profiles</h3>
<p>AutoMapper/BlogProfile.cs</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> AutoMapper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Domain</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Models</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blogs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AutoMapper</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> BlogProfile</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Profile</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> BlogProfile</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">() </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">            CreateMap</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">CreateBlogDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">            CreateMap</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">UpdateBlogDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>AutoMapper/BlogProfile.cs</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> AutoMapper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Domain</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Models</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blogs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AutoMapper</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> PostProfile</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Profile</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> PostProfile</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">            CreateMap</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">CreatePostDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Models/Posts/SearchPostDto.csæ ¹æ®åšå®¢idï¼Œå¾—åˆ°åˆ†é¡µçš„è¯„è®ºæ—¶ï¼Œé›†æˆåˆ†é¡µç±»</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Web</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Models</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Posts</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> SearchPostDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">PageDto</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> BlogId</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Controlers/BlogController.csæ–‡ä»¶ä¸­ï¼Œæ³¨å…¥IMapper,</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> AutoMapper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Microsoft</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AspNetCore</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Mvc</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> System</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> System</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Collections</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Generic</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Domain</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Models</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blogs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Web</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Controllers</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Route</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"api/[controller]"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ApiController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> BlogController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ControllerBase</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // GET api/Blog</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        private</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> readonly</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IFreeSql</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        private</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> readonly</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IMapper</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> _mapper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> BlogController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IFreeSql</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IMapper</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> mapper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">            _fsql</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">            _mapper</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> mapper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// åšå®¢åˆ—è¡¨é¡µ </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic"> name</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">=</span><span style="--shiki-light:#032F62;--shiki-light-font-style:inherit;--shiki-dark:#98C379;--shiki-dark-font-style:italic">"pageDto"</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">åˆ†é¡µå‚æ•°</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">returns</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">returns</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpGet</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> ActionResult</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">PagedResultDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">([</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FromQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">PageDto</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> pageDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">            List</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">blogs</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">OrderByDescending</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">r</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> r</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CreateTime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Page</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">pageDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">PageNumber</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">pageDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">PageSize</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToList</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            long</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> count</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Count</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            return</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> PagedResultDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">count</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">blogs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // GET api/blog/5</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpGet</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"{id}"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> ActionResult</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            // eg.1 return _fsql.Select&lt;Blog&gt;().Where(a =&gt; a.Id == id).ToOne();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            // eg.2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToOne</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // POST api/blog</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpPost</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">([</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FromBody</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">CreateBlogDto</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> createBlogDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">            Blog</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> blog</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _mapper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Map</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">createBlogDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CreateTime</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> DateTime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Now</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Insert</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ExecuteAffrows</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // PUT api/blog</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpPut</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Put</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">([</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FromBody</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">UpdateBlogDto</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> updateBlogDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            //eg.1 æ›´æ–°æŒ‡å®šåˆ—</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            //_fsql.Update&lt;Blog&gt;(updateBlogDto.BlogId).Set(a =&gt; new Blog()</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            //{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            //    Title = updateBlogDto.Title,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            //    Content = updateBlogDto.Content</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            //}).ExecuteAffrows();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            //eg.2å°†è¿™ä¸ªå®ä½“æ›´æ–°åˆ°æ•°æ®åº“ä¸­ã€‚å½“æ›´æ–°æ—¶ï¼Œä¼šæŠŠå…¶ä»–åˆ—çš„å€¼ï¼Œå¦‚CreateTimeä¹Ÿæ›´æ–°æ‰ã€‚</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            //ä½¿ç”¨IgnoreColumnså¯å¿½ç•¥æŸä¸€äº›åˆ—ã€‚</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">            Blog</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> blog</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _mapper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Map</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">updateBlogDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Update</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">SetSource</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">IgnoreColumns</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">r</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> r</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CreateTime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ExecuteAffrows</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // DELETE api/blog/5</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpDelete</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"{id}"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Delete</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Delete</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">new</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">BlogId</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> }).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ExecuteAffrows</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Controlers/BlogController.csæ–‡ä»¶ä¸­ï¼Œæ³¨å…¥IMapper,</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Microsoft</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AspNetCore</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Mvc</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> System</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> System</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Collections</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Generic</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> System</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Threading</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Tasks</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> AutoMapper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Domain</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Models</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Posts</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Web</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Controllers</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Route</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"api/[controller]"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ApiController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> PostController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ControllerBase</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // GET: api/Post</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        private</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> readonly</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IFreeSql</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        private</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> readonly</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IMapper</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> _mapper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> PostController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IFreeSql</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IMapper</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> mapper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">            _fsql</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">            _mapper</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> mapper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// æ ¹æ®åšå®¢idã€åˆ†é¡µæ¡ä»¶æŸ¥è¯¢è¯„è®ºä¿¡æ¯</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic"> name</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">=</span><span style="--shiki-light:#032F62;--shiki-light-font-style:inherit;--shiki-dark:#98C379;--shiki-dark-font-style:italic">"searchPostDto"</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">returns</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">returns</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpGet</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> PagedResultDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">SearchPostDto</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> searchPostDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">            ISelect</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">selectPost</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> _fsql</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Where</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">r</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> r</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">BlogId</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> ==</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> searchPostDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">BlogId</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">            List</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">posts</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> selectPost</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">OrderByDescending</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">r</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> r</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">ReplyTime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Page</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">searchPostDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">PageNumber</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">searchPostDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">PageSize</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToList</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            long</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> total</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> selectPost</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Count</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            return</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> PagedResultDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">total</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">posts</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // GET: api/Post/5</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpGet</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"{id}"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF">Name</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "Get"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Post</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Where</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">a</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">PostId</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> ==</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToOne</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // POST: api/Post</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpPost</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">([</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FromBody</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">CreatePostDto</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> createPostDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">            Post</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> post</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _mapper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Map</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">createPostDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">ReplyTime</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> DateTime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Now</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Insert</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ExecuteAffrows</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // DELETE: api/Post/</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpDelete</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"{id}"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Task</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> DeleteAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">            await</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Delete</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">PostId</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> }).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ExecuteAffrowsAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>å‚è€ƒ</h3>
<ul>
<li>å»ºè®®å¤§å®¶å…ˆçœ‹å®˜ç½‘ <a href="http://automapper.org/" target="_blank" rel="noopener noreferrer">http://automapper.org/</a></li>
<li>å¼€æºåœ°å€ <a href="https://github.com/AutoMapper/AutoMapper" target="_blank" rel="noopener noreferrer">https://github.com/AutoMapper/AutoMapper</a></li>
<li>Getting-started æ–‡æ¡£ <a href="https://automapper.readthedocs.io/en/latest/Getting-started.html#what-is-automapper" target="_blank" rel="noopener noreferrer">https://automapper.readthedocs.io/en/latest/Getting-started.html#what-is-automapper</a></li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>IdentityServer4</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/examples/IdentityServer4.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/examples/IdentityServer4.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">IdentityServer4</source>
      <description>IdentityServer4 å†™çš„ä¸€äº›IdentityServer4çš„ç¤ºä¾‹ IdentityServer4 å®ç°å•ç‚¹ç™»å½•æˆæƒtokenéªŒè¯ æºç  ä»£ç æ‰˜ç®¡åœ¨GitHubä¸Š https://github.com/luoyunchong/dotnetcore-examples/tree/master/aspnetcore-identityserver4 ...</description>
      <pubDate>Fri, 28 Feb 2020 11:10:31 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>å†™çš„ä¸€äº›IdentityServer4çš„ç¤ºä¾‹</h2>
<p>IdentityServer4 å®ç°å•ç‚¹ç™»å½•æˆæƒtokenéªŒè¯</p>
<h2>æºç </h2>
<p>ä»£ç æ‰˜ç®¡åœ¨GitHubä¸Š <a href="https://github.com/luoyunchong/dotnetcore-examples/tree/master/aspnetcore-identityserver4" target="_blank" rel="noopener noreferrer">https://github.com/luoyunchong/dotnetcore-examples/tree/master/aspnetcore-identityserver4</a></p>
<h2>å‚è€ƒ</h2>
<ul>
<li><a href="https://www.cnblogs.com/edisonchou/p/identityserver4_foundation_and_quickstart_01.html" target="_blank" rel="noopener noreferrer">.NET Coreå¾®æœåŠ¡ä¹‹åŸºäºIdentityServerå»ºç«‹æˆæƒä¸éªŒè¯æœåŠ¡</a></li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>ImCore å³æ—¶é€šè®¯</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/examples/ImCore-Chat.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/examples/ImCore-Chat.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">ImCore å³æ—¶é€šè®¯</source>
      <description>ImCore å³æ—¶é€šè®¯ ç®€ä»‹ åˆ©ç”¨ webSocket åè®®å®ç°ç®€æ˜“ã€é«˜æ€§èƒ½ã€é›†ç¾¤å³æ—¶é€šè®¯ç»„ä»¶ï¼Œæ”¯æŒç‚¹å¯¹ç‚¹é€šè®¯ã€ç¾¤èŠé€šè®¯ã€ä¸Šçº¿ä¸‹çº¿äº‹ä»¶æ¶ˆæ¯ç­‰ä¼—å¤šå®ç”¨æ€§åŠŸèƒ½ã€‚ å¼€æºåœ°å€ https://github.com/2881099/im ç¤ºä¾‹ https://github.com/luoyunchong/dotnetcore-examples/tree/mast...</description>
      <pubDate>Fri, 28 Feb 2020 11:10:31 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>ç®€ä»‹</h2>
<p>åˆ©ç”¨ webSocket åè®®å®ç°ç®€æ˜“ã€é«˜æ€§èƒ½ã€é›†ç¾¤å³æ—¶é€šè®¯ç»„ä»¶ï¼Œæ”¯æŒç‚¹å¯¹ç‚¹é€šè®¯ã€ç¾¤èŠé€šè®¯ã€ä¸Šçº¿ä¸‹çº¿äº‹ä»¶æ¶ˆæ¯ç­‰ä¼—å¤šå®ç”¨æ€§åŠŸèƒ½ã€‚</p>
<h2>å¼€æºåœ°å€</h2>
<p><a href="https://github.com/2881099/im" target="_blank" rel="noopener noreferrer">https://github.com/2881099/im</a></p>
<h2>ç¤ºä¾‹</h2>
<p><a href="https://github.com/luoyunchong/dotnetcore-examples/tree/master/dotnet-core-im" target="_blank" rel="noopener noreferrer">https://github.com/luoyunchong/dotnetcore-examples/tree/master/dotnet-core-im</a></p>
<h2>æ¼”ç¤ºæ•ˆæœ</h2>
<p><img src="https://ae01.alicdn.com/kf/Hf8b31f05dbb94f8da565fce29f78aa78Y.png" alt="https://ae01.alicdn.com/kf/Hf8b31f05dbb94f8da565fce29f78aa78Y.png"></p>
]]></content:encoded>
      <enclosure url="https://ae01.alicdn.com/kf/Hf8b31f05dbb94f8da565fce29f78aa78Y.png" type="image/png"/>
    </item>
    <item>
      <title>.NET Core å­¦ä¹ ç¤ºä¾‹æ–‡æ¡£</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/examples/</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/examples/</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">.NET Core å­¦ä¹ ç¤ºä¾‹æ–‡æ¡£</source>
      <description>.NET Core å­¦ä¹ ç¤ºä¾‹æ–‡æ¡£ æµè§ˆå·¦ä¾§å¯¼èˆªèœå•ä»¥æ·±å…¥äº†è§£æ–‡æ¡£. .NET Core å­¦ä¹ ç¤ºä¾‹æ–‡æ¡£ä¸»è¦æ˜¯ç»“åˆ ASP .NET Coreï¼Œé›†æˆç¬¬ä¸‰æ–¹ç±»åº“çš„ç¤ºä¾‹ï¼Œè¿ç”¨åŸºç¡€ç»„ä»¶ï¼Œå†™å¥½ Demoã€‚ æºç  ä»£ç æ‰˜ç®¡åœ¨ GitHub ä¸Š https://github.com/luoyunchong/dotnetcore-examples æ¨èé˜…è¯» Micros...</description>
      <pubDate>Fri, 28 Feb 2020 11:10:31 GMT</pubDate>
      <content:encoded><![CDATA[
<p>æµè§ˆå·¦ä¾§å¯¼èˆªèœå•ä»¥æ·±å…¥äº†è§£æ–‡æ¡£.</p>
<p>.NET Core å­¦ä¹ ç¤ºä¾‹æ–‡æ¡£ä¸»è¦æ˜¯ç»“åˆ ASP .NET Coreï¼Œé›†æˆç¬¬ä¸‰æ–¹ç±»åº“çš„ç¤ºä¾‹ï¼Œè¿ç”¨åŸºç¡€ç»„ä»¶ï¼Œå†™å¥½ Demoã€‚</p>
<h2>æºç </h2>
<p>ä»£ç æ‰˜ç®¡åœ¨ GitHub ä¸Š <a href="https://github.com/luoyunchong/dotnetcore-examples" target="_blank" rel="noopener noreferrer">https://github.com/luoyunchong/dotnetcore-examples</a></p>
<h2>æ¨èé˜…è¯»</h2>
<ul>
<li>Microsoft Docs <a href="https://docs.microsoft.com/zh-cn" target="_blank" rel="noopener noreferrer">https://docs.microsoft.com/zh-cn</a><br>
å…¶ä¸­åŒ…å«å¦‚ä¸‹
<ul>
<li>.NET Core æŒ‡åŒ— <a href="https://docs.microsoft.com/zh-cn/dotnet/core/" target="_blank" rel="noopener noreferrer">https://docs.microsoft.com/zh-cn/dotnet/core/</a></li>
<li>ASP .NET æ–‡æ¡£ <a href="https://docs.microsoft.com/zh-cn/aspnet/" target="_blank" rel="noopener noreferrer">https://docs.microsoft.com/zh-cn/aspnet/</a></li>
<li>.NET Core CLI æ–‡æ¡£ <a href="https://docs.microsoft.com/zh-cn/dotnet/core/tools/?tabs=netcore2x" target="_blank" rel="noopener noreferrer">https://docs.microsoft.com/zh-cn/dotnet/core/tools/?tabs=netcore2x</a></li>
</ul>
</li>
</ul>
<h2>æœ¬åœ°ç¯å¢ƒè¯´æ˜</h2>
<ul>
<li>Windows 10 (18922.rs_prerelease.190614-1427)</li>
<li>.NET Core 3.0.100-preview6-012264</li>
<li>Visual Studio Code 1.35.1ã€Microsoft Visual Studio 2019 16.1.3</li>
<li>PowerSheel</li>
<li>MySQL 5.7.25</li>
<li>Navicat Premium 12 <a href="http://blog.igeekfan.cn/2018/06/02/%E5%A4%A7%E5%90%8E%E7%AB%AF/Navicat%20Premium%2012%20%20%E7%A0%B4%E8%A7%A3%E7%89%88%E5%85%8D%E8%B4%B9%E4%B8%8B%E8%BD%BD/" target="_blank" rel="noopener noreferrer">æ¬¢è¿ä¸‹è½½</a></li>
</ul>
<h2>Install</h2>
<p>æœ¬åœ°å¼€å‘é€‰æ‹© SDK å®‰è£…å³å¯ï¼Œè¿˜æ˜¯å®‰è£… 2.2 çš„å§ï¼Œ3.0ï¼ˆ19.6.29ï¼‰ç›®å‰è¿˜æ²¡æœ‰å‘å¸ƒç¨³å®šç‰ˆæœ¬ã€‚</p>
<ul>
<li>å®‰è£…è¿™ä¸ª <strong><a href="https://dotnet.microsoft.com/download/dotnet-core/2.2" target="_blank" rel="noopener noreferrer">https://dotnet.microsoft.com/download/dotnet-core/2.2</a></strong></li>
<li><a href="https://dotnet.microsoft.com/download/dotnet-core/3.0" target="_blank" rel="noopener noreferrer">https://dotnet.microsoft.com/download/dotnet-core/3.0</a></li>
</ul>
<p>å®‰è£…åï¼Œåœ¨ PowerShell ä¸­ä»»ä¸€ç›®å½•æŸ¥çœ‹å®‰è£…åçš„ç‰ˆæœ¬</p>
<div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" data-title="powershell" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">PS C:\WINDOWS\system3</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">2&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> dotnet </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">--</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">version</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">3.0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">100</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">-</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">preview6</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">012264</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># æœ¬åœ°å®‰è£…äº†å¥½å‡ ä¸ª.net core sdkç‰ˆæœ¬</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">PS C:\WINDOWS\system3</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">2&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> dotnet </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">--</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">list</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">-</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">sdks</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">2.1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">700</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">C</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">:\</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">Program</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> Files</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">\</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">dotnet</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">\</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">sdk</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">2.2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">300</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">C</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">:\</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">Program</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> Files</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">\</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">dotnet</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">\</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">sdk</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">3.0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">100</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">-</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">preview6</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">012264</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">C</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">:\</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">Program</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> Files</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">\</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">dotnet</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">\</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">sdk</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>CLI</h2>
<p>å…¨ç§°ï¼šcommand-line interfaceï¼Œå‘½ä»¤è¡Œç•Œé¢ï¼Œä¸»è¦æ˜¯ cmdã€bash(sh ç­‰ç­‰)ã€powershell ç­‰ã€‚</p>
<blockquote>
<p>è¯´æ˜ <strong>æ‰€æœ‰å‘½ä»¤è¡Œéƒ½åœ¨ windows10 è‡ªå¸¦çš„ powershell ä¸­æ‰§è¡Œã€‚</strong></p>
</blockquote>
<h3>æŒ‡å®š SDK ç‰ˆæœ¬</h3>
<p>.NET Core é¡¹ç›®é»˜è®¤ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„ .NET Coreï¼Œåœ¨æ ¹ç›®å½•ä½¿ç”¨ PowerShell ä¸­æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œ</p>
<p>è¯­æ³• ï¼šdotnet new global.json --sdk-version &lt;SDK ç‰ˆæœ¬å·&gt;</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>dotnet new globaljson --sdk-version 2.2.300</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>å‚è€ƒ</p>
<ul>
<li><a href="https://docs.microsoft.com/zh-cn/dotnet/core/tools/dotnet-new?tabs=netcore22" target="_blank" rel="noopener noreferrer">dotnet new å‘½ä»¤è¡Œ</a></li>
<li><a href="https://docs.microsoft.com/zh-cn/dotnet/core/versions/selection?view=dotnet-plat-ext-2.1" target="_blank" rel="noopener noreferrer">é€‰æ‹©è¦ä½¿ç”¨çš„ .NET Core ç‰ˆæœ¬</a></li>
</ul>
<h2>.NET Core</h2>
<p>.NET Core æ˜¯ä»€ä¹ˆï¼Ÿ å®˜ç½‘è¯´çš„å¤ªé«˜å¤§ä¸Šäº† <a href="https://docs.microsoft.com/zh-cn/dotnet/core/about" target="_blank" rel="noopener noreferrer">https://docs.microsoft.com/zh-cn/dotnet/core/about</a></p>
<p>æ€»ç»“ï¼Œ.NET Core åŒ…å«å¦‚ä¸‹</p>
<ul>
<li>äºŒä¸ª RunTime
<ul>
<li>.NET Core RunTimeï¼šåŸºç¡€ç±»å‹ç³»ç»Ÿ ã€åƒåœ¾å›æ”¶ã€åŸºå…ƒç±»å‹ç­‰ï¼Œ</li>
<li>ASP .NET RunTime ï¼šæä¾› WEBã€LOT ç­‰åº”ç”¨ç¨‹åºçš„æ¡†æ¶æ”¯æŒã€‚</li>
</ul>
</li>
<li>.NET Core CLI å·¥å…·ï¼šå„ç§å‘½ä»¤è¡Œå·¥å…·ï¼Œåˆ›å»ºé¡¹ç›®ã€ç¼–è¯‘é¡¹ç›®ï¼Œå‘å¸ƒé¡¹ç›®ç­‰ï¼›</li>
<li>è¯­è¨€ç¼–è¯‘å™¨ï¼šï¼ˆæ”¯æŒ C#ã€F#ã€VB ç­‰è¯­è¨€ï¼‰</li>
<li>dotnet å·¥å…·ï¼š.NET Core è¿è¡Œæ—¶å’Œåº“çš„å®‰è£…ç¨‹åºåŒ…</li>
</ul>
<p>ä¸‰ä¸ªå‘å¸ƒåŒ…ï¼š</p>
<ul>
<li>.NET Core è¿è¡Œæ—¶</li>
<li>ASP .NET Core è¿è¡Œæ—¶</li>
<li>.NET Core SDKï¼šåŒ…æ‹¬ä¸Šé¢äºŒä¸ªå†…å®¹ï¼Œå†åŠ ä¸Š .NET CLI å·¥å…·ç­‰</li>
</ul>
<p>æ‰€ä»¥æœ¬åœ°è°ƒè¯•æ—¶ï¼Œå¯ç›´æ¥å®‰è£…æœ€å…¨çš„ SDK å³å¯ã€‚</p>
<h2>é¡¹ç›®æ–‡æ¡£</h2>
<p>ç›®å‰ å…³äºæ­¤é¡¹ç›®çš„æ–‡æ¡£æ”¾åˆ° docs æ–‡ä»¶å¤¹ä¸­ï¼Œzh-Hans ä¸ºä¸­æ–‡ï¼Œè¿™æ ·å¯æ”¯æŒå¤šè¯­è¨€ï¼Œæ¬¢è¿ç¿»è¯‘ PRï¼Œä¹‹åä¼šå‘å¸ƒè‡³</p>
<ul>
<li>æ–‡æ¡£å®˜ç½‘ <a href="https://luoyunchong.github.io/vuepress-docs/" target="_blank" rel="noopener noreferrer">https://luoyunchong.github.io/vuepress-docs/</a></li>
</ul>
<p>å°†ä½¿ç”¨ abp vnext ä¸‹çš„ modules çš„<a href="https://github.com/abpframework/abp/blob/dev/modules/docs/README.md" target="_blank" rel="noopener noreferrer">docs æ¨¡å—</a>ã€‚ä¸è¿‡ abp vnext ç°åœ¨ä¹Ÿä¸ç¨³å®šï¼Œ0.18.1ï¼Œè¿˜æ˜¯æœ‰å„ç§é—®é¢˜ï¼Œæˆ‘è¿˜æ˜¯å†™åŸºç¡€æ¨¡å—çš„ä½¿ç”¨æ–‡æ¡£å§ï¼ŒåæœŸå®Œå–„åï¼Œå‘å¸ƒæ–‡æ¡£ç½‘ç«™ã€‚</p>
<h2>è¯´æ˜</h2>
<p>æœ¬é¡¹ç›®ä¹Ÿæ˜¯æˆ‘çš„å­¦ä¹ è®°å½•ï¼Œï¼Œç”¨äºæµ‹è¯•ä¸åŒç±»åº“é›†æˆçš„è§£å†³æ–¹æ¡ˆï¼Œæ‰€ä»¥ç”¨æœ€åŸºç¡€çš„æ–¹æ¡ˆï¼Œ<strong>å‘½ä»¤è¡Œ</strong>æ¥åˆ›å»ºé¡¹ç›®ï¼Œå¼•ç”¨åŒ…ï¼Œè¿è¡Œï¼Œæµ‹è¯•ç­‰ã€‚è®©è‡ªå·±å¯¹ .net core çš„åŸç†ç»“æ„äº†è§£åœ°æ›´åŠ æ·±å…¥ä¸€äº›ã€‚</p>
<ul>
<li>é‡‡ç”¨çš„éƒ½æ˜¯ Visual Studio Code/VS2019 +PowerShell è¿è¡Œï¼Œå…³äºå¦‚ä½•é‡‡ç”¨ Visual Studio 2019 åˆ›å»ºé¡¹ç›®ï¼Œå¼•ç”¨åŒ…æ˜¯éå¸¸ç®€å•çš„ï¼Œä¸å†è¯´æ˜ã€‚</li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>FreeSql+ASP.NET Core</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/examples/freesql-in-aspnetcore-webapi-how-to-use.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/examples/freesql-in-aspnetcore-webapi-how-to-use.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">FreeSql+ASP.NET Core</source>
      <description>FreeSql+ASP.NET Core æ–‡ç« æ¦‚è¿° ä¸»è¦åœ¨ä»‹ç»FreeSqlåœ¨ASP.NTE Core WebApiä¸­å¦‚ä½•ä½¿ç”¨çš„è¿‡ç¨‹ï¼Œå®Œæˆä¸€ä¸ªæœ€ç®€å•çš„åšå®¢ç³»ç»Ÿçš„åç«¯æ¥å£ã€‚ FreeSql ç®€ä»‹ å›½äººå†™çš„ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ORM,FreeSql æ”¯æŒ MySql/SqlServer/PostgreSQL/Oracle/Sqliteï¼Œç‰¹ç‚¹ï¼šè½»é‡çº§ã€å¯æ‰©å±•ã€åŸºäº...</description>
      <pubDate>Fri, 28 Feb 2020 11:10:31 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>æ–‡ç« æ¦‚è¿°</h2>
<p>ä¸»è¦åœ¨ä»‹ç»FreeSqlåœ¨ASP.NTE Core WebApiä¸­å¦‚ä½•ä½¿ç”¨çš„è¿‡ç¨‹ï¼Œå®Œæˆä¸€ä¸ªæœ€ç®€å•çš„åšå®¢ç³»ç»Ÿçš„åç«¯æ¥å£ã€‚</p>
<h2>FreeSql ç®€ä»‹</h2>
<p>å›½äººå†™çš„ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ORM,FreeSql æ”¯æŒ MySql/SqlServer/PostgreSQL/Oracle/Sqliteï¼Œç‰¹ç‚¹ï¼šè½»é‡çº§ã€å¯æ‰©å±•ã€åŸºäº .NET Standard è·¨å¹³å°ã€‚</p>
<h2>æºç </h2>
<p>ä»£ç æ‰˜ç®¡åœ¨GitHubä¸Š <a href="https://github.com/luoyunchong/dotnetcore-examples/blob/master/ORM/FreeSql/OvOv.FreeSql.Repository/Controllers/BlogController.cs" target="_blank" rel="noopener noreferrer">https://github.com/luoyunchong/dotnetcore-examples</a></p>
<h2>å‚è€ƒ</h2>
<ul>
<li>FreeSql github <a href="https://github.com/dotnetcore/FreeSql" target="_blank" rel="noopener noreferrer">https://github.com/dotnetcore/FreeSql</a></li>
<li><a href="https://docs.microsoft.com/zh-cn/dotnet/core/tools/dotnet-new?tabs=netcore22" target="_blank" rel="noopener noreferrer">å…³äº.net core cliä¸­å¦‚ä½•ä½¿ç”¨dotnet new</a></li>
<li><a href="https://docs.microsoft.com/zh-cn/aspnet/core/web-api/?view=aspnetcore-2.2" target="_blank" rel="noopener noreferrer">ä½¿ç”¨ ASP.NET Core åˆ›å»º Web API</a></li>
<li><a href="https://docs.microsoft.com/zh-cn/aspnet/core/tutorials/web-api-help-pages-using-swagger?view=aspnetcore-2.2" target="_blank" rel="noopener noreferrer">Swagger/OpenAPI ç”Ÿæˆæ¥å£æ–‡æ¡£</a></li>
<li><a href="https://github.com/domaindrivendev/Swashbuckle.AspNetCore" target="_blank" rel="noopener noreferrer">Swagger GitHub (Swashbuckle.AspNetCore)</a></li>
</ul>
<h2>é¡¹ç›®å‡†å¤‡</h2>
<ul>
<li>Mysql 5.6</li>
<li>Visual Studio 2019æˆ–2017ã€Visual Studio code</li>
<li>.NET Core 3.1+</li>
<li>PowerShell</li>
<li>æ‡‚ç‚¹mvcï¼Œè¯¥æ•™ç¨‹ä¸ä¼šæ•™ä½ å¦‚ä½•ä½¿ç”¨ ASP .NET Core MVCã€RESTful</li>
</ul>
<h3>åˆ›å»ºé¡¹ç›®</h3>
<p>ä½¿ç”¨dotnet å‘½ä»¤è¡Œåˆ›å»ºä¸€ä¸ªwebapié¡¹ç›®ï¼Œèµ·åä¸ºOvOv.FreeSql</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>PS dotnetcore-examples\aspnetcore-freesql&gt; dotnet new webapi -n OvOv.FreeSql</span></span>
<span class="line"><span>The template "ASP.NET Core Web API" was created successfully.</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åcd åˆ°OvOv.FreeSqlç›®å½•ï¼Œé€šè¿‡dotnet run å‘½ä»¤è¿è¡Œé¡¹ç›®</p>
<div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" data-title="powershell" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">PS dotnetcore</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">-</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">examples\aspnetcore</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">-</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">freesql</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> cd .\OvOv.FreeSql\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">PS dotnetcore</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">-</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">examples\aspnetcore</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">-</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">freesql\OvOv.FreeSql</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> dotnet run</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">info: Microsoft.Hosting.Lifetime[</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      Now listening on: https:</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">//</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">localhost:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">5001</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">info: Microsoft.Hosting.Lifetime[</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      Now listening on: http:</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">//</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">localhost:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">5000</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">info: Microsoft.Hosting.Lifetime[</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      Application started. Press Ctrl</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">+</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">C to shut down.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">info: Microsoft.Hosting.Lifetime[</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      Hosting environment: Development</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">info: Microsoft.Hosting.Lifetime[</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      Content root path: D:\code\github\dotnetcore</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">-</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">examples\aspnetcore</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">-</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">freesql\OvOv.FreeSql</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰“å¼€æµè§ˆå™¨ <a href="https://localhost:5001" target="_blank" rel="noopener noreferrer">https://localhost:5001</a> ä¼šå‡ºç°404</p>
<p>è¯·æ‰“å¼€è¿™ä¸ªåœ°å€ <a href="https://localhost:5001/api/values" target="_blank" rel="noopener noreferrer">https://localhost:5001/api/values</a> ï¼Œå¯çœ‹åˆ°å¦‚ä¸‹å†…å®¹ã€‚</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>["value1","value2"]</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>æ¥ä¸‹æ¥æˆ‘ä»¬æ¥é›†æˆFreeSqlï¼Œæˆ‘ä»¬ä»¥æœ€ç®€å•çš„å‘½ä»¤å’Œè¯´æ˜ï¼Œè¯¦ç»†å†…å®¹å»å®˜ç½‘çœ‹å…·ä½“å†…å®¹</p>
<ul>
<li>å®˜ç½‘æ–‡æ¡£ <a href="http://freesql.net/doc" target="_blank" rel="noopener noreferrer">http://freesql.net/doc</a></li>
</ul>
<h2>Install</h2>
<p>è¦å…ˆcdåˆ°OvOv.FreeSqlç›®å½•ä¸­ã€‚</p>
<div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" data-title="powershell" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">PS \aspnetcore</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">-</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">freesql\OvOv.FreeSql</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> dotnet add package FreeSql</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">PS \aspnetcore</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">-</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">freesql\OvOv.FreeSql</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> dotnet add package FreeSql.Provider.MySql</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><h2>code first</h2>
<ul>
<li><a href="https://github.com/dotnetcore/FreeSql/blob/master/Docs/codefirst.md" target="_blank" rel="noopener noreferrer">å…³äºCodeFirstï¼Œå®˜æ–¹æ–‡æ¡£çš„ä»‹ç»</a></li>
</ul>
<p>ä»£ç ä¼˜å…ˆï¼Œä½¿ç”¨è¿‡EntityFrameworkçš„åº”è¯¥å¾ˆæ¸…æ¥šè¿™ä¸€æ¦‚å¿µï¼Œæˆ‘çš„ç†è§£å°±æ˜¯ï¼šåœ¨åˆ†ææ•°æ®åº“è¡¨å…³ç³»æ—¶ï¼Œä¸é€šè¿‡åœ¨æ•°æ®åº“ä¸­è®¾è®¡è¡¨ï¼Œè€Œæ˜¯ç›´æ¥åœ¨ä»£ç ä¸­å£°æ˜å¯¹åº”çš„ç±»ï¼Œä½¿ç”¨å¯¼èˆªå±æ€§ä»£æ›¿å¤–é”®å…³è”ï¼Œé€šè¿‡æ•°æ®è¡¨å­—æ®µä¸C#ä¸­çš„ç±»åº“å¯¹åº”ï¼Œä»è€Œè‡ªåŠ¨ç”Ÿæˆæ•°æ®è¡¨ã€‚</p>
<h2>db first</h2>
<p>æ•°æ®åº“ä¼˜å…ˆï¼šéœ€æ±‚åˆ†æåï¼Œç›´æ¥è®¾è®¡æ•°æ®åº“ï¼Œé€šè¿‡æ•°æ®åº“ä¸­çš„è¡¨ï¼Œç›´æ¥ç”Ÿæˆä»£ç ï¼Œç±»ã€‚</p>
<h2>å¼€å§‹</h2>
<h3>åˆ†æéœ€æ±‚</h3>
<p>æˆ‘ä»¬ä»¥code first ä¸ºç¤ºä¾‹ï¼Œå­¦ä¹ å¦‚ä½•ä½¿ç”¨freesqlï¼Œå®ç°ä¸€ä¸ªç®€å•çš„åšå®¢ã€‚å°†è¡¨å†…å®¹åˆ†ä¸ºåšå®¢è¡¨ï¼ˆBlog)å’Œè¯„è®ºè¡¨ï¼ˆPost)</p>
<h4>Blog è¡¨</h4>
<p>| å­—æ®µå     | å­—æ®µç±»å‹     | è¯´æ˜     |<br>
|</p>
]]></content:encoded>
    </item>
    <item>
      <title>RESTful+FreeSql+AutoMapper</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/examples/freesql-sample-blog-restful-use-automapper.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/examples/freesql-sample-blog-restful-use-automapper.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">RESTful+FreeSql+AutoMapper</source>
      <description>RESTful+FreeSql+AutoMapper æ–‡ç« æ¦‚è¿° æœ¬æ–‡ä½¿ç”¨ASP .NET Coreçš„WEB APIï¼Œæ„å»ºä¸€ä¸ªRESTfulé£æ ¼çš„æ¥å£ï¼Œä½¿ç”¨Freesqlè®¿é—®MySQLæ•°æ®åº“ï¼Œå®ç°äºŒä¸ªè¡¨çš„ç®€å•åšå®¢ï¼Œå¹¶é›†æˆAutoMapperã€‚ æ¥ä¸Šä¸€ç¯‡ FreeSqlåœ¨ASP.NTE Core WebApiä¸­å¦‚ä½•ä½¿ç”¨çš„æ•™ç¨‹ é¡¹ç›®æºç  https://gi...</description>
      <pubDate>Fri, 28 Feb 2020 11:10:31 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>æ–‡ç« æ¦‚è¿°</h2>
<p>æœ¬æ–‡ä½¿ç”¨ASP .NET Coreçš„WEB APIï¼Œæ„å»ºä¸€ä¸ªRESTfulé£æ ¼çš„æ¥å£ï¼Œä½¿ç”¨Freesqlè®¿é—®MySQLæ•°æ®åº“ï¼Œå®ç°äºŒä¸ªè¡¨çš„ç®€å•åšå®¢ï¼Œå¹¶é›†æˆAutoMapperã€‚</p>
<p>æ¥ä¸Šä¸€ç¯‡</p>
<ul>
<li>
<p><a href="http://blog.igeekfan.cn/2019/06/30/re-start/FreeSql-aspnetcore-how-to-use/" target="_blank" rel="noopener noreferrer">FreeSqlåœ¨ASP.NTE Core WebApiä¸­å¦‚ä½•ä½¿ç”¨çš„æ•™ç¨‹</a></p>
</li>
<li>
<p>é¡¹ç›®æºç  <a href="https://github.com/luoyunchong/dotnetcore-examples/tree/master/aspnetcore-freesql" target="_blank" rel="noopener noreferrer">https://github.com/luoyunchong/dotnetcore-examples/tree/master/aspnetcore-freesql</a></p>
</li>
</ul>
<!-- more -->
<h2>Dtoä½œç”¨</h2>
<p>å½“æˆ‘ä»¬ä½¿ç”¨RESTfulæä¾›æ¥å£æ—¶ï¼Œæ¯”å¦‚åˆ›å»ºä¸€ä¸ªåšå®¢ï¼Œä¿®æ”¹ä¸€ä¸‹åšå®¢å†…å®¹æ—¶ï¼Œä»–ä»¬çš„å‚æ•°æ˜¯æœ‰åŒºåˆ«çš„ã€‚è‰¯å¥½çš„è®¾è®¡åº”è¯¥æ˜¯</p>
<p>åˆ›å»ºä¸€ä¸ªåšå®¢</p>
<div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">POST /api/blog</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">data:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "title"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"string"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "content"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"string"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¿®æ”¹ä¸€ä¸ªåšå®¢å†…å®¹</p>
<div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">PUT /api/blog</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">data:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "blogId"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"int"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "title"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"string"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "content"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"string"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½†ä¸€ä¸ªblog å®ä½“å¦‚ä¸‹</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Blog</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Column</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF">IsIdentity</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF">IsPrimary</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> BlogId</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> Title</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> Content</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> DateTime</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> CreateTime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> virtual</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> List</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF">Posts</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæˆ‘ä»¬ä»¥Blogä½œä¸ºcontrollersä¸­çš„å‚æ•°æ—¶</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">       // POST api/blog</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpPost</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">([</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FromBody</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CreateTime</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">DateTime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Now</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Insert</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ExecuteAffrows</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ—¶ä¿®æ”¹swaggeræ˜¾ç¤ºçš„é»˜è®¤å‚æ•°æ˜¯</p>
<div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "blogId"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "title"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"string"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "content"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"string"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "createTime"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"2019-06-30T07:33:05.524Z"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "posts"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">      "postId"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">      "replyContent"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"string"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">      "blogId"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">      "replyTime"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"2019-06-30T07:33:05.524Z"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæˆ‘ä»¬ä¸ä¼ é€’createTimeï¼Œä¼šå‡ºç°å¼‚å¸¸ï¼Œåº”è¯¥createTimeæ˜¯DateTimeï¼Œä¸èƒ½ä¸ºnullï¼Œåªæœ‰DateTime?æ‰èƒ½ä¸ºnull,æœ‰?ä¸ºå¯ç©ºç±»å‹ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬åº”è¯¥ä¸ºPOSTæ–¹å¼ä¼ é€’è¿‡æ¥æ—¶ï¼Œæ–°å»ºä¸€ä¸ªå®ä½“ç±»ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºDTO(Data Transfer Object)ï¼Œå³æ•°æ®ä¼ è¾“å¯¹è±¡ï¼Œå› ä¸ºcreateTimeå³ä½¿ä¼ é€’ï¼Œåç«¯ä¸ºä»–èµ‹äº†å€¼ï¼Œå‰å°ä¼ äº†ä¹Ÿæ— æ•ˆã€‚æœ‰äº†DTOï¼Œè¿™æ ·å¯è®©å‰ç«¯æ¸…æ¥šä»–ä»¬åº”è¯¥ä¼ é€’çš„å‚æ•°ï¼Œè€Œä¸ä¼šå‡ºç°æ²¡æœ‰ä½œç”¨çš„å‚æ•°ã€‚</p>
<p>åœ¨æ ¹ç›®å½•åˆ›å»ºModels/Blogsæ–‡ä»¶å¤¹ï¼Œåœ¨Blogsæ–‡ä»¶å¤¹ä¸­åˆ›å»º</p>
<h3>CreateBlogDto.cs</h3>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Models</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blogs</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> CreateBlogDto</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> Title</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> Content</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>UpdateBlogDto.cs</h3>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Models</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blogs</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> UpdateBlogDto</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> BlogId</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> Title</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> Content</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æœ‰äº†Dtoåï¼Œæˆ‘ä»¬ä¼šå‘ç°äº†æ–°çš„é—®é¢˜ï¼Œå¾€æ•°æ®åº“æ’å…¥æ—¶ï¼Œå¾€å¾€ä½¿ç”¨äº†ä¸€äº›ORM,ä»–ä»¬åªæ”¯æŒåŸæœ¬çš„å®ä½“ç±»ï¼Œå¦‚Blogï¼ŒPostã€‚ä½†ä¸æ”¯æŒCreateBlogDtoã€UpdateBlogDto,æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨ï¼Œå°†ä¸€ä¸ªç±»çš„å€¼ï¼Œèµ‹å€¼ç»™å¦ä¸€ä¸ªç±»ã€‚<br>
å¦‚</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">    CreateBlogDto</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> createBlogDto</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> CreateBlogDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">        Title</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "æˆ‘æ˜¯title"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">        Content</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "æˆ‘æ˜¯content"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">    Blog</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> newBlog</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">        Title</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> createBlogDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Title</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">        Content</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> createBlogDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Content</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    };</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç°åœ¨åªæ˜¯éå¸¸ç®€å•çš„äºŒä¸ªå±æ€§ï¼Œæˆ‘ä»¬è¿˜èƒ½å¿å—ï¼Œä½†å¦‚æœæ˜¯åä¸ªå±æ€§ã€è€Œä¸”æœ‰ç€å¤§é‡çš„ç±»ä¸ç±»ä¹‹é—´çš„è½¬æ¢å‘¢ã€‚è¿™æ—¶ä¿®æ”¹AutoMapperå°±é—ªäº®ç™»åœºäº†ã€‚</p>
<h2>AutoMapper</h2>
<blockquote>
<p>ä½œç”¨ï¼šA convention-based object-object mapper.</p>
</blockquote>
<p>æˆ‘ä»¬æ˜¯åœ¨ASP .NET Coreä¸‹ä½¿ç”¨AutoMapper <a href="https://automapper.readthedocs.io/en/latest/Dependency-injection.html" target="_blank" rel="noopener noreferrer">å®˜ç½‘ä»‹ç»ï¼Œå¦‚ä½•ä¾èµ–æ³¨å…¥ä¸­ä½¿ç”¨</a></p>
<h3>Setup</h3>
<p>å…ˆcdåˆ°dotnetcore-examples\aspnetcore-freesql\RESTful.FreeSqlç›®å½•</p>
<div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" data-title="powershell" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">PS </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> dotnet add package AutoMapper</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">PS </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> dotnet add package AutoMapper.Extensions.Microsoft.DependencyInjection </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">--</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">version </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">6.1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">1</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨StartUp.csä¸­çš„ConfigureServicesé…ç½®å¦‚ä¸‹</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>   public void ConfigureServices(IServiceCollection services)</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        // .... Ignore code before this</span></span>
<span class="line"><span>        </span></span>
<span class="line"><span>        //AddAutoMapperä¼šå»æ‰¾ç»§æ‰¿Profileçš„ç±»ï¼Œ</span></span>
<span class="line"><span>        services.AddAutoMapper(AppDomain.CurrentDomain.GetAssemblies());</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        // .... Ignore code after this</span></span>
<span class="line"><span>    }</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>Adding Profiles</h3>
<p>AutoMapper/BlogProfile.cs</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> AutoMapper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Domain</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Models</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blogs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AutoMapper</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> BlogProfile</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Profile</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> BlogProfile</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">() </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">            CreateMap</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">CreateBlogDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">            CreateMap</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">UpdateBlogDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>AutoMapper/BlogProfile.cs</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> AutoMapper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Domain</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Models</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blogs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AutoMapper</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> PostProfile</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Profile</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> PostProfile</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">            CreateMap</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">CreatePostDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Models/Posts/SearchPostDto.csæ ¹æ®åšå®¢idï¼Œå¾—åˆ°åˆ†é¡µçš„è¯„è®ºæ—¶ï¼Œé›†æˆåˆ†é¡µç±»</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Web</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Models</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Posts</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> SearchPostDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">PageDto</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> BlogId</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Controlers/BlogController.csæ–‡ä»¶ä¸­ï¼Œæ³¨å…¥IMapper,</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> AutoMapper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Microsoft</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AspNetCore</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Mvc</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> System</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> System</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Collections</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Generic</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Domain</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Models</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blogs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Web</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Controllers</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Route</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"api/[controller]"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ApiController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> BlogController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ControllerBase</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // GET api/Blog</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        private</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> readonly</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IFreeSql</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        private</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> readonly</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IMapper</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> _mapper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> BlogController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IFreeSql</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IMapper</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> mapper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">            _fsql</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">            _mapper</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> mapper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// åšå®¢åˆ—è¡¨é¡µ </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic"> name</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">=</span><span style="--shiki-light:#032F62;--shiki-light-font-style:inherit;--shiki-dark:#98C379;--shiki-dark-font-style:italic">"pageDto"</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">åˆ†é¡µå‚æ•°</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">returns</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">returns</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpGet</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> ActionResult</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">PagedResultDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">([</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FromQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">PageDto</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> pageDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">            List</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">blogs</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">OrderByDescending</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">r</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> r</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CreateTime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Page</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">pageDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">PageNumber</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">pageDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">PageSize</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToList</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            long</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> count</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Count</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            return</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> PagedResultDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">count</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">blogs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // GET api/blog/5</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpGet</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"{id}"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> ActionResult</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            // eg.1 return _fsql.Select&lt;Blog&gt;().Where(a =&gt; a.Id == id).ToOne();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            // eg.2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToOne</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // POST api/blog</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpPost</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">([</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FromBody</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">CreateBlogDto</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> createBlogDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">            Blog</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> blog</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _mapper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Map</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">createBlogDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CreateTime</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> DateTime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Now</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Insert</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ExecuteAffrows</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // PUT api/blog</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpPut</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Put</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">([</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FromBody</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">UpdateBlogDto</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> updateBlogDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            //eg.1 æ›´æ–°æŒ‡å®šåˆ—</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            //_fsql.Update&lt;Blog&gt;(updateBlogDto.BlogId).Set(a =&gt; new Blog()</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            //{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            //    Title = updateBlogDto.Title,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            //    Content = updateBlogDto.Content</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            //}).ExecuteAffrows();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            //eg.2å°†è¿™ä¸ªå®ä½“æ›´æ–°åˆ°æ•°æ®åº“ä¸­ã€‚å½“æ›´æ–°æ—¶ï¼Œä¼šæŠŠå…¶ä»–åˆ—çš„å€¼ï¼Œå¦‚CreateTimeä¹Ÿæ›´æ–°æ‰ã€‚</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">            //ä½¿ç”¨IgnoreColumnså¯å¿½ç•¥æŸä¸€äº›åˆ—ã€‚</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">            Blog</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> blog</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _mapper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Map</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">updateBlogDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Update</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">SetSource</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">IgnoreColumns</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">r</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> r</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CreateTime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ExecuteAffrows</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // DELETE api/blog/5</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpDelete</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"{id}"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Delete</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Delete</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Blog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">new</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">BlogId</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> }).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ExecuteAffrows</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Controlers/BlogController.csæ–‡ä»¶ä¸­ï¼Œæ³¨å…¥IMapper,</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Microsoft</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AspNetCore</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Mvc</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> System</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> System</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Collections</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Generic</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> System</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Threading</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Tasks</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> AutoMapper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Domain</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Models</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Posts</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">using</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Web</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> RESTful</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FreeSql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Controllers</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Route</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"api/[controller]"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ApiController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> PostController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ControllerBase</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // GET: api/Post</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        private</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> readonly</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IFreeSql</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        private</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> readonly</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IMapper</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> _mapper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> PostController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IFreeSql</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IMapper</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> mapper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">            _fsql</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">            _mapper</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> mapper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// æ ¹æ®åšå®¢idã€åˆ†é¡µæ¡ä»¶æŸ¥è¯¢è¯„è®ºä¿¡æ¯</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic"> name</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">=</span><span style="--shiki-light:#032F62;--shiki-light-font-style:inherit;--shiki-dark:#98C379;--shiki-dark-font-style:italic">"searchPostDto"</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">returns</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">returns</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpGet</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> PagedResultDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">SearchPostDto</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> searchPostDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">            ISelect</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">selectPost</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> _fsql</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Where</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">r</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> r</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">BlogId</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> ==</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> searchPostDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">BlogId</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">            List</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">posts</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> selectPost</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">OrderByDescending</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">r</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> r</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">ReplyTime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Page</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">searchPostDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">PageNumber</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">searchPostDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">PageSize</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToList</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            long</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> total</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> selectPost</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Count</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            return</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> PagedResultDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">total</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">posts</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // GET: api/Post/5</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpGet</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"{id}"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF">Name</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "Get"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Post</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Select</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Where</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">a</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">PostId</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> ==</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToOne</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // POST: api/Post</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpPost</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">([</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FromBody</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">CreatePostDto</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> createPostDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">            Post</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> post</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _mapper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Map</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">createPostDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">ReplyTime</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> DateTime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Now</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Insert</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ExecuteAffrows</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // DELETE: api/Post/</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpDelete</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"{id}"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Task</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> DeleteAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">            await</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _fsql</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Delete</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;(</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">PostId</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> }).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ExecuteAffrowsAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>å‚è€ƒ</h3>
<ul>
<li>å»ºè®®å¤§å®¶å…ˆçœ‹å®˜ç½‘ <a href="http://automapper.org/" target="_blank" rel="noopener noreferrer">http://automapper.org/</a></li>
<li>å¼€æºåœ°å€ <a href="https://github.com/AutoMapper/AutoMapper" target="_blank" rel="noopener noreferrer">https://github.com/AutoMapper/AutoMapper</a></li>
<li>Getting-started æ–‡æ¡£ <a href="https://automapper.readthedocs.io/en/latest/Getting-started.html#what-is-automapper" target="_blank" rel="noopener noreferrer">https://automapper.readthedocs.io/en/latest/Getting-started.html#what-is-automapper</a></li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>IdentityServer4</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/examples/identityserver4.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/examples/identityserver4.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">IdentityServer4</source>
      <description>IdentityServer4 å†™çš„ä¸€äº›IdentityServer4çš„ç¤ºä¾‹ IdentityServer4 å®ç°å•ç‚¹ç™»å½•æˆæƒtokenéªŒè¯ æºç  ä»£ç æ‰˜ç®¡åœ¨GitHubä¸Š https://github.com/luoyunchong/dotnetcore-examples/tree/master/aspnetcore-identityserver4 ...</description>
      <pubDate>Fri, 28 Feb 2020 11:10:31 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>å†™çš„ä¸€äº›IdentityServer4çš„ç¤ºä¾‹</h2>
<p>IdentityServer4 å®ç°å•ç‚¹ç™»å½•æˆæƒtokenéªŒè¯</p>
<h2>æºç </h2>
<p>ä»£ç æ‰˜ç®¡åœ¨GitHubä¸Š <a href="https://github.com/luoyunchong/dotnetcore-examples/tree/master/aspnetcore-identityserver4" target="_blank" rel="noopener noreferrer">https://github.com/luoyunchong/dotnetcore-examples/tree/master/aspnetcore-identityserver4</a></p>
<h2>å‚è€ƒ</h2>
<ul>
<li><a href="https://www.cnblogs.com/edisonchou/p/identityserver4_foundation_and_quickstart_01.html" target="_blank" rel="noopener noreferrer">.NET Coreå¾®æœåŠ¡ä¹‹åŸºäºIdentityServerå»ºç«‹æˆæƒä¸éªŒè¯æœåŠ¡</a></li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>ImCore å³æ—¶é€šè®¯</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/examples/imcore-chat.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/examples/imcore-chat.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">ImCore å³æ—¶é€šè®¯</source>
      <description>ImCore å³æ—¶é€šè®¯ ç®€ä»‹ åˆ©ç”¨ webSocket åè®®å®ç°ç®€æ˜“ã€é«˜æ€§èƒ½ã€é›†ç¾¤å³æ—¶é€šè®¯ç»„ä»¶ï¼Œæ”¯æŒç‚¹å¯¹ç‚¹é€šè®¯ã€ç¾¤èŠé€šè®¯ã€ä¸Šçº¿ä¸‹çº¿äº‹ä»¶æ¶ˆæ¯ç­‰ä¼—å¤šå®ç”¨æ€§åŠŸèƒ½ã€‚ å¼€æºåœ°å€ https://github.com/2881099/im ç¤ºä¾‹ https://github.com/luoyunchong/dotnetcore-examples/tree/mast...</description>
      <pubDate>Fri, 28 Feb 2020 11:10:31 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>ç®€ä»‹</h2>
<p>åˆ©ç”¨ webSocket åè®®å®ç°ç®€æ˜“ã€é«˜æ€§èƒ½ã€é›†ç¾¤å³æ—¶é€šè®¯ç»„ä»¶ï¼Œæ”¯æŒç‚¹å¯¹ç‚¹é€šè®¯ã€ç¾¤èŠé€šè®¯ã€ä¸Šçº¿ä¸‹çº¿äº‹ä»¶æ¶ˆæ¯ç­‰ä¼—å¤šå®ç”¨æ€§åŠŸèƒ½ã€‚</p>
<h2>å¼€æºåœ°å€</h2>
<p><a href="https://github.com/2881099/im" target="_blank" rel="noopener noreferrer">https://github.com/2881099/im</a></p>
<h2>ç¤ºä¾‹</h2>
<p><a href="https://github.com/luoyunchong/dotnetcore-examples/tree/master/dotnet-core-im" target="_blank" rel="noopener noreferrer">https://github.com/luoyunchong/dotnetcore-examples/tree/master/dotnet-core-im</a></p>
<h2>æ¼”ç¤ºæ•ˆæœ</h2>
<p><img src="https://ae01.alicdn.com/kf/Hf8b31f05dbb94f8da565fce29f78aa78Y.png" alt="https://ae01.alicdn.com/kf/Hf8b31f05dbb94f8da565fce29f78aa78Y.png"></p>
]]></content:encoded>
      <enclosure url="https://ae01.alicdn.com/kf/Hf8b31f05dbb94f8da565fce29f78aa78Y.png" type="image/png"/>
    </item>
    <item>
      <title>ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/examples/qiniu-object-storages.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/examples/qiniu-object-storages.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨</source>
      <description>ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ .NET Core ä¸‹é›†æˆ ä¸ƒç‰›äº‘ä¸‹çš„å¯¹è±¡å­˜å‚¨ å¼€æºåœ°å€ OvOv.MQiniu.Core é›†æˆç±»åº“ å‰æ æœ¬åœ° windows 10,å®‰è£… .net core 2.2+ Linux æœåŠ¡å™¨ Ubuntu Server 16+ æœåŠ¡å™¨å®‰è£…äº† Docker æœ¬åœ° xftpã€xshellï¼ˆè¿™äºŒä¸ªåˆ†åˆ«æ˜¯ windows ä¼ æ–‡ä»¶è‡³ linuxï¼Œ...</description>
      <pubDate>Fri, 28 Feb 2020 11:10:31 GMT</pubDate>
      <content:encoded><![CDATA[
<p>.NET Core ä¸‹é›†æˆ ä¸ƒç‰›äº‘ä¸‹çš„å¯¹è±¡å­˜å‚¨</p>
<h2>å¼€æºåœ°å€</h2>
<p><a href="https://github.com/luoyunchong/dotnetcore-examples/tree/master/999-Others/OvOv.MQiniu.Core" target="_blank" rel="noopener noreferrer">OvOv.MQiniu.Core</a></p>
<h2>é›†æˆç±»åº“</h2>
<p>| åŸºç¡€ç±»åº“é›†æˆæ–¹æ¡ˆ                                                                                      | å¼€æºåœ°å€                                                                                            | æ–‡æ¡£                                                       | è¯´æ˜                                                                                              |<br>
|</p>
]]></content:encoded>
      <enclosure url="https://upload-images.jianshu.io/upload_images/2001974-bcd72707e4fcc7f8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" type="image/"/>
    </item>
    <item>
      <title>è®¤è¯é‰´æƒçŠ¶æ€</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/IdentityServer4-JWT.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/IdentityServer4-JWT.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">è®¤è¯é‰´æƒçŠ¶æ€</source>
      <description>è®¤è¯é‰´æƒçŠ¶æ€ è®¤è¯åˆ†ä¸ºä»¥ä¸‹æƒ…å†µï¼šå½“å‰è§’è‰²ä¸ºç®¡ç†å‘˜ï¼Œè¯¥åˆ†ç»„é…ç½®äº†æƒé™ï¼Œè¯¥åˆ†ç»„æœªåˆ†é…æŸä¸€æ–¹æ³•çš„æƒé™. çŠ¶æ€ç ï¼ˆStatusCode):401 UnAuthorized æœªç™»å½•ï¼Œä¸å¸¦access_tokenï¼Œç›´æ¥è¯·æ±‚éœ€è¦ç™»å½•çš„æ¥å£ã€ç®¡ç†å‘˜æ¥å£ç»“æœä¸€æ ·ã€‚ è¿”å›ç»“æœåº”ä¸ºï¼šçŠ¶æ€ç ï¼š401 UNAUTHORIZED æºå¸¦access_tokenï¼Œä½†éè¶…çº§ç®¡ç†å‘˜(ad...</description>
      <pubDate>Fri, 28 Feb 2020 11:10:31 GMT</pubDate>
      <content:encoded><![CDATA[
<p>è®¤è¯åˆ†ä¸ºä»¥ä¸‹æƒ…å†µï¼šå½“å‰è§’è‰²ä¸ºç®¡ç†å‘˜ï¼Œè¯¥åˆ†ç»„é…ç½®äº†æƒé™ï¼Œè¯¥åˆ†ç»„æœªåˆ†é…æŸä¸€æ–¹æ³•çš„æƒé™.</p>
<p>çŠ¶æ€ç ï¼ˆStatusCode):401 UnAuthorized</p>
<p>| StatusCode                | å«ä¹‰                   |<br>
|</p>
]]></content:encoded>
    </item>
    <item>
      <title>äº§å“è®¾è®¡</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/Production-Design.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/Production-Design.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">äº§å“è®¾è®¡</source>
      <description>äº§å“è®¾è®¡ äº§å“è®¾è®¡-è¯„è®ºæ¨¡å—çš„è®¾è®¡ 1.ä¸»é¢˜å¼ å°†è¯„è®ºåˆ†ä¸ºäºŒçº§ï¼Œç¬¬ä¸€çº§é‡‡ç”¨æ—¶é—´å€’åºï¼ŒäºŒçº§æŒ‰ç…§æ—¶é—´æ­£åºï¼Œæœ‰åŠ©äºç†è§£ä¸Šä¸‹æ–‡å…³ç³»ã€‚ ç”¨æˆ·æ“ä½œï¼š è¯„è®ºéšç¬”(å†…å®¹æ”¯æŒè¶…é“¾æ¥ã€emoji) ç‚¹èµè¯„è®º/å–æ¶ˆç‚¹èµ å›å¤è¯„è®º åˆ é™¤è‡ªå·±çš„è¯„è®º è¿è¥æ“ä½œï¼š å®¡æ ¸é€šè¿‡/æ‹‰é»‘è¯„è®º åˆ é™¤ä»»ä½•è¯„è®º æ‹‰é»‘åçš„æ˜¾ç¤ºé€»è¾‘ã€‚ï¼ˆä¿ç•™å½“å‰åŒºå—ã€æ˜¾ç¤ºå†…å®¹ä¸ºï¼šè¯¥è¯„è®ºå› è¿è§„è¢«æ‹‰é»‘ï¼‰ åˆ é™¤ï¼šï¼ˆå¦‚æœæ˜¯äºŒ...</description>
      <pubDate>Fri, 28 Feb 2020 11:10:31 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>äº§å“è®¾è®¡-è¯„è®ºæ¨¡å—çš„è®¾è®¡</h2>
<h3>1.ä¸»é¢˜å¼</h3>
<p>å°†è¯„è®ºåˆ†ä¸ºäºŒçº§ï¼Œç¬¬ä¸€çº§é‡‡ç”¨æ—¶é—´å€’åºï¼ŒäºŒçº§æŒ‰ç…§æ—¶é—´æ­£åºï¼Œæœ‰åŠ©äºç†è§£ä¸Šä¸‹æ–‡å…³ç³»ã€‚</p>
<p>ç”¨æˆ·æ“ä½œï¼š</p>
<ul class="task-list-container">
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-0" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-0"> è¯„è®ºéšç¬”(å†…å®¹æ”¯æŒè¶…é“¾æ¥ã€emoji)</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-1" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-1">  ç‚¹èµè¯„è®º/å–æ¶ˆç‚¹èµ</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-2" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-2">  å›å¤è¯„è®º</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-3" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-3">  åˆ é™¤è‡ªå·±çš„è¯„è®º</label></li>
</ul>
<p>è¿è¥æ“ä½œï¼š</p>
<ul class="task-list-container">
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-4" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-4">  å®¡æ ¸é€šè¿‡/æ‹‰é»‘è¯„è®º</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-5" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-5">  åˆ é™¤ä»»ä½•è¯„è®º</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-6" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-6">  æ‹‰é»‘åçš„æ˜¾ç¤ºé€»è¾‘ã€‚ï¼ˆä¿ç•™å½“å‰åŒºå—ã€æ˜¾ç¤ºå†…å®¹ä¸ºï¼šè¯¥è¯„è®ºå› è¿è§„è¢«æ‹‰é»‘ï¼‰</label></li>
<li>åˆ é™¤ï¼šï¼ˆå¦‚æœæ˜¯äºŒçº§è¯„è®ºï¼Œç›´æ¥è½¯åˆ é™¤ï¼Œå¦‚æœæ˜¯ä¸€çº§è¯„è®ºï¼Œè½¯åˆ é™¤å­è¯„è®ºå’Œå½“å‰è¯„è®º-éœ€è¦æå‰æé†’ç”¨æˆ·ï¼‰<br>
äº¤äº’è®¾è®¡</li>
<li>è¯„è®ºçš„å­—æ•°é•¿åº¦ï¼ˆ500ï¼‰ã€emojiã€‚</li>
<li>ç‚¹èµäº¤äº’-åŠ¨ç”»ã€æ¶ˆæ¯é€šçŸ¥/æ¨é€</li>
<li>è¯„è®ºåŒºåŸŸå…ƒç´ ï¼Œéœ€è¦æœ‰æ˜ç¡®å¯ç‚¹å‡»çš„åŒºåŸŸï¼Œä¼šè·³è½¬åˆ°å“ªä¸ªåœ°æ–¹ã€‚</li>
</ul>
<h3>ä¼˜åŒ–</h3>
<ul>
<li>ç²¾é€‰è¯„è®º</li>
</ul>
<h2>æ’è¡Œæ¦œè§è§£</h2>
<p>æ’è¡Œæ¦œä»å¿ƒç†å­¦ä¸Šåˆ†æï¼Œä¸»è¦ä»å››ä¸ªæ–¹é¢å½±å“ç€æ‚¨ï¼š<strong>å¯»æ‰¾æƒå¨ ã€å‚ä¸æ¯”è¾ƒ ã€å…³æ³¨ä¸»æµ ã€è‡ªæˆ‘ç¡®è®¤ã€‚</strong></p>
<p>å¦‚ä½•è®¾è®¡ä¸€ä¸ªç®€å•çš„æ’è¡Œæ¦œå‘¢ã€‚ã€‚</p>
<p>åœ¨ä¸€ä¸ªåšå®¢éšç¬”ä¸­ï¼Œæˆ‘ä»¬è®¾è®¡ä¸€ä¸ª3å¤©ã€ä¸ƒå¤©ï¼ˆå‘¨æ¦œï¼‰ã€30å¤©ï¼ˆæœˆæ¦œï¼‰ã€å…¨éƒ¨çš„æ¦œå•ã€‚ä»¥æµè§ˆé‡ï¼ˆæƒé‡1ï¼‰ã€ç‚¹èµé‡ï¼ˆ20ï¼‰ã€è¯„è®ºé‡ï¼ˆ30)ã€‚æƒé‡å¯è‡ªå·±å®šä¹‰ã€‚</p>
<p>1.é»˜è®¤å–æœ€æ–°çš„éšç¬”</p>
<p>å‰å°ä¼ create_timeæ—¶ï¼Œä½¿ç”¨å¦‚ä¸‹sql</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>select * from `blog_article` order by create_time desc;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>2.ä¼ æ’åºæ–¹å¼ä¸ºæœ€è¿‘nå¤©çš„çƒ­æ¦œæ—¶ã€‚</p>
<p>å‚æ•°ï¼šTHREE_DAYS_HOTTESTï¼ˆä¸‰å¤©ï¼‰ã€WEEKLY_HOTTEST(ä¸ƒå¤©ï¼‰ã€MONTHLY_HOTTESTï¼ˆä¸€ä¸ªæœˆï¼‰ã€HOTTESTï¼ˆå…¨éƒ¨ï¼‰</p>
<p>mysql æŸ¥è¯¢å½“å‰æ—¥æœŸæ—¶é—´å‰ä¸‰å¤©æ•°æ®</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>select date_sub(now() ,interval 3 day);</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>æ ¹æ®æƒé‡æŸ¥è¯¢</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>select * from `blog_article` a </span></span>
<span class="line"><span>where a.`create_time`&gt;(select date_sub(now() ,interval 3 day))</span></span>
<span class="line"><span>order by (a.`view_hits` + a.`likes_quantity` * 20 + a.`comment_quantity` * 30) DESC, a.`create_time` DESC</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>åˆ›ä½œè€…ä¸­å¿ƒ</h2>
<h3>ç”¨æˆ·ä¸»é¡µ</h3>
<p>ç»Ÿè®¡å€¼ï¼šé˜…è¯»æ€»æ•°ï¼Œç‚¹èµæ€»æ•°ï¼Œå…³æ³¨è€…æ€»æ•°</p>
<h3>ä¸ªäººè®¾ç½®</h3>
<p>ç”¨æˆ·ä¿¡æ¯ã€å¯†ç ä¿®æ”¹</p>
<h2>æ›´å¤šå‚è€ƒ</h2>
<ul>
<li><a href="http://www.woshipm.com/pd/1255548.html" target="_blank" rel="noopener noreferrer">ä¸‡å­—é•¿æ–‡æ·±åº¦åˆ†æï¼šäº§å“æ’è¡Œæ¦œçš„è®¾è®¡å’Œç©æ³•</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/52322777" target="_blank" rel="noopener noreferrer">æƒ³çŸ¥é“è°æ˜¯ä½ çš„æœ€ä½³ç”¨æˆ·ï¼ŸåŸºäºRediså®ç°æ’è¡Œæ¦œå‘¨æœŸæ¦œä¸æœ€è¿‘NæœŸæ¦œ</a></li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>Lin CMS By .NET</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">Lin CMS By .NET</source>
      <description>Lin CMS By .NET ğŸ˜ƒ A simple and practical CMS implemented by ASP.NET Core 6 æœ¬é¡¹ç›®æ˜¯å®Œå…¨å‡ºäºä¸ªäººå–œçˆ±ï¼Œçœ‹åˆ° Lin-cms æœ‰äº† python,node.js,ç¤¾åŒºä¹Ÿæœ‰äººå‡ºäº†lin-cms-tp5çš„ç‰ˆæœ¬ æœ¬é¡¹ç›®æ˜¯ Lin CMS åç«¯çš„ ASP.NET6 çš„å®ç°ï¼Œé€šè¿‡ Vue....</description>
      <pubDate>Fri, 28 Feb 2020 11:10:31 GMT</pubDate>
      <content:encoded><![CDATA[<p></p>
<h1>Lin CMS By .NET</h1>
<h1 align="center">
  <a href="http://doc.cms.7yue.pro/">
    <img width="200" src="https://consumerminiaclprd01.blob.core.chinacloudapi.cn/miniappbackground/sfgmember/lin/left-logo.png">
  </a>
  </h1><h1>
  </h1>

<p>ğŸ˜ƒ A simple and practical CMS implemented by <a href="https://docs.microsoft.com/zh-cn/aspnet/core/introduction-to-aspnet-core?view=aspnetcore-6.0" target="_blank" rel="noopener noreferrer">ASP.NET Core 6</a></p>
<p>æœ¬é¡¹ç›®æ˜¯å®Œå…¨å‡ºäºä¸ªäººå–œçˆ±ï¼Œçœ‹åˆ° Lin-cms æœ‰äº† python,node.js,ç¤¾åŒºä¹Ÿæœ‰äººå‡ºäº†<a href="https://github.com/ChenJinchuang/lin-cms-tp5" target="_blank" rel="noopener noreferrer">lin-cms-tp5</a>çš„ç‰ˆæœ¬</p>
<p>æœ¬é¡¹ç›®æ˜¯ Lin CMS åç«¯çš„ <a href="https://docs.microsoft.com/zh-cn/dotnet/core/introduction" target="_blank" rel="noopener noreferrer">ASP.NET6</a> çš„å®ç°ï¼Œé€šè¿‡ Vue.js å®ç°çš„å‰åç«¯åˆ†ç¦» CMS å¹³å°ï¼Œç›®å‰å®ç°ç®€çº¦çš„æƒé™ç®¡ç†ç³»ç»Ÿã€åŸºç¡€å­—å…¸é¡¹ç®¡ç†ã€éšç¬”ä¸“æ ï¼Œè¯„è®ºç‚¹èµï¼Œæ¶ˆæ¯é€šçŸ¥ï¼Œæ ‡ç­¾ç­‰ä»¿æ˜é‡‘æ¨¡å—ã€‚</p>
<h2>ä»€ä¹ˆæ˜¯ Lin CMSï¼Ÿ</h2>
<p>Lin-CMS æ˜¯æ—é—´æœ‰é£å›¢é˜Ÿç»è¿‡å¤§é‡é¡¹ç›®å®è·µæ‰€æç‚¼å‡ºçš„ä¸€å¥—<strong>å†…å®¹ç®¡ç†ç³»ç»Ÿæ¡†æ¶</strong>ã€‚Lin-CMS å¯ä»¥æœ‰æ•ˆçš„å¸®åŠ©å¼€å‘è€…æé«˜ CMS çš„å¼€å‘æ•ˆç‡, éœ€è¦å‰ç«¯ï¼Ÿè¯·è®¿é—®<a href="https://github.com/TaleLin/lin-cms-vue" target="_blank" rel="noopener noreferrer"><strong>å‰ç«¯ä»“åº“</strong></a>ã€‚å®˜æ–¹å›¢é˜Ÿäº§å“äº†è§£è¯·è®¿é—®<a href="https://github.com/TaleLin" target="_blank" rel="noopener noreferrer"><strong>TaleLin</strong></a></p>
<h2>å¼€æºåœ°å€</h2>
<ul>
<li>åç«¯æ¥å£ Gitee é“¾æ¥ <a href="https://gitee.com/igeekfan/lin-cms-dotnetcore" target="_blank" rel="noopener noreferrer">https://gitee.com/igeekfan/lin-cms-dotnetcore</a></li>
<li>åç«¯æ¥å£ GitHub é“¾æ¥ <a href="https://github.com/luoyunchong/lin-cms-dotnetcore" target="_blank" rel="noopener noreferrer">https://github.com/luoyunchong/lin-cms-dotnetcore</a></li>
<li>é€‚é…ç®¡ç†ç«¯ UI <a href="https://github.com/luoyunchong/lin-cms-vue" target="_blank" rel="noopener noreferrer">https://github.com/luoyunchong/lin-cms-vue</a></li>
<li>é€‚é…ç”¨æˆ·ç«¯ UI <a href="https://github.com/luoyunchong/lin-cms-vvlog" target="_blank" rel="noopener noreferrer">https://github.com/luoyunchong/lin-cms-vvlog</a></li>
</ul>
<h2>çº¿ä¸Šæ–‡æ¡£åœ°å€(å®Œå–„ä¸­)</h2>
<ul>
<li><a href="https://luoyunchong.github.io/igeekfan-docs/dotnetcore/lin-cms/" target="_blank" rel="noopener noreferrer">https://luoyunchong.github.io/igeekfan-docs/dotnetcore/lin-cms/</a></li>
<li><a href="https://igeekfan.gitee.io/igeekfan-docs/dotnetcore/lin-cms/" target="_blank" rel="noopener noreferrer">https://igeekfan.gitee.io/igeekfan-docs/dotnetcore/lin-cms/</a></li>
</ul>
<h2>çº¿ä¸Š Demo</h2>
<ul>
<li>æœ¬é¡¹ç›® swagger åœ°å€ <a href="https://api.igeekfan.cn/swagger/index.html" target="_blank" rel="noopener noreferrer">https://api.igeekfan.cn/swagger/index.html</a></li>
<li>ç”¨æˆ·ç«¯ lin-cms-vvlog <a href="https://vvlog.igeekfan.cn" target="_blank" rel="noopener noreferrer">https://vvlog.igeekfan.cn</a>
<ul>
<li>æ™®é€šç”¨æˆ·ï¼š710277267@qq.com</li>
<li>å¯†ç ï¼š123qwe</li>
</ul>
</li>
<li>ç®¡ç†å‘˜ lin-cms-vue <a href="https://cms.igeekfan.cn" target="_blank" rel="noopener noreferrer">https://cms.igeekfan.cn/</a>
<ul>
<li>ç®¡ç†å‘˜ï¼š admin</li>
<li>å¯†ç ï¼š123qwe</li>
</ul>
</li>
</ul>
<h2>å‰ç«¯</h2>
<ul>
<li>åœ¨åŸ<a href="https://github.com/TaleLin/lin-cms-vue" target="_blank" rel="noopener noreferrer">å¼€æºé¡¹ç›®</a>ä¸­å¢åŠ äº†åšå®¢éšç¬”ã€æ ‡ç­¾ã€éšç¬”è¯„è®ºã€å…³æ³¨ç”¨æˆ·ã€å…³æ³¨æ ‡ç­¾ã€æŠ€æœ¯é¢‘é“ï¼ˆæ ‡ç­¾åˆ†ç±»ï¼‰ã€æ’ä»¶å¼åŠŸèƒ½ï¼ˆç›®å‰è¿˜æ²¡æœ‰ï¼‰<br>
ï¼Œå…·ä½“ç‰¹ç‚¹æŸ¥çœ‹å¦‚ä¸‹<a href="https://blog.igeekfan.cn/2019/11/24/lin-cms-dotnetcore/design/" target="_blank" rel="noopener noreferrer">lin-cms-dotnetcore åŠŸèƒ½æ¨¡å—çš„è®¾è®¡</a>,å¼€æºåœ°å€è§ä¸‹æ–¹ã€‚</li>
</ul>
<h3>Lin CMS çš„ç‰¹ç‚¹</h3>
<p>Lin CMS çš„æ„ç­‘æ€æƒ³æ˜¯æœ‰å…¶è‡ªèº«ç‰¹ç‚¹çš„ã€‚ä¸‹é¢æˆ‘ä»¬é˜è¿°ä¸€äº› Lin çš„ä¸»è¦ç‰¹ç‚¹ã€‚</p>
<h3>Lin CMS æ˜¯ä¸€ä¸ªå‰åç«¯åˆ†ç¦»çš„ CMS è§£å†³æ–¹æ¡ˆ</h3>
<p>è¿™æ„å‘³ç€ï¼ŒLin æ—¢æä¾›åå°çš„æ”¯æ’‘ï¼Œä¹Ÿæœ‰ä¸€å¥—å¯¹åº”çš„å‰ç«¯ç³»ç»Ÿï¼Œ</p>
<p>é¦–å…ˆï¼Œä¼ ç»Ÿçš„ç½‘ç«™å¼€å‘æ›´å¤šçš„æ˜¯é‡‡ç”¨æœåŠ¡ç«¯æ¸²æŸ“çš„æ–¹å¼ï¼Œéœ€ç”¨ä½¿ç”¨ä¸€ç§æ¨¡æ¿è¯­è¨€åœ¨æœåŠ¡ç«¯å®Œæˆé¡µé¢æ¸²æŸ“ï¼šæ¯”å¦‚ Razor ç­‰æ¨¡æ¿æŠ€æœ¯ã€‚</p>
<p>æœåŠ¡ç«¯æ¸²æŸ“çš„å¥½å¤„åœ¨äºå¯ä»¥æ¯”è¾ƒå¥½çš„æ”¯æŒ SEOï¼Œä½†ä½œä¸ºå†…éƒ¨ä½¿ç”¨çš„ CMS ç®¡ç†ç³»ç»Ÿï¼ŒSEO å¹¶ä¸é‡è¦ã€‚</p>
<p>ä½†ä¸€ä¸ªä¸å¯å¿½è§†çš„äº‹å®æ˜¯ï¼ŒæœåŠ¡å™¨æ¸²æŸ“çš„é¡µé¢åˆ°åº•æ˜¯ç”±å‰ç«¯å¼€å‘è€…æ¥å®Œæˆï¼Œè¿˜æ˜¯ç”±æœåŠ¡å™¨å¼€å‘è€…æ¥å®Œæˆï¼Ÿå…¶å®éƒ½ä¸å¤ªåˆé€‚ã€‚ç°åœ¨å·²ç»æ²¡æœ‰å¤šå°‘å‰ç«¯å¼€å‘è€…æ˜¯äº†è§£è¿™äº›æœåŠ¡ç«¯æ¨¡æ¿è¯­è¨€çš„ï¼Œè€ŒæœåŠ¡å™¨å¼€å‘è€…æœ¬èº«æ˜¯ä¸å¤ªæ“…é•¿å¼€å‘é¡µé¢çš„ã€‚é‚£è¿˜æ˜¯åˆ†å¼€å§ï¼Œå‰ç«¯ç”¨æœ€ç†Ÿæ‚‰çš„ Vue å†™ JS å’Œ CSSï¼Œè€ŒæœåŠ¡å™¨åªå…³æ³¨è‡ªå·±çš„ API å³å¯ã€‚</p>
<p>å…¶æ¬¡ï¼Œå•é¡µé¢åº”ç”¨ç¨‹åºçš„ä½“éªŒæœ¬èº«å°±è¦å¥½äºä¼ ç»Ÿç½‘ç«™ã€‚</p>
<h3>æ¡†æ¶æœ¬èº«å·²å†…ç½®äº† CMS å¸¸ç”¨çš„åŠŸèƒ½</h3>
<p>Lin å·²ç»å†…ç½®äº† CMS ä¸­æœ€ä¸ºå¸¸è§çš„éœ€æ±‚ï¼šç”¨æˆ·ç®¡ç†ã€æƒé™ç®¡ç†ã€æ—¥å¿—ç³»ç»Ÿç­‰ã€‚å¼€å‘è€…åªéœ€è¦é›†ä¸­ç²¾åŠ›å¼€å‘è‡ªå·±çš„ CMS ä¸šåŠ¡å³å¯</p>
<p>æ›´å¤šå…³äº Lin CMS çš„ä»‹ç»è¯·è®¿é—®<a href="https://igeekfan.cn" target="_blank" rel="noopener noreferrer">Lin CMS çº¿ä¸Šæ–‡æ¡£</a></p>
<h2>æ‰€éœ€åŸºç¡€</h2>
<p>ç”±äº Lin é‡‡ç”¨çš„æ˜¯å‰åç«¯åˆ†ç¦»çš„æ¶æ„ï¼Œæ‰€ä»¥ä½ è‡³å°‘éœ€è¦ç†Ÿæ‚‰ C# å’Œ Vueã€‚</p>
<h3>åç«¯ C#</h3>
<p>è¯¥é¡¹ç›®çš„ Lin çš„æœåŠ¡ç«¯æ¡†æ¶æ˜¯åŸºäº<a href="https://docs.microsoft.com/zh-cn/dotnet/core/" target="_blank" rel="noopener noreferrer">.NET6</a>æ„å»ºçš„ï¼Œæ‰€ä»¥å¦‚æœä½ æ¯”è¾ƒç†Ÿæ‚‰ Mvcã€WebAPIã€è¿‡æ»¤å™¨ç­‰æ¦‚å¿µï¼Œæˆ–è€…æ˜¯ <a href="http://xn--8ov.NET" target="_blank" rel="noopener noreferrer">æœ‰.NET</a> Framework ä¸­ Mvc å¼€å‘ç»éªŒï¼Œç›¸ä¿¡ä½ ä¸€å®šå¾ˆå®¹æ˜“å†™å‡ºä»£ç ã€‚</p>
<h3>ç›¸å…³æŠ€æœ¯</h3>
<ul>
<li>æ•°æ®åº“ç›¸å…³ï¼šORM:<a href="https://github.com/dotnetcore/FreeSql" target="_blank" rel="noopener noreferrer">FreeSql</a>+æ•°æ®åº“æ”¯æŒ:MySQL/MsSqlServer/Oracle/Sqlite/PostgreSQLåŠæ›´å¤šå›½äº§åŒ–æ•°æ®åº“</li>
<li><a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Core 6 +WebAPI+RESTful</li>
<li>ç®€åŒ–å¯¹è±¡æ˜ å°„ï¼š<a href="https://automapper.org/" target="_blank" rel="noopener noreferrer">AutoMapper</a></li>
<li>èº«ä»½è®¤è¯æ¡†æ¶ï¼š<a href="https://github.com/IdentityServer/IdentityServer4" target="_blank" rel="noopener noreferrer">IdentityServer4</a></li>
<li>Json Web ä»¤ç‰Œ:JWT</li>
<li>æ–‡æ¡£ API
<ul>
<li>Swagger(<a href="https://github.com/domaindrivendev/Swashbuckle.AspNetCore" target="_blank" rel="noopener noreferrer">Swashbuckle.AspNetCore</a>)</li>
<li>RapiDoc(<a href="https://github.com/luoyunchong/IGeekFan.AspNetCore.RapiDoc" target="_blank" rel="noopener noreferrer">RapiDoc</a>)</li>
<li>Knife4jUI(<a href="https://github.com/luoyunchong/IGeekFan.AspNetCore.Knife4jUI" target="_blank" rel="noopener noreferrer">Knife4jUI</a>)</li>
</ul>
</li>
<li>åºåˆ—åŒ–ï¼šNewtonsoft.Json</li>
<li>æµ‹è¯•æ¡†æ¶ï¼šXunit</li>
<li>æ—¥å¿— <a href="https://github.com/serilog/serilog-aspnetcore" target="_blank" rel="noopener noreferrer">Serilog</a></li>
<li>ä¾èµ–æ³¨å…¥æœåŠ¡<a href="https://github.com/autofac/Autofac.Extensions.DependencyInjection" target="_blank" rel="noopener noreferrer">AutoFac</a></li>
<li>é€šç”¨æ‰©å±•æ–¹æ³• Z.ExtensionMethods</li>
<li>äº‘å­˜å‚¨ï¼šä¸ƒç‰›äº‘ <a href="https://github.com/Hello-Mango/MQiniu.Core" target="_blank" rel="noopener noreferrer">MQiniu.Core</a></li>
<li>åˆ†å¸ƒå¼äº‹åŠ¡ã€EventBusï¼š<a href="https://github.com/dotnetcore/CAP" target="_blank" rel="noopener noreferrer">DotNeteCore.CAP</a></li>
<li>GitHub ç¬¬ä¸‰æ–¹æˆæƒç™»å½•<a href="https://github.com/aspnet-contrib/AspNet.Security.OAuth.Providers/tree/dev/src/AspNet.Security.OAuth.GitHub" target="_blank" rel="noopener noreferrer">AspNet.Security.OAuth.GitHub</a></li>
<li>QQ ç¬¬ä¸‰æ–¹æˆæƒç™»å½•<a href="https://github.com/aspnet-contrib/AspNet.Security.OAuth.Providers/tree/dev/src/AspNet.Security.OAuth.QQ" target="_blank" rel="noopener noreferrer">AspNet.Security.OAuth.QQ</a></li>
<li>Gitee ç¬¬ä¸‰æ–¹æˆæƒç™»å½•<a href="https://github.com/aspnet-contrib/AspNet.Security.OAuth.Providers/tree/dev/src/AspNet.Security.OAuth.Gitee" target="_blank" rel="noopener noreferrer">AspNet.Security.OAuth.Gitee</a></li>
<li><a href="https://docs.docker.com/" target="_blank" rel="noopener noreferrer">Docker</a></li>
<li><a href="https://dev.azure.com/" target="_blank" rel="noopener noreferrer">Azure DevOps</a></li>
<li>å¥åº·æ£€æŸ¥<a href="https://github.com/xabaril/AspNetCore.Diagnostics.HealthChecks" target="_blank" rel="noopener noreferrer">AspNetCore.HealthChecks.UI.Client</a></li>
<li><a href="https://help.github.com/en/actions" target="_blank" rel="noopener noreferrer">GitHub Action</a></li>
</ul>
<h3>å®è·µ</h3>
<ul>
<li>DDD(Domain-Driven Design)é¢†åŸŸé©±åŠ¨è®¾è®¡</li>
<li>Loggingï¼ˆæ—¥å¿—ï¼‰</li>
<li>DevOps(CI/CD,è‡ªåŠ¨åŒ–æ„å»º)</li>
<li>Database Migrationsï¼ˆæ•°æ®åº“è‡ªåŠ¨è¿ç§»)</li>
<li>Authentication(èº«ä»½è®¤è¯)</li>
<li>Authorizationï¼ˆæˆæƒï¼‰</li>
<li>Separation of Concernsï¼ˆå…³æ³¨ç‚¹åˆ†ç¦»ï¼‰</li>
<li>Repository Patternï¼ˆä»“å‚¨æ¨¡å¼ï¼‰</li>
<li>SOLID Principlesï¼ˆå•ä¸€èŒè´£ï¼‰</li>
<li>Clean Codeï¼ˆä»£ç æ•´æ´ä¹‹é“ï¼‰</li>
</ul>
<h3>åˆ†å±‚ç»“æ„ï¼ˆLayersï¼‰</h3>
<ul>
<li>identityserver4
<ul>
<li>LinCms.IdentityServer4:ä½¿ç”¨ id4 æˆæƒç™»å½•</li>
</ul>
</li>
<li>src
<ul>
<li><a href="http://LinCms.Web" target="_blank" rel="noopener noreferrer">LinCms.Web</a>ï¼šæ¥å£ APIï¼ˆ<a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Core)</li>
<li>LinCms.Application:åº”ç”¨æœåŠ¡</li>
<li>LinCms.Application.Contracts:DTO,æ•°æ®ä¼ è¾“å¯¹è±¡ï¼Œåº”ç”¨æœåŠ¡æ¥å£</li>
<li>LinCms.Infrastructure:åŸºç¡€è®¾æ–½ï¼Œæ•°æ®åº“æŒä¹…æ€§çš„æ“ä½œ</li>
<li>LinCms.Core:è¯¥åº”ç”¨çš„æ ¸å¿ƒï¼Œå®ä½“ç±»ï¼Œé€šç”¨æ“ä½œç±»ï¼ŒAOP æ‰©å±•ï¼Œåˆ†é¡µå¯¹è±¡ï¼ŒåŸºç¡€ä¾èµ–å¯¹è±¡æ¥å£ï¼Œæ—¶é—´æ‰©å±•æ–¹æ³•ï¼Œå½“å‰ç”¨æˆ·ä¿¡æ¯ï¼Œå¼‚å¸¸ç±»ï¼Œå€¼å¯¹è±¡</li>
<li>LinCms.Plugins ä½¿ç”¨å•é¡¹ç›®å®ç°æŸä¸ªä¸šåŠ¡çš„æ‰©å±•ï¼Œä¸æ˜¯è¯¥é¡¹ç›®çš„ä¸»è¦ç»“æ„ï¼Œå¯æš‚æ—¶å¿½ç•¥ã€‚</li>
<li>LinCms.Scaffolding <a href="https://igeekfan.gitee.io/igeekfan-docs/dotnetcore/lin-cms/lincms-scaffolding.html" target="_blank" rel="noopener noreferrer">ä»£ç ç”Ÿæˆå™¨</a></li>
</ul>
</li>
<li>test
<ul>
<li>LinCms.Test:å¯¹ä»“å‚¨ï¼Œåº”ç”¨æœåŠ¡æˆ–å·¥å…·ç±»è¿›è¡Œæµ‹è¯•</li>
</ul>
</li>
</ul>
<h3>å‰ç«¯</h3>
<p>å‰ç«¯éœ€è¦å¼€å‘è€…æ¯”è¾ƒç†Ÿæ‚‰ Vue çš„ï¼Œå¦å¤–éœ€è¦äº†è§£ ES6,Axios,Element Plusã€webpackã€Vuexã€Vue-Router ç­‰ç­‰ç­‰</p>
<h2>æ›´æ–°æ—¥å¿—</h2>
<p><a href="https://github.com/luoyunchong/lin-cms-dotnetcore/wiki/%E6%9B%B4%E6%96%B0%E6%97%A5%E5%BF%97" target="_blank" rel="noopener noreferrer">https://github.com/luoyunchong/lin-cms-dotnetcore/wiki/%E6%9B%B4%E6%96%B0%E6%97%A5%E5%BF%97</a></p>
]]></content:encoded>
    </item>
    <item>
      <title>è·å–æ§åˆ¶å™¨åŠæ–¹æ³•ç‰¹æ€§æ ‡ç­¾</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/Reflex-Assembly.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/Reflex-Assembly.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">è·å–æ§åˆ¶å™¨åŠæ–¹æ³•ç‰¹æ€§æ ‡ç­¾</source>
      <description>è·å–æ§åˆ¶å™¨åŠæ–¹æ³•ç‰¹æ€§æ ‡ç­¾ .NET Core åå°„è·å–æ‰€æœ‰æ§åˆ¶å™¨åŠæ–¹æ³•ä¸Šç‰¹å®šæ ‡ç­¾. æœ‰ä¸ªéœ€æ±‚ï¼Œå°±æ˜¯åœ¨. NET Core ä¸­ï¼Œæˆ‘ä»¬æƒ³åœ¨é¡¹ç›® å¯åŠ¨æ—¶ï¼Œè·å– LinCmsAuthorizeAttribute è¿™ä¸ªç‰¹æ€§æ ‡ç­¾æ‰€æœ‰å‡ºç°çš„åœ°æ–¹ï¼ŒæŠŠä»–çš„å‚æ•°ï¼Œæ”¾å…¥ä¸€ä¸ªé›†åˆå¹¶ç¼“å­˜èµ·æ¥ï¼Œä»¥ä¾¿åé¢ä½¿ç”¨æ­¤æ•°æ®ç”¨äºæƒé™éªŒè¯ã€‚ æˆ‘ä»¬é€šè¿‡åå°„è·å–æ‰€æœ‰æ§åˆ¶å™¨ä¸‹åŠæ–¹æ³•çš„ Attribu...</description>
      <pubDate>Fri, 28 Feb 2020 11:10:31 GMT</pubDate>
      <content:encoded><![CDATA[
<blockquote>
<p>.NET Core åå°„è·å–æ‰€æœ‰æ§åˆ¶å™¨åŠæ–¹æ³•ä¸Šç‰¹å®šæ ‡ç­¾.</p>
</blockquote>
<p>æœ‰ä¸ªéœ€æ±‚ï¼Œå°±æ˜¯åœ¨. NET Core ä¸­ï¼Œæˆ‘ä»¬æƒ³åœ¨é¡¹ç›® å¯åŠ¨æ—¶ï¼Œè·å– LinCmsAuthorizeAttribute è¿™ä¸ªç‰¹æ€§æ ‡ç­¾æ‰€æœ‰å‡ºç°çš„åœ°æ–¹ï¼ŒæŠŠä»–çš„å‚æ•°ï¼Œæ”¾å…¥ä¸€ä¸ªé›†åˆå¹¶ç¼“å­˜èµ·æ¥ï¼Œä»¥ä¾¿åé¢ä½¿ç”¨æ­¤æ•°æ®ç”¨äºæƒé™éªŒè¯ã€‚</p>
<p>æˆ‘ä»¬é€šè¿‡åå°„è·å–æ‰€æœ‰æ§åˆ¶å™¨ä¸‹åŠæ–¹æ³•çš„ Attributeã€‚</p>
<h2>LinCmsAuthorizeAttribute æ˜¯ä»€ä¹ˆ</h2>
<p>å…¶ä»£ç éå¸¸ç®€å•ï¼Œç”¨äºè‡ªå®šä¹‰æƒé™éªŒè¯ï¼Œé€šè¿‡é‡å†™ OnAuthorizationAsync æ–¹æ³•ï¼Œå®ç°å›ºå®šæƒé™å¯åˆ†é…ç»™åŠ¨æ€è§’è‰²ï¼ˆä¹Ÿèƒ½åˆ†é…ç»™åŠ¨æ€ç”¨æˆ·ï¼‰ã€‚ä¸»è¦å°±<strong>åŸºäºæƒé™çš„æˆæƒ</strong>çš„å®ç°è¿›è¡Œç ”ç©¶ï¼Œå®ç°æ–¹æ³•çº§åˆ«çš„æƒé™éªŒè¯ã€‚</p>
<ul>
<li><a href="https://www.cnblogs.com/RainingNight/p/dynamic-authorization-in-aspnetcore.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/RainingNight/p/dynamic-authorization-in-aspnetcore.html</a></li>
</ul>
<p>å½“ç„¶ï¼Œè¿™ä¸ªåªæ˜¯éƒ¨åˆ†ä»£ç ï¼Œå®Œæ•´ä»£ç è¯·æŸ¥çœ‹æœ€ä¸‹æ–¹å¼€æºåœ°å€ï¼Œå…¶ä¸­ LinCmsAuthorizeAttribute ç»§æ‰¿ AuthorizeAttributeï¼Œæ‹¥æœ‰æŒ‡å®šè§’è‰²æƒé™æ§åˆ¶ï¼Œå½“ Permission æœªæŒ‡å®šæ—¶ï¼Œå½“è¿‡æ»¤å™¨ä¸ Authorize åŠŸèƒ½ç›¸åŒã€‚Module æ˜¯æŒ‡æ¨¡å—ï¼Œå³å¤šä¸ªæƒé™ï¼Œå±äºåŒä¸€ä¸ªæ¨¡å—ï¼Œæ–¹ä¾¿å‰å°å±•ç¤ºä¸ºæ ‘å‹ç»“æ„ã€‚Permission å±æ€§çš„å€¼ä¸å¯é‡å¤ã€‚</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AttributeUsage</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">AttributeTargets</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Class</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> |</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> AttributeTargets</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Method</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF">AllowMultiple</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> LinCmsAuthorizeAttribute</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AuthorizeAttribute</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IAsyncAuthorizationFilter</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> Permission</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> Module</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> LinCmsAuthorizeAttribute</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> LinCmsAuthorizeAttribute</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> permission</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> module</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">        Permission</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> permission</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">        Module</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> module</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> LinCmsAuthorizeAttribute</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> permission</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> module</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> policy</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">) : </span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B">base</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">policy</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">        Permission</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> permission</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">        Module</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> module</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Task</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> OnAuthorizationAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">AuthorizationFilterContext</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> context</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">Permission</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> ==</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">return</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> authorizationService</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IAuthorizationService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">context</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">HttpContext</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">RequestServices</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IAuthorizationService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> authorizationResult</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> authorizationService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AuthorizeAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">context</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">HttpContext</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">User</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">null</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> OperationAuthorizationRequirement</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">() { </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">Name</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> Permission</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> });</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">authorizationResult</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Succeeded</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            context</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Result</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> ForbidResult</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> override</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> ToString</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> $"</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\"</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">{</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B">base</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToString</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">()}</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\"</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\"</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">Permission:{</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">Permission</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">}</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\"</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\"</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">Module:{</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">Module</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">}</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\"</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\"</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">Roles:{</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">Roles</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">}</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\"</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\"</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">Policy:{</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">Policy</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">}</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\"</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\"</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">AuthenticationSchemes:{</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">AuthenticationSchemes</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">}</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\"</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>Controller</h2>
<p>åœ¨ <a href="http://LinCms.Web" target="_blank" rel="noopener noreferrer">LinCms.Web</a> ä¸­çš„ Controllerï¼Œè‡³äºä¸ºä»€ä¹ˆ Permission ä¸ºä¸­æ–‡ï¼Œç›®å‰çš„ä¸»è¦åŸå› ï¼Œæ­¤é¡¹ç›®ç”¨äºé€‚é… <a href="https://github.com/TaleLin/lin-cms-vue" target="_blank" rel="noopener noreferrer">Lin-CMS-VUE</a>é¡¹ç›®,æ‰€ä»¥äºå¹³å¸¸æˆ‘ä»¬ä»¥æŸä¸ªå­—ç¬¦ä¸²ä½œä¸ºæƒé™åä¸åŒï¼Œä½†ä¸é¡»å¤§æƒŠå°æ€ªï¼Œé“ç†ç›¸åŒã€‚</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Route</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"cms/log"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ApiController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> LogController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ControllerBase</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> readonly</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> ILogService</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> _logService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> LogController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ILogService</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> logService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">        _logService</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> logService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpGet</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"users"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">LinCmsAuthorize</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"æŸ¥è¯¢æ—¥å¿—è®°å½•çš„ç”¨æˆ·"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"æ—¥å¿—"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> List</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetLoggedUsers</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">([</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FromQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">PageDto</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> pageDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _logService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetLoggedUsers</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">pageDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpGet</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">LinCmsAuthorize</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"æŸ¥è¯¢æ‰€æœ‰æ—¥å¿—"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"æ—¥å¿—"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> PagedResultDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">LinLog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetLogs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">([</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FromQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">LogSearchDto</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> searchDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _logService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetLogUsers</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">searchDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpGet</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"search"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">LinCmsAuthorize</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"æœç´¢æ—¥å¿—"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"æ—¥å¿—"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> PagedResultDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">LinLog</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">SearchLogs</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">([</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">FromQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">LogSearchDto</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> searchDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _logService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetLogUsers</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">searchDto</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>æµ‹è¯•ç±»è·å–æ–¹æ³•ä¸Šçš„ç‰¹å®šæ ‡ç­¾</h2>
<p>in xunit test é¡¹ç›®å·¥ç¨‹ä¸­ï¼Œå¼€å§‹æˆ‘ä»¬çš„æµ‹è¯•</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Fact</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> GetAssemblyMethodsAttributes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> assembly</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Startup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Assembly</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetTypes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AsEnumerable</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Where</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">type</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ControllerBase</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">IsAssignableFrom</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">type</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToList</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    assembly</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ForEach</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">r</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        foreach</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> methodInfo</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> r</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetMethods</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            foreach</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Attribute</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> attribute</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> methodInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetCustomAttributes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">                if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">attribute</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> is</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> LinCmsAuthorizeAttribute</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> linCmsAuthorize</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">                    _testOutputHelper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">linCmsAuthorize</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToString</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">                }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>æ–¹æ³•ç»“æœ</h2>
<p>å¯åœ¨è¾“å‡ºæ–‡æœ¬ä¸­æŸ¥çœ‹ï¼Œæ­£æ˜¯æˆ‘ä»¬æƒ³è¦çš„ä¸œè¥¿ï¼Œæœ€åä¸€è¡Œï¼Œæ˜¯å…¶ä»– Controller ä¸­çš„å†…å®¹ï¼Œè€Œä¸”æˆ‘ä»¬é‡å†™äº† ToString(),æ‰€ä»¥æˆ‘ä»¬èƒ½çœ‹åˆ°å…¶å±æ€§ã€‚</p>
<div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>"LinCms.Zero.Authorization.LinCmsAuthorizeAttribute","Permission:æŸ¥è¯¢æ—¥å¿—è®°å½•çš„ç”¨æˆ·","Module:æ—¥å¿—","Roles:","Policy:","AuthenticationSchemes:"</span></span>
<span class="line"><span>"LinCms.Zero.Authorization.LinCmsAuthorizeAttribute","Permission:æŸ¥è¯¢æ‰€æœ‰æ—¥å¿—","Module:æ—¥å¿—","Roles:","Policy:","AuthenticationSchemes:"</span></span>
<span class="line"><span>"LinCms.Zero.Authorization.LinCmsAuthorizeAttribute","Permission:æœç´¢æ—¥å¿—","Module:æ—¥å¿—","Roles:","Policy:","AuthenticationSchemes:"</span></span>
<span class="line"><span>"LinCms.Zero.Authorization.LinCmsAuthorizeAttribute","Permission:æŸ¥çœ‹linçš„ä¿¡æ¯","Module:ä¿¡æ¯","Roles:","Policy:","AuthenticationSchemes:"</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>è·å–æ§åˆ¶å™¨ä¸Šç‰¹æ€§æ ‡ç­¾</h2>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/// è·å–æ§åˆ¶å™¨ä¸Šçš„LinCmsAuthorizeAttribute</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/// "LinCms.Zero.Authorization.LinCmsAuthorizeAttribute","Permission:","Module:","Roles:Administrator","Policy:","AuthenticationSchemes:"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Fact</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> GetControllerAttributes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> assembly</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Startup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Assembly</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetTypes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AsEnumerable</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Where</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">type</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ControllerBase</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">IsAssignableFrom</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">type</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToList</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    assembly</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ForEach</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">d</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> linCmsAuthorize</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> d</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetCustomAttribute</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">LinCmsAuthorizeAttribute</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">linCmsAuthorize</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> !=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">            _testOutputHelper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">WriteLine</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">linCmsAuthorize</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToString</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>Controller ç»“æœ</h2>
<p>åªæœ‰ AdminController åŠ äº†æ­¤æ ‡ç­¾ï¼Œæ‰€ä»¥åªæœ‰ä¸€è¡Œã€‚</p>
<div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>"LinCms.Zero.Authorization.LinCmsAuthorizeAttribute","Permission:","Module:","Roles:Administrator","Policy:","AuthenticationSchemes:"</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>æ­¤æ—¶ Roles ä¸º Administratorï¼ŒPermission åŠ Module éƒ½æ˜¯ nullï¼Œ<br>
è¿™æ˜¯å› ä¸ºåªæœ‰ AdminController ä¸­åŠ äº† LinGroup.Administrator="Administrator"å­—ç¬¦ä¸²ï¼Œåœ¨ç™»å½•è¿‡ç¨‹ä¸­ï¼Œå·²ç»ç»™å½“å‰ç™»å½•ç”¨æˆ·è®¾ç½®äº† new Claim(ClaimTypes.Role,user.IsAdmin()?LinGroup.Administrator:user.GroupId.ToString())ï¼Œå³"Administrator,å½“ç”¨æˆ·è®¿é—® AdminController ä¸­çš„æ–¹æ³•æ—¶ï¼ŒLinCmsAuthorize å¹¶æ²¡æœ‰åšç›¸å…³éªŒè¯ï¼Œéƒ½æ˜¯ AuthorizeAttributeï¼Œå®ç°äº†å›ºå®šè§’è‰²æƒé™çš„åˆ¤æ–­åŠç™»å½•çš„åˆ¤æ–­ã€‚LinCmsAuthorize å®Œæˆäº†å›ºå®šæƒé™è®¾ç½®ä¸ºä¸åŒçš„åŠ¨æ€è§’è‰²åï¼Œåˆ¤æ–­ç”¨æˆ·æ˜¯å¦æ‹¥æœ‰æ­¤æƒé™ã€‚</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">LinCmsAuthorize</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF">Roles</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> LinGroup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Administrator</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> AdminController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ControllerBase</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>å‚è€ƒ</h2>
<ul>
<li>c# â€“ å¦‚ä½•åœ¨ asp. net core rc2 ä¸­è·å–æ§åˆ¶å™¨çš„è‡ªå®šä¹‰å±æ€§ <a href="https://codeday.me/bug/20181207/453278.html" target="_blank" rel="noopener noreferrer">https://codeday.me/bug/20181207/453278.html</a></li>
</ul>
<h2>å¼€æºåœ°å€</h2>
<ul>
<li><a href="github.com/luoyunchong/lin-cms-dotnetcore">github.com/luoyunchong/lin-cms-dotnetcore</a></li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>å…¨å±€æ•æ„Ÿè¯å¤„ç†</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/StopWords.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/StopWords.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">å…¨å±€æ•æ„Ÿè¯å¤„ç†</source>
      <description>å…¨å±€æ•æ„Ÿè¯å¤„ç† åŸºäºToolGood.Wordsç±»åº“ï¼Œé…åˆæ•æ„Ÿå­—çš„æ–‡æœ¬æ–‡ä»¶ï¼Œå†™çš„APIæ¥å£ã€‚ https://github.com/luoyunchong/dotnetcore-examples/tree/master/aspnetcore-stopwords ä¸€å…±äºŒç§æ–¹å¼ 1.ToolGood.Words ç±»åº“é…åˆæ•æ„Ÿåº“ ToolGood.Words...</description>
      <pubDate>Fri, 28 Feb 2020 11:10:31 GMT</pubDate>
      <content:encoded><![CDATA[
<p>åŸºäºToolGood.Wordsç±»åº“ï¼Œé…åˆæ•æ„Ÿå­—çš„æ–‡æœ¬æ–‡ä»¶ï¼Œå†™çš„APIæ¥å£ã€‚</p>
<ul>
<li><a href="https://github.com/luoyunchong/dotnetcore-examples/tree/master/aspnetcore-stopwords" target="_blank" rel="noopener noreferrer">https://github.com/luoyunchong/dotnetcore-examples/tree/master/aspnetcore-stopwords</a></li>
</ul>
<p>ä¸€å…±äºŒç§æ–¹å¼</p>
<h2>1.ToolGood.Words</h2>
<p>ç±»åº“é…åˆæ•æ„Ÿåº“</p>
<ul>
<li><a href="https://github.com/toolgood/ToolGood.Words" target="_blank" rel="noopener noreferrer">ToolGood.Words</a></li>
</ul>
<p>ç®€å•ç”¨æ³•</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>[Fact]</span></span>
<span class="line"><span>public void IssuesTest_17()</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    var illegalWordsSearch = new IllegalWordsSearch();</span></span>
<span class="line"><span>    string s = "ä¸­å›½|zgäºº|abc";</span></span>
<span class="line"><span>    illegalWordsSearch.SetKeywords(s.Split('|'));</span></span>
<span class="line"><span>    var str = illegalWordsSearch.Replace("æˆ‘æ˜¯ä¸­ç¾å›½äººå‰å®³ä¸­å›½å®Œç¾ï½ï½‚ï½ƒddbå¥½çš„", '*');</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    Assert.Equal("æˆ‘æ˜¯ä¸­ç¾å›½äººå‰å®³**å®Œç¾***ddbå¥½çš„", str);</span></span>
<span class="line"><span>}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é…åˆæ•æ„Ÿåº“æ–‡æœ¬æ–‡ä»¶ï¼Œå†™çš„å·¥å…·ç±»</p>
<p>äºŒä¸ªæ–‡ä»¶æ”¾åˆ°wwwroot/_Illegalç›®å½•ä¸‹ï¼Œé€šè¿‡ReplaceStopWordsæ–¹æ³•è°ƒç”¨å³å¯å¯¹</p>
<ul>
<li><a href="https://github.com/toolgood/ToolGood.Words/blob/master/csharp/ToolGood.Words.Test/_Illegal/IllegalKeywords.txt" target="_blank" rel="noopener noreferrer">https://github.com/toolgood/ToolGood.Words/blob/master/csharp/ToolGood.Words.Test/_Illegal/IllegalKeywords.txt</a></li>
<li><a href="https://github.com/toolgood/ToolGood.Words/blob/master/csharp/ToolGood.Words.Test/_Illegal/IllegalUrls.txt" target="_blank" rel="noopener noreferrer">https://github.com/toolgood/ToolGood.Words/blob/master/csharp/ToolGood.Words.Test/_Illegal/IllegalUrls.txt</a></li>
</ul>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>public class ToolGoodUtils</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    //æ•æ„Ÿåº“åªè¦è¿™äºŒä¸ªæ–‡ä»¶å­˜åœ¨å³å¯</span></span>
<span class="line"><span>    //æœ¬åœ°æ•æ„Ÿåº“ç¼“å­˜-https://github.com/toolgood/ToolGood.Words/tree/master/csharp/ToolGood.Words.Test/_Illegal</span></span>
<span class="line"><span>    //å› ä¸ºéœ€è¦ä¸Šä¼ è‡³githubå¹¶åŒæ­¥gitee,å®‰å…¨èµ·è§ï¼Œæ‰€ä»¥æœªä¸Šä¼ è‡³gitï¼Œéœ€è¦è‡ªè¡Œä¸‹è½½å¹¶å¤åˆ¶</span></span>
<span class="line"><span>    private const string KeywordsPath = "wwwroot/_Illegal/IllegalKeywords.txt";</span></span>
<span class="line"><span>    private const string UrlsPath = "wwwroot/_Illegal/IllegalUrls.txt";</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    private const string InfoPath = "wwwroot/_Illegal/IllegalInfo.txt";</span></span>
<span class="line"><span>    private const string BitPath = "wwwroot/_Illegal/IllegalBit.iws";</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    private static IllegalWordsSearch _search;</span></span>
<span class="line"><span>    /// &lt;summary&gt;</span></span>
<span class="line"><span>    /// æœ¬åœ°æ•æ„Ÿåº“,æ–‡ä»¶ä¿®æ”¹åï¼Œé‡æ–°åˆ›å»ºç¼“å­˜Bit</span></span>
<span class="line"><span>    /// &lt;/summary&gt;</span></span>
<span class="line"><span>    /// &lt;returns&gt;&lt;/returns&gt;</span></span>
<span class="line"><span>    public static IllegalWordsSearch GetIllegalWordsSearch()</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        if (_search == null)</span></span>
<span class="line"><span>        {</span></span>
<span class="line"><span>            string ipath = Path.GetFullPath(InfoPath);</span></span>
<span class="line"><span>            if (File.Exists(ipath) == false)</span></span>
<span class="line"><span>            {</span></span>
<span class="line"><span>                _search = CreateIllegalWordsSearch();</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>            else</span></span>
<span class="line"><span>            {</span></span>
<span class="line"><span>                var texts = File.ReadAllText(ipath).Split('|');</span></span>
<span class="line"><span>                if (new FileInfo(Path.GetFullPath(KeywordsPath)).LastWriteTime.ToString("yyyy-MM-dd HH:mm:ss") !=</span></span>
<span class="line"><span>                    texts[0] ||</span></span>
<span class="line"><span>                    new FileInfo(Path.GetFullPath(UrlsPath)).LastWriteTime.ToString("yyyy-MM-dd HH:mm:ss") !=</span></span>
<span class="line"><span>                    texts[1]</span></span>
<span class="line"><span>                )</span></span>
<span class="line"><span>                {</span></span>
<span class="line"><span>                    _search = CreateIllegalWordsSearch();</span></span>
<span class="line"><span>                }</span></span>
<span class="line"><span>                else</span></span>
<span class="line"><span>                {</span></span>
<span class="line"><span>                    var s = new IllegalWordsSearch();</span></span>
<span class="line"><span>                    s.Load(Path.GetFullPath(BitPath));</span></span>
<span class="line"><span>                    _search = s;</span></span>
<span class="line"><span>                }</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        return _search;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    private static IllegalWordsSearch CreateIllegalWordsSearch()</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        string[] words1 = File.ReadAllLines(Path.GetFullPath(KeywordsPath), Encoding.UTF8);</span></span>
<span class="line"><span>        string[] words2 = File.ReadAllLines(Path.GetFullPath(UrlsPath), Encoding.UTF8);</span></span>
<span class="line"><span>        var words = new List&lt;string&gt;();</span></span>
<span class="line"><span>        foreach (var item in words1)</span></span>
<span class="line"><span>        {</span></span>
<span class="line"><span>            words.Add(item.Trim());</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        foreach (var item in words2)</span></span>
<span class="line"><span>        {</span></span>
<span class="line"><span>            words.Add(item.Trim());</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        var search = new IllegalWordsSearch();</span></span>
<span class="line"><span>        search.SetKeywords(words);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        search.Save(Path.GetFullPath(BitPath));</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        var text = new FileInfo(Path.GetFullPath(KeywordsPath)).LastWriteTime.ToString("yyyy-MM-dd HH:mm:ss") + "|"+ new FileInfo(Path.GetFullPath(UrlsPath)).LastWriteTime.ToString("yyyy-MM-dd HH:mm:ss");</span></span>
<span class="line"><span>        File.WriteAllText(Path.GetFullPath(InfoPath), text);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        return search;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>2. å¾ªç¯ä½¿ç”¨Replace</h2>
<p>æ–¹æ¡ˆï¼šé€šè¿‡ç»´æŠ¤æ•æ„Ÿåº“ï¼Œå¾ªç¯replace<br>
å¤§ä½¬åˆ†äº«ç»™æˆ‘çš„ï¼Œç¨å¾®æ”¹æˆäº†ä»æ–‡ä»¶ä¸­è·å–æ•æ„Ÿå­—ã€‚</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>public static class StopWords</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    static readonly ConcurrentDictionary&lt;string, bool&gt; FunNlpDataSensitive = new ConcurrentDictionary&lt;string, bool&gt;();</span></span>
<span class="line"><span>    static readonly ConcurrentDictionary&lt;int, string&gt; ReplaceNewValue = new ConcurrentDictionary&lt;int, string&gt;();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    private const string KeywordsPath = "wwwroot/_Illegal/IllegalKeywords.txt";</span></span>
<span class="line"><span>    private const string UrlsPath = "wwwroot/_Illegal/IllegalUrls.txt";</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>    static StopWords()</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        LoadDataFromFile();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    public static void LoadDataFromFile()</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        string words1 = File.ReadAllText(Path.GetFullPath(KeywordsPath), Encoding.UTF8);</span></span>
<span class="line"><span>        string words2 = File.ReadAllText(Path.GetFullPath(UrlsPath), Encoding.UTF8);</span></span>
<span class="line"><span>        LoadDataFromText(words1);</span></span>
<span class="line"><span>        LoadDataFromText(words2);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>    public static void LoadDataFromText(string text)</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        int oldcount = FunNlpDataSensitive.Count;</span></span>
<span class="line"><span>        foreach (string wd in text.Split('\n'))</span></span>
<span class="line"><span>        {</span></span>
<span class="line"><span>            string keykey = wd.Trim().Trim('\r', '\n').Trim();</span></span>
<span class="line"><span>            if (string.IsNullOrEmpty(keykey)) continue;</span></span>
<span class="line"><span>            FunNlpDataSensitive.TryAdd(keykey, true);</span></span>
<span class="line"><span>            if (ReplaceNewValue.ContainsKey(keykey.Length) == false)</span></span>
<span class="line"><span>                ReplaceNewValue.TryAdd(keykey.Length, "".PadRight(keykey.Length, '*'));</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        Console.WriteLine($"æ•æ„Ÿè¯åŠ è½½å®Œæ¯•ï¼Œå¢åŠ æ•°é‡ï¼š{FunNlpDataSensitive.Count - oldcount}");</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /// &lt;summary&gt;</span></span>
<span class="line"><span>    /// æ›¿æ¢æ‰€æœ‰æ•æ„Ÿè¯ä¸º *</span></span>
<span class="line"><span>    /// &lt;/summary&gt;</span></span>
<span class="line"><span>    /// &lt;param name="that"&gt;&lt;/param&gt;</span></span>
<span class="line"><span>    /// &lt;returns&gt;&lt;/returns&gt;</span></span>
<span class="line"><span>    public static string ReplaceStopWords(this string that)</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        foreach (var wd in FunNlpDataSensitive.Keys)</span></span>
<span class="line"><span>            that = that.Replace(wd, ReplaceNewValue.TryGetValue(wd.Length, out var tryval) ? tryval : "".PadRight(wd.Length, '*'));</span></span>
<span class="line"><span>        return that;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>FreeSqlå…¨å±€å¤„ç†æ•æ„Ÿè¯</h2>
<p>ä½¿ç”¨FreeSqlè¿™ä¸ªORMæ—¶ï¼Œå…¨å±€å¤„ç†stringç±»å‹çš„å€¼ï¼Œè¿›è¡Œæ•æ„Ÿè¯å¤„ç†ã€‚ä»£ç åœ¨StartUp.csçš„æ„é€ å‡½æ•°ä¸­ã€‚</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>//æ•æ„Ÿè¯å¤„ç†</span></span>
<span class="line"><span>IllegalWordsSearch illegalWords = ToolGoodUtils.GetIllegalWordsSearch();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Fsql.Aop.AuditValue += (s, e) =&gt;</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    if (e.Column.CsType == typeof(string) &amp;&amp; e.Value != null)</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        string oldVal = (string)e.Value;</span></span>
<span class="line"><span>        string newVal = illegalWords.Replace(oldVal);</span></span>
<span class="line"><span>        //ç¬¬äºŒç§å¤„ç†æ•æ„Ÿè¯çš„æ–¹å¼</span></span>
<span class="line"><span>        //string newVal = oldVal.ReplaceStopWords();</span></span>
<span class="line"><span>        if (newVal != oldVal)</span></span>
<span class="line"><span>        {</span></span>
<span class="line"><span>            e.Value = newVal;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>};</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>ä¾èµ–æ³¨å…¥scrutor</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/dependency-injection-scrutor.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/dependency-injection-scrutor.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">ä¾èµ–æ³¨å…¥scrutor</source>
      <description>ä¾èµ–æ³¨å…¥scrutor å®˜ç½‘ä»‹ç» https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/dependency-injection?view=aspnetcore-2.2 å¼€æºåœ°å€https://github.com/khellang/Scrutor å‚è€ƒæ–‡æ¡£ https://www.cnbl...</description>
      <pubDate>Fri, 28 Feb 2020 11:10:31 GMT</pubDate>
      <content:encoded><![CDATA[
<p>å®˜ç½‘ä»‹ç»</p>
<p><a href="https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/dependency-injection?view=aspnetcore-2.2" target="_blank" rel="noopener noreferrer">https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/dependency-injection?view=aspnetcore-2.2</a></p>
<ul>
<li>å¼€æºåœ°å€<a href="https://github.com/khellang/Scrutor" target="_blank" rel="noopener noreferrer">https://github.com/khellang/Scrutor</a></li>
<li>å‚è€ƒæ–‡æ¡£ <a href="https://www.cnblogs.com/catcher1994/p/10316928.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/catcher1994/p/10316928.html</a><br>
æ‰‹åŠ¨ç®¡ç†ä¾èµ–æ³¨å…¥è¿‡äºéº»çƒ¦,å½“æœ‰å¤šä¸ªä»“å‚¨ï¼ŒæœåŠ¡ï¼Œæ— æ³•ç»Ÿä¸€æ³¨å…¥ï¼Œ<a href="http://xn--ScrutorASP-2j4p127aslb656gqgmrg3hkrta.NET" target="_blank" rel="noopener noreferrer">Scrutorèƒ½å¸®åŠ©æˆ‘ä»¬ç®€åŒ–ASP.NET</a> Coreçš„DIæ³¨å†Œã€‚</li>
</ul>
<p>åœ¨ConfigServicesä¸­ï¼Œæˆ‘ä»¬åŸæœ¬éœ€è¦è¿™æ ·å­ä¾æ¬¡æ³¨å…¥ä»“å‚¨ï¼ŒæœåŠ¡å’Œå…¶ä»–æ¥å£åŠå®ç°ï¼Œå½“æœ‰å¤šä¸ªä»“å‚¨æ—¶ï¼Œè¿™æ ·å°±è¿‡äºç¹çã€‚</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddTransient</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IUserRepository</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">UserRepository</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddTransient</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">IUserService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">UserService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddTransient</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ICurrentUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">CurrentUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>Serivceåç¼€æœåŠ¡æ³¨å…¥DI</h2>
<p>å½“æˆ‘ä»¬æœ‰å¤šä¸ªServiceåç¼€çš„æœåŠ¡æ—¶ï¼Œä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼Œå¯å°†æœåŠ¡æ‰«æåªç•™ä¸‹ä»¥Serivceç»“å°¾çš„ç±»ï¼Œå°†å…¶ç±»å‹æ³¨å†Œä¸ºæä¾›æ‰€æœ‰å…¬å…±æ¥å£ç”ŸæˆæœåŠ¡ï¼Œå…¶ç”Ÿå‘½å‘¨æœŸä¸ºTransientï¼Œ</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Scan</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">scan</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> scan</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        //åŠ è½½Startupè¿™ä¸ªç±»æ‰€åœ¨çš„ç¨‹åºé›†</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">FromAssemblyOf</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Startup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;()</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // è¡¨ç¤ºè¦æ³¨å†Œé‚£äº›ç±»ï¼Œä¸Šé¢çš„ä»£ç è¿˜åšäº†è¿‡æ»¤ï¼Œåªç•™ä¸‹äº†ä»¥ Service ç»“å°¾çš„ç±»</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddClasses</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">classes</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> classes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Where</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> t</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">EndsWith</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Service"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">StringComparison</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">OrdinalIgnoreCase</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)))</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        //è¡¨ç¤ºå°†ç±»å‹æ³¨å†Œä¸ºæä¾›å…¶æ‰€æœ‰å…¬å…±æ¥å£ä½œä¸ºæœåŠ¡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AsImplementedInterfaces</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        //è¡¨ç¤ºæ³¨å†Œçš„ç”Ÿå‘½å‘¨æœŸä¸º Transient</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">WithTransientLifetime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">         );</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>ITransientDependency</h2>
<p>æ–°å»ºä¸€ä¸ªç©ºæ¥å£ï¼Œå½“å…¶ä»–ç±»ç»§æ‰¿æ­¤æ¥å£åï¼Œç»Ÿä¸€æ³¨å…¥åˆ°DIä¸­ï¼Œä»¥Transientçš„ç”Ÿå‘½å‘¨æœŸã€‚</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> LinCms</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Zero</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Dependency</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> ITransientDependency</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>æ¥å£</h2>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> ICurrentUser</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    int</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">? </span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF">Id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    int</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">? </span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF">GroupId</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    bool</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">? </span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF">IsAdmin</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>æ¨¡æ‹Ÿå®ç°</h2>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> CurrentUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ICurrentUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ITransientDependency</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">     </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> int</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">? </span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF">Id</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> int</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">? </span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF">GroupId</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> bool</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">? </span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF">IsAdmin</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰«ææ‰€æœ‰ç»§æ‰¿ITransientDependencyçš„å®ç°ã€‚</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">   services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Scan</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">scan</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> scan</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">       // We start out with all types in the assembly of ITransientService</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">FromAssemblyOf</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ITransientDependency</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;()</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // AddClasses starts out with all public, non-abstract types in this assembly.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // These types are then filtered by the delegate passed to the method.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // In this case, we filter out only the classes that are assignable to ITransientService.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddClasses</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">classes</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> classes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AssignableTo</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ITransientDependency</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;())</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // We then specify what type we want to register these classes as.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // In this case, we want to register the types as all of its implemented interfaces.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // So if a type implements 3 interfaces; A, B, C, we'd end up with three separate registrations.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AsImplementedInterfaces</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // And lastly, we specify the lifetime of these registrations.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">WithTransientLifetime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">         );</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>å¦‚ä½•ä½¿ç”¨</h2>
<p>åœ¨å…¶ä»–ç±»ä¸­ä½¿ç”¨æ­¤æ¥å£</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ApiController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Route</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"cms/user"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> UserController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ControllerBase</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> readonly</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> ICurrentUser</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> _currentUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> UserController</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ICurrentUser</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> currentUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">        _currentUser</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> currentUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpGet</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> GetUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _currentUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>ç»Ÿä¸€æ³¨å…¥</h2>
<p>å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥ç»Ÿä¸€æ³¨å…¥ï¼Œè€Œéå†™äºŒæ¬¡servics.Scan</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Scan</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">scan</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> scan</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">FromAssemblyOf</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Startup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddClasses</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">classes</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> classes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Where</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> t</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">EndsWith</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Service"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">StringComparison</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">OrdinalIgnoreCase</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AsImplementedInterfaces</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">WithTransientLifetime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">FromAssemblyOf</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ITransientDependency</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddClasses</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">classes</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> classes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AssignableTo</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ITransientDependency</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AsImplementedInterfaces</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">WithTransientLifetime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">      );</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>å¼€å‘èµ·æ­¥</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/dev-start.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/dev-start.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">å¼€å‘èµ·æ­¥</source>
      <description>å¼€å‘èµ·æ­¥ é¡¹ç›®ç»“æ„ framework identityserver4 LinCms.IdentityServer4:ä½¿ç”¨id4æˆæƒç™»å½• src LinCms.Webï¼šæ¥å£APIï¼ˆASP.NET Core)ã€ä¸­é—´ä»¶ï¼Œæƒé™éªŒè¯ LinCms.Application:åº”ç”¨æœåŠ¡ LinCms.Application.Contracts:DTO,æ•°æ®ä¼ è¾“å¯¹è±¡,...</description>
      <pubDate>Fri, 28 Feb 2020 11:10:31 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>é¡¹ç›®ç»“æ„</h2>
<ul>
<li>framework</li>
<li>identityserver4
<ul>
<li>LinCms.IdentityServer4:ä½¿ç”¨id4æˆæƒç™»å½•</li>
</ul>
</li>
<li>src
<ul>
<li><a href="http://LinCms.Web" target="_blank" rel="noopener noreferrer">LinCms.Web</a>ï¼šæ¥å£APIï¼ˆ<a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Core)ã€ä¸­é—´ä»¶ï¼Œæƒé™éªŒè¯</li>
<li>LinCms.Application:åº”ç”¨æœåŠ¡</li>
<li>LinCms.Application.Contracts:DTO,æ•°æ®ä¼ è¾“å¯¹è±¡,åº”ç”¨æœåŠ¡æ¥å£</li>
<li>LinCms.Infrastructure:åŸºç¡€è®¾æ–½ï¼Œæ•°æ®åº“æŒä¹…æ€§çš„æ“ä½œï¼Œä»“å‚¨æ¥å£çš„å®ç°</li>
<li>LinCms.Core:è¯¥åº”ç”¨çš„æ ¸å¿ƒï¼Œå®ä½“ç±»ï¼Œé€šç”¨æ“ä½œç±»ï¼ŒAOPæ‰©å±•ï¼Œåˆ†é¡µå¯¹è±¡ï¼ŒåŸºç¡€ä¾èµ–å¯¹è±¡æ¥å£ï¼Œæ—¶é—´æ‰©å±•æ–¹æ³•ï¼Œå½“å‰ç”¨æˆ·ä¿¡æ¯ï¼Œå¼‚å¸¸ç±»ï¼Œå€¼å¯¹è±¡ï¼Œä»“å‚¨æ¥å£</li>
<li>LinCms.Plugins ä½¿ç”¨å•é¡¹ç›®å®ç°æŸä¸ªä¸šåŠ¡çš„æ‰©å±•ï¼Œä¸éœ€è¦ä¸»è¦é¡¹ç›®ç»“æ„ï¼Œå¯æš‚æ—¶å¿½ç•¥ã€‚</li>
</ul>
</li>
<li>test
<ul>
<li>LinCms.Test:å¯¹ä»“å‚¨ï¼Œåº”ç”¨æœåŠ¡æˆ–å·¥å…·ç±»è¿›è¡Œæµ‹è¯•</li>
</ul>
</li>
</ul>
<div class="language-txt line-numbers-mode" data-highlighter="shiki" data-ext="txt" data-title="txt" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>â”œâ”€framework</span></span>
<span class="line"><span>â”‚  â””â”€src</span></span>
<span class="line"><span>â”‚      â””â”€IGeekFan.Localization.FreeSql</span></span>
<span class="line"><span>â”œâ”€identityserver4</span></span>
<span class="line"><span>â”‚  â””â”€LinCms.IdentityServer4</span></span>
<span class="line"><span>â”‚      â”œâ”€Controllers</span></span>
<span class="line"><span>â”‚      â”œâ”€IdentityServer4</span></span>
<span class="line"><span>â”œâ”€src</span></span>
<span class="line"><span>â”‚  â”œâ”€LinCms.Application</span></span>
<span class="line"><span>â”‚  â”‚  â”œâ”€Cms</span></span>
<span class="line"><span>â”‚  â”‚  â”‚  â”œâ”€Admin</span></span>
<span class="line"><span>â”‚  â”‚  â”‚  â”œâ”€Files</span></span>
<span class="line"><span>â”‚  â”‚  â”‚  â”œâ”€Groups</span></span>
<span class="line"><span>â”‚  â”‚  â”‚  â”œâ”€Logs</span></span>
<span class="line"><span>â”‚  â”‚  â”‚  â”œâ”€Permissions</span></span>
<span class="line"><span>â”‚  â”‚  â”‚  â”œâ”€Settings</span></span>
<span class="line"><span>â”‚  â”‚  â”‚  â””â”€Users</span></span>
<span class="line"><span>â”‚  â”œâ”€LinCms.Application.Contracts</span></span>
<span class="line"><span>â”‚  â”‚  â”œâ”€Cms</span></span>
<span class="line"><span>â”‚  â”‚  â”‚  â”œâ”€Account</span></span>
<span class="line"><span>â”‚  â”‚  â”‚  â”œâ”€Admins</span></span>
<span class="line"><span>â”‚  â”‚  â”‚  â”‚  â””â”€Dtos</span></span>
<span class="line"><span>â”‚  â”‚  â”‚  â”œâ”€Files</span></span>
<span class="line"><span>â”‚  â”‚  â”‚  â”‚  â””â”€Dtos</span></span>
<span class="line"><span>â”‚  â”‚  â”‚  â”œâ”€Groups</span></span>
<span class="line"><span>â”‚  â”‚  â”‚  â”‚  â””â”€Dtos</span></span>
<span class="line"><span>â”‚  â”‚  â”‚  â”œâ”€Logs</span></span>
<span class="line"><span>â”‚  â”‚  â”‚  â”‚  â””â”€Dtos</span></span>
<span class="line"><span>â”‚  â”‚  â”‚  â”œâ”€Permissions</span></span>
<span class="line"><span>â”‚  â”‚  â”‚  â”‚  â””â”€Dtos</span></span>
<span class="line"><span>â”‚  â”‚  â”‚  â”œâ”€Settings</span></span>
<span class="line"><span>â”‚  â”‚  â”‚  â”‚  â””â”€Dtos</span></span>
<span class="line"><span>â”‚  â”‚  â”‚  â””â”€Users</span></span>
<span class="line"><span>â”‚  â”‚  â”‚      â””â”€Dtos</span></span>
<span class="line"><span>â”‚  â”œâ”€LinCms.Core</span></span>
<span class="line"><span>â”‚  â”‚  â”œâ”€Aop</span></span>
<span class="line"><span>â”‚  â”‚  â”œâ”€Common</span></span>
<span class="line"><span>â”‚  â”‚  â”œâ”€Data</span></span>
<span class="line"><span>â”‚  â”‚  â”‚  â””â”€Enums</span></span>
<span class="line"><span>â”‚  â”‚  â”œâ”€Dependency</span></span>
<span class="line"><span>â”‚  â”‚  â”œâ”€Entities</span></span>
<span class="line"><span>â”‚  â”‚  â”‚  â””â”€Settings</span></span>
<span class="line"><span>â”‚  â”‚  â”œâ”€Exceptions</span></span>
<span class="line"><span>â”‚  â”‚  â”œâ”€Extensions</span></span>
<span class="line"><span>â”‚  â”‚  â”œâ”€IRepositories</span></span>
<span class="line"><span>â”‚  â”‚  â”œâ”€LinCms</span></span>
<span class="line"><span>â”‚  â”‚  â”‚  â””â”€Core</span></span>
<span class="line"><span>â”‚  â”‚  â”œâ”€Middleware</span></span>
<span class="line"><span>â”‚  â”‚  â””â”€Security</span></span>
<span class="line"><span>â”‚  â”œâ”€LinCms.Infrastructure</span></span>
<span class="line"><span>â”‚  â”‚  â””â”€Repositories</span></span>
<span class="line"><span>â”‚  â”œâ”€LinCms.Plugins</span></span>
<span class="line"><span>â”‚  â”‚  â””â”€Poem</span></span>
<span class="line"><span>â”‚  â”‚      â”œâ”€AutoMapper</span></span>
<span class="line"><span>â”‚  â”‚      â”œâ”€Controllers</span></span>
<span class="line"><span>â”‚  â”‚      â””â”€Models</span></span>
<span class="line"><span>â”‚  â””â”€LinCms.Web</span></span>
<span class="line"><span>â”‚      â”œâ”€Configs</span></span>
<span class="line"><span>â”‚      â”œâ”€Controllers</span></span>
<span class="line"><span>â”‚      â”‚  â”œâ”€Cms</span></span>
<span class="line"><span>â”‚      â”œâ”€Data</span></span>
<span class="line"><span>â”‚      â”‚  â””â”€Authorization</span></span>
<span class="line"><span>â”‚      â”œâ”€Properties</span></span>
<span class="line"><span>â”‚      â”œâ”€SnakeCaseQuery</span></span>
<span class="line"><span>â”‚      â”œâ”€Uow</span></span>
<span class="line"><span>â”‚      â”œâ”€Utils</span></span>
<span class="line"><span>â”‚      â””â”€wwwroot</span></span>
<span class="line"><span>â””â”€test</span></span>
<span class="line"><span>    â””â”€LinCms.Test</span></span>
<span class="line"><span>        â”œâ”€Controller</span></span>
<span class="line"><span>        â”‚  â”œâ”€Cms</span></span>
<span class="line"><span>        â”œâ”€Properties</span></span>
<span class="line"><span>        â”œâ”€Service</span></span>
<span class="line"><span>        â”‚  â””â”€Cms</span></span>
<span class="line"><span>        â””â”€Utils</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>ç›¸å…³æŠ€æœ¯</h2>
<h3>FreeSql</h3>
<ul>
<li>
<p><a href="/dotnetcore/examples/freesql-in-aspnetcore-webapi-how-to-use.html" target="_blank" rel="noopener noreferrer">ä¸»è¦åœ¨ä»‹ç»FreeSqlåœ¨ASP.NTE Core WebApiä¸­å¦‚ä½•ä½¿ç”¨çš„è¿‡ç¨‹ï¼Œå®Œæˆä¸€ä¸ªæœ€ç®€å•çš„åšå®¢ç³»ç»Ÿçš„åç«¯æ¥å£</a></p>
</li>
<li>
<p><a href="/dotnetcore/examples/freesql-sample-blog-restful-use-automapper.html" target="_blank" rel="noopener noreferrer">æœ¬æ–‡ä½¿ç”¨ASP .NET Coreçš„WEB APIï¼Œæ„å»ºä¸€ä¸ªRESTfulé£æ ¼çš„æ¥å£ï¼Œä½¿ç”¨Freesqlè®¿é—®MySQLæ•°æ®åº“ï¼Œå®ç°äºŒä¸ªè¡¨çš„ç®€å•åšå®¢ï¼Œå¹¶é›†æˆAutoMapperã€‚</a></p>
</li>
</ul>
<h3>IdentityServer4</h3>
<ul>
<li><a href="/dotnetcore/examples/IdentityServer4.html" target="_blank" rel="noopener noreferrer">IdentityServer4 åœ¨æœ¬é¡¹ç›®ä¸­çš„åº”ç”¨</a></li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>åç«¯å‡†å¤‡</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/dotnetcore-start.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/dotnetcore-start.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">åç«¯å‡†å¤‡</source>
      <description>åç«¯å‡†å¤‡ Server ç«¯å¿…å¤‡ç¯å¢ƒ å®‰è£…è½¯ä»¶å¼€å‘åŒ… .NET SDK 6.0 å®‰è£…å¼€å‘å·¥å…· Visual Studio 2022 æˆ– Rider å®‰è£… MySQLï¼ˆversion 5.7+)åŠä»¥ä¸Šç‰ˆæœ¬ Redis 4.0.14.2 for Windows https://github.com/tporadowski/redis/releases ï¼ˆéå¿…...</description>
      <pubDate>Fri, 28 Feb 2020 11:10:31 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>Server ç«¯å¿…å¤‡ç¯å¢ƒ</h2>
<ul>
<li>å®‰è£…è½¯ä»¶å¼€å‘åŒ… <a href="https://dotnet.microsoft.com/zh-cn/download/dotnet/6.0" target="_blank" rel="noopener noreferrer">.NET SDK 6.0</a></li>
<li>å®‰è£…å¼€å‘å·¥å…· <a href="https://visualstudio.microsoft.com/zh-hans/vs/" target="_blank" rel="noopener noreferrer">Visual Studio 2022</a> æˆ– <a href="https://www.jetbrains.com/rider/" target="_blank" rel="noopener noreferrer">Rider</a></li>
<li>å®‰è£… MySQLï¼ˆversion 5.7+)åŠä»¥ä¸Šç‰ˆæœ¬</li>
<li>Redis 4.0.14.2 for Windows <a href="https://github.com/tporadowski/redis/releases" target="_blank" rel="noopener noreferrer">https://github.com/tporadowski/redis/releases</a></li>
<li><a href="/igeekfan-docs/dotnetcore/lin-cms/rabbitmq.html" target="_blank">Rabbitmq</a>ï¼ˆéå¿…è¦ï¼‰ï¼Œé»˜è®¤åŸºäºMemoryçº§åˆ«</li>
</ul>
<h2>è·å–å·¥ç¨‹é¡¹ç›®</h2>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">git</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> https://github.com/luoyunchong/lin-cms-dotnetcore.git</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h2>æ•°æ®åº“é…ç½®</h2>
<p>æ–‡ä»¶ä½ç½®<code>src/LinCms.Web/appsettings.json</code>ï¼Œå½“æ•°æ®åº“ä¸­å­˜å‚¨è¡¨æƒ…åŒ…æ˜¯ï¼Œ<code>Charset</code>ä¸º<code>utf8mb4</code></p>
<p><strong>è¯·åŠ¡å¿…æ ¹æ®è‡ªå·±çš„å®é™…æƒ…å†µä¿®æ”¹æ­¤é…ç½®é¡¹</strong>ï¼Œ<code>DefaultDB</code>ä¸º 0 æ—¶ï¼Œä»£è¡¨ä½¿ç”¨<code>MySQL</code>ï¼Œ<code>DefaultDB</code>ä¸º 1 æ—¶ï¼Œä»£è¡¨ä½¿ç”¨<code>SqlServer</code>,ä»¥æ­¤ç±»æ¨ã€‚</p>
<div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> "ConnectionStrings"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "DefaultDB"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"0"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "DataType"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">      "MySql"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">      "SqlServer"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">      "PostgreSQL"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">      "Oracle"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">3</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">      "Sqlite"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">4</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "MySql"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Data Source=localhost;Port=3306;User ID=root;Password=root;Initial Catalog=lincms;Charset=utf8mb4;SslMode=none;Max pool size=1;Connection LifeTime=20"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "SqlServer"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Data Source=.;User ID=sa;Password=123456;Integrated Security=True;Initial Catalog=LinCMS;Pooling=true;Min Pool Size=1"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "PostgreSQL"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Host=localhost;Port=5432;Username=postgres;Password=123456; Database=lincms;Pooling=true;Minimum Pool Size=1"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "Oracle"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"user id=root;password=root; data source=//127.0.0.1:1521/ORCL;Pooling=true;Min Pool Size=1"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "Sqlite"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Data Source=|DataDirectory|</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">lincms.db; Attachs=lincms.db; Pooling=true;Min Pool Size=1"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "CsRedis"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"127.0.0.1:6379,password=,defaultDatabase=0"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  },</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>LinCms.IdentityServer4</code> é¡¹ç›®ä¸æ˜¯å¿…é¡»çš„ï¼Œæ ¹æ®<code>LinCms.Web</code>ä¸­çš„<code>appsettings.json</code>é…ç½® é¡¹ <code>Service.IdentityServer4</code>è®¾ç½®æˆäº†true,LinCms.Webé¡¹ç›®ä¸­çš„ç™»å½•æ¥å£æ‰ä¼šè®¿é—®Ids4é¡¹ç›®ï¼Œ</p>
<p>å¦‚éœ€è¿è¡Œï¼Œåˆ™ä¿®æ”¹æ•°æ®åº“é…ç½®é¡¹</p>
<p><code>identityserver4/LinCms.IdentityServer4/appsettings.json</code> æ•°æ®åº“é…ç½®ã€åŒ<code>LinCms.Web</code>ä¸­çš„é…ç½®é¡¹ç›¸åŒ</p>
<div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379">  "ConnectionStrings"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "DefaultDB"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"0"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "DataType"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">      "MySql"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">      "SqlServer"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">      "PostgreSQL"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">      "Oracle"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">3</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">      "Sqlite"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">4</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "MySql"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Data Source=localhost;Port=3308;User ID=root;Password=root;Initial Catalog=lincms;Charset=utf8mb4;SslMode=none;Max pool size=1;Connection LifeTime=20"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  },</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶ä¸­ MariaDBï¼ˆçœ‹åš MySqlï¼‰,é€šè¿‡<code>Serilog</code>è®°å½•æ—¥å¿—ï¼Œéœ€è¦é…ç½®ç›¸åº”çš„é“¾æ¥ä¸²ã€‚</p>
<div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "Name"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"MariaDB"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "Args"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">        "connectionString"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Data Source=localhost;Port=3306;User ID=root;Password=root;Initial Catalog=lincms;Charset=utf8mb4;SslMode=none;Max pool size=1;Connection LifeTime=20"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>æ•°æ®è¿ç§»</h2>
<p>è¯¥é¡¹ç›®ä½¿ç”¨<a href="https://github.com/dotnetcore/FreeSql" target="_blank" rel="noopener noreferrer">FreeSql</a>ï¼Œä¼šè‡ªåŠ¨æ ¹æ®é…ç½®é¡¹åˆ›å»ºæ•°æ®åº“ï¼Œé»˜è®¤è‡ªåŠ¨è¿ç§»æ•°æ®è¡¨ç»“æ„ï¼Œåˆå§‹åŒ–ç§å­æ•°æ®</p>
<p>é»˜è®¤ä¼šåˆ›å»ºç”¨æˆ·<code>admin</code>ï¼Œå¯†ç <code>123qwe</code></p>
<h2>visual studio 2022 è¿è¡Œé¡¹ç›®</h2>
<p>åŒå‡» LinCms.slnï¼Œä½¿ç”¨ vs2022 æ‰“å¼€é¡¹ç›®ã€‚å³é”®è§£å†³æ–¹æ¡ˆï¼Œç‚¹å‡»ç”Ÿæˆè§£å†³æ–¹æ¡ˆã€‚</p>
<h2>Ids4 æœåŠ¡ç«¯</h2>
<p>é»˜è®¤æƒ…å†µä¸‹ <code>Service.IdentityServer4</code>è®¾ç½®æˆäº†falseï¼Œå³<code>LinCms.IdentityServer4</code>ä¸éœ€è¦è¿è¡Œï¼Œæˆ‘ä»¬å°±åªéœ€è¦è¿è¡Œ<code>LinCms.Web</code>é¡¹ç›®å³å¯</p>
<div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379">  "Service"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "IdentityServer4"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">false</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "Name"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"LinCms.Web"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "GrantType"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"password"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "ClientId"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"lin-cms-dotnetcore-client-id"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "ClientSecret"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"lin-cms-dotnetcore-client-secrets"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "Authority"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"https://localhost:5003"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "UseHttps"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  },</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœ<code>Service.IdentityServer4</code>è®¾ç½®æˆäº†true</p>
<p>ç”±äºå°† identityserver4 å•ç‹¬æ‹†æˆäº†ä¸€ä¸ªé¡¹ç›®ï¼Œæ‰€ä»¥éœ€è¦åŒæ—¶å¯åŠ¨äºŒä¸ªé¡¹ç›®ï¼Œ<strong>å³é”®è§£å†³æ–¹æ¡ˆï¼Œå±æ€§ã€‚</strong>,é€‰æ‹©å¤šä¸ªå¯åŠ¨é¡¹ç›®ï¼Œå‹¾é€‰äºŒä¸ªé¡¹ç›®åŒæ—¶å¯åŠ¨ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<p><img src="https://pic.downk.cc/item/5e83fd74504f4bcb04cf5474.png" alt=""></p>
<p>è¿™æ—¶å€™ä¼šæ‰“å¼€äºŒä¸ªç½‘é¡µ <a href="https://localhost:5001/swagger/index.html" target="_blank" rel="noopener noreferrer">https://localhost:5001/swagger/index.html</a>ï¼Œå³å¯çœ‹åˆ° swagger é¡µé¢ã€‚</p>
<p><img src="https://pic.downk.cc/item/5e83ffd1504f4bcb04d0f039.jpg" alt=""></p>
<p>ä¼šæ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®<a href="https://localhosst:5001/swagger/index.html" target="_blank" rel="noopener noreferrer">https://localhosst:5001/swagger/index.html</a>ï¼Œä¼šçœ‹åˆ° swagger çš„æ–‡æ¡£ã€‚<br>
è®¿é—®<a href="https://localhosst:5001/swagger/index.html" target="_blank" rel="noopener noreferrer">https://localhosst:5003/swagger/index.html</a> æ˜¯ ids4 çš„æ¥å£æ–‡æ¡£ï¼Œä»€ä¹ˆä¹Ÿçœ‹ä¸åˆ°ã€‚</p>
<p><a href="http://LinCms.Web" target="_blank" rel="noopener noreferrer">LinCms.Web</a> è¿è¡Œæ•ˆæœï¼š<br>
<img src="https://ae01.alicdn.com/kf/He52bc4d3708242d2995419bb584e1f53Q.jpg" alt=""></p>
<h2>éƒ¨ç½²</h2>
<ul>
<li><a href="https://blog.igeekfan.cn/2022/06/09/dotnetcore/ASP.NET-Core-Deploy-To-Ubuntu" target="_blank" rel="noopener noreferrer">éƒ¨ç½²è‡³ Linux(Ubuntu16.06)</a></li>
<li><a href="https://blog.igeekfan.cn/2022/06/09/dotnetcore/ASP.NET-Core-Deploy-To-Docker-Ubuntu/" target="_blank" rel="noopener noreferrer">éƒ¨ç½²è‡³ Linux(Ubuntu16.06)ä¸‹çš„ Docker</a></li>
</ul>
<h2>éƒ¨ç½²å‰å‡†å¤‡</h2>
<p>å› ä¸ºè¯¥é¡¹ç›®åŸºäº IdentityServer4,å®ç°çš„æˆæƒè®¤è¯æœåŠ¡ï¼Œ</p>
<p>å¼€å‘é˜¶æ®µä½¿ç”¨<code>AddDeveloperSigningCredential()</code>æ–¹æ³•å³å¯å®Œæˆç­¾åè®¤è¯ï¼Œä½†æ˜¯åœ¨ç”Ÿäº§ç¯å¢ƒï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨<code>AddSigningCredential()</code>æ–¹æ³•å¹¶ä¸”ä½¿ç”¨ OpenSSL ç”Ÿæˆè‡ªå·±çš„ç­¾åè¯ä¹¦</p>
<p>Startup.cs</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>            services.AddIdentityServer()</span></span>
<span class="line"><span>#if  DEBUG</span></span>
<span class="line"><span>                .AddDeveloperSigningCredential()</span></span>
<span class="line"><span>#endif</span></span>
<span class="line"><span>#if !DEBUG</span></span>
<span class="line"><span>                .AddSigningCredential(new X509Certificate2(Path.Combine(AppContext.BaseDirectory,</span></span>
<span class="line"><span>                        Configuration["Certificates:Path"]),</span></span>
<span class="line"><span>                    Configuration["Certificates:Password"]))</span></span>
<span class="line"><span>#endif</span></span>
<span class="line"><span>                .AddInMemoryIdentityResources(InMemoryConfiguration.GetIdentityResources())</span></span>
<span class="line"><span>                .AddInMemoryApiResources(InMemoryConfiguration.GetApis())</span></span>
<span class="line"><span>                .AddInMemoryClients(InMemoryConfiguration.GetClients())</span></span>
<span class="line"><span>                .AddProfileService&lt;LinCmsProfileService&gt;()</span></span>
<span class="line"><span>                .AddResourceOwnerValidator&lt;LinCmsResourceOwnerPasswordValidator&gt;();</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>appsettings.Production.json</p>
<div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "Certificates"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">        "Path"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"ids4.pfx"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">        "Password"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"123qwe"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>ä½¿ç”¨ OpenSSL ç”Ÿæˆè¯ä¹¦</h3>
<p>å®˜ç½‘ä¸‹è½½å¹¶å®‰è£… OpenSSL <a href="https://slproweb.com/products/Win32OpenSSL.html" target="_blank" rel="noopener noreferrer">OpenSSL å®˜ç½‘</a></p>
<p>ä¸‹è½½ Win64 OpenSSL v1.1.1b ç‰ˆæœ¬</p>
<p>åœ¨ OpenSSL çš„ bin æ–‡ä»¶å¤¹ï¼Œä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€ CMD æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<div class="language-txt line-numbers-mode" data-highlighter="shiki" data-ext="txt" data-title="txt" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>openssl req -newkey rsa:2048 -nodes -keyout ids4.key -x509 -days 365 -out ids4.cer</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>ä¸‹é¢å°†ç”Ÿæˆçš„è¯ä¹¦å’Œ Key å°è£…æˆä¸€ä¸ªæ–‡ä»¶ï¼Œä»¥ä¾¿ IdentityServer å¯ä»¥ä½¿ç”¨å®ƒä»¬å»æ­£ç¡®åœ°ç­¾å tokens</p>
<div class="language-txt line-numbers-mode" data-highlighter="shiki" data-ext="txt" data-title="txt" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>openssl pkcs12 -export -in ids4.cer -inkey ids4.key -out ids4.pfx</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h3>(æ³¨ï¼šåœ¨ç”Ÿæˆçš„è¿‡ç¨‹ä¸­ä¼šè®©æˆ‘ä»¬è¾“å…¥ Export Password)</h3>
<p>è¿™ä¸ª å¯†ç ä¸ appsettings.Production.json é…ç½®é¡¹ç›¸åŒã€‚</p>
<p>å‘å¸ƒæ—¶ï¼ŒæŠŠ ids4.pfxï¼Œæ”¾åˆ°é¡¹ç›®æ ¹ç›®å½•</p>
<h2>å‚è€ƒ</h2>
<ul>
<li><a href="https://www.cnblogs.com/guolianyu/p/9872661.html" target="_blank" rel="noopener noreferrer">IdentityServer4 ä¹‹ JWT ç­¾å(RSA åŠ å¯†è¯ä¹¦)åŠéªŒç­¾</a></li>
</ul>
]]></content:encoded>
      <enclosure url="https://pic.downk.cc/item/5e83fd74504f4bcb04cf5474.png" type="image/png"/>
    </item>
    <item>
      <title>è®¤è¯ä¸æˆæƒ</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/dynamic-authorization-in-aspnetcore.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/dynamic-authorization-in-aspnetcore.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">è®¤è¯ä¸æˆæƒ</source>
      <description>è®¤è¯ä¸æˆæƒ ä¸»è¦å°±åŸºäºæƒé™çš„æˆæƒçš„å®ç°è¿›è¡Œç ”ç©¶ï¼Œå®ç°æ–¹æ³•çº§åˆ«çš„æƒé™éªŒè¯ã€‚ https://www.cnblogs.com/RainingNight/p/dynamic-authorization-in-asp-net-core.html è®¤è¯é‰´æƒç›¸å…³ IdentityServer4 ASP.NET Core WebAPI JWT Bearer è®¤è¯å¤±è´¥...</description>
      <pubDate>Fri, 28 Feb 2020 11:10:31 GMT</pubDate>
      <content:encoded><![CDATA[
<p>ä¸»è¦å°±<strong>åŸºäºæƒé™çš„æˆæƒ</strong>çš„å®ç°è¿›è¡Œç ”ç©¶ï¼Œå®ç°æ–¹æ³•çº§åˆ«çš„æƒé™éªŒè¯ã€‚</p>
<ul>
<li><a href="https://www.cnblogs.com/RainingNight/p/dynamic-authorization-in-asp-net-core.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/RainingNight/p/dynamic-authorization-in-asp-net-core.html</a></li>
</ul>
<h2>è®¤è¯é‰´æƒç›¸å…³</h2>
<p>IdentityServer4</p>
<ul>
<li><a href="https://blog.csdn.net/jasonsong2008/article/details/89226705" target="_blank" rel="noopener noreferrer">ASP.NET Core WebAPI JWT Bearer è®¤è¯å¤±è´¥è¿”å›è‡ªå®šä¹‰æ•°æ® Json</a></li>
<li><a href="https://www.cnblogs.com/stulzq/p/8119928.html" target="_blank" rel="noopener noreferrer">IdentityServer4 ä¸­æ–‡æ–‡æ¡£ä¸å®æˆ˜</a></li>
</ul>
<h2>JWT</h2>
<p>json web token</p>
]]></content:encoded>
    </item>
    <item>
      <title>code</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/error-code.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/error-code.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">code</source>
      <description>code æ ¸å¿ƒåº“å†…ç½®å·²ä½¿ç”¨çŠ¶æ€ç  0 æˆåŠŸ 999 æœåŠ¡å™¨æœªçŸ¥é”™è¯¯ 9999 å¤±è´¥ 10000 è®¤è¯å¤±è´¥ 10020 èµ„æºä¸å­˜åœ¨ 10030 å‚æ•°é”™è¯¯ 10040 ä»¤ç‰Œå¤±æ•ˆ 10050 ä»¤ç‰Œè¿‡æœŸ 10060 å­—æ®µé‡å¤ 10070 ç¦æ­¢æ“ä½œ 10080 è¯·æ±‚æ–¹æ³•ä¸å…è®¸ 10100 refresh token è·å–å¤±è´¥ 10110 æ–‡ä»¶ä½“ç§¯è¿‡å¤§ 10120...</description>
      <pubDate>Fri, 28 Feb 2020 11:10:31 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>æ ¸å¿ƒåº“å†…ç½®å·²ä½¿ç”¨çŠ¶æ€ç </h2>
<p>0 æˆåŠŸ</p>
<p>999 æœåŠ¡å™¨æœªçŸ¥é”™è¯¯</p>
<p>9999 å¤±è´¥</p>
<p>10000 è®¤è¯å¤±è´¥</p>
<p>10020 èµ„æºä¸å­˜åœ¨</p>
<p>10030 å‚æ•°é”™è¯¯</p>
<p>10040 ä»¤ç‰Œå¤±æ•ˆ</p>
<p>10050 ä»¤ç‰Œè¿‡æœŸ</p>
<p>10060 å­—æ®µé‡å¤</p>
<p>10070 ç¦æ­¢æ“ä½œ</p>
<p>10080 è¯·æ±‚æ–¹æ³•ä¸å…è®¸</p>
<p>10100 refresh token è·å–å¤±è´¥</p>
<p>10110 æ–‡ä»¶ä½“ç§¯è¿‡å¤§</p>
<p>10120 æ–‡ä»¶æ•°é‡è¿‡å¤š</p>
<p>10130 æ–‡ä»¶æ‰©å±•åä¸ç¬¦åˆè§„èŒƒ</p>
<p>10140 è¯·æ±‚è¿‡äºé¢‘ç¹ï¼Œè¯·ç¨åé‡è¯•</p>
]]></content:encoded>
    </item>
    <item>
      <title>è®¤è¯é‰´æƒçŠ¶æ€</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/identityserver4-jwt.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/identityserver4-jwt.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">è®¤è¯é‰´æƒçŠ¶æ€</source>
      <description>è®¤è¯é‰´æƒçŠ¶æ€ è®¤è¯åˆ†ä¸ºä»¥ä¸‹æƒ…å†µï¼šå½“å‰è§’è‰²ä¸ºç®¡ç†å‘˜ï¼Œè¯¥åˆ†ç»„é…ç½®äº†æƒé™ï¼Œè¯¥åˆ†ç»„æœªåˆ†é…æŸä¸€æ–¹æ³•çš„æƒé™. çŠ¶æ€ç ï¼ˆStatusCode):401 UnAuthorized æœªç™»å½•ï¼Œä¸å¸¦access_tokenï¼Œç›´æ¥è¯·æ±‚éœ€è¦ç™»å½•çš„æ¥å£ã€ç®¡ç†å‘˜æ¥å£ç»“æœä¸€æ ·ã€‚ è¿”å›ç»“æœåº”ä¸ºï¼šçŠ¶æ€ç ï¼š401 UNAUTHORIZED æºå¸¦access_tokenï¼Œä½†éè¶…çº§ç®¡ç†å‘˜(ad...</description>
      <pubDate>Fri, 28 Feb 2020 11:10:31 GMT</pubDate>
      <content:encoded><![CDATA[
<p>è®¤è¯åˆ†ä¸ºä»¥ä¸‹æƒ…å†µï¼šå½“å‰è§’è‰²ä¸ºç®¡ç†å‘˜ï¼Œè¯¥åˆ†ç»„é…ç½®äº†æƒé™ï¼Œè¯¥åˆ†ç»„æœªåˆ†é…æŸä¸€æ–¹æ³•çš„æƒé™.</p>
<p>çŠ¶æ€ç ï¼ˆStatusCode):401 UnAuthorized</p>
<p>| StatusCode                | å«ä¹‰                   |<br>
|</p>
]]></content:encoded>
    </item>
    <item>
      <title>Newtonsoft.JsonåŸºç¡€é—®é¢˜</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/newtonsoft-json-question.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/newtonsoft-json-question.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">Newtonsoft.JsonåŸºç¡€é—®é¢˜</source>
      <description>Newtonsoft.JsonåŸºç¡€é—®é¢˜ å®ƒæ˜¯.NETä¸‹çš„ä¸€ä¸ªåºåˆ—åŒ–ã€ååºåŒ–çš„åŸºç¡€ç±»åº“ï¼Œæ›´åŸºç¡€çš„ç”¨æ³•è¿˜æ˜¯çœ‹åˆ«äººçš„å§ï¼Œè¿™é‡Œåªè¯´ä¸€äº›é‡åˆ°çš„é—®é¢˜ã€‚ è®¾ç½®ä¸‹åˆ’çº¿ ContractResolver é»˜è®¤æ˜¯å°é©¼å³°ï¼Œæˆ‘æƒ³æ”¹æˆä¸‹åˆ’çº¿æ–¹å¼ï¼Œé‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œdictionaryçš„é”®æœªæ ¼å¼åŒ– in controller åˆ›å»ºä¸€ä¸ªæ§åˆ¶å™¨ In Startup.cs æ­¤æ—¶è¿è¡Œåï¼Œ...</description>
      <pubDate>Fri, 28 Feb 2020 11:10:31 GMT</pubDate>
      <content:encoded><![CDATA[
<p>å®ƒæ˜¯.NETä¸‹çš„ä¸€ä¸ªåºåˆ—åŒ–ã€ååºåŒ–çš„åŸºç¡€ç±»åº“ï¼Œæ›´åŸºç¡€çš„ç”¨æ³•è¿˜æ˜¯çœ‹åˆ«äººçš„å§ï¼Œè¿™é‡Œåªè¯´ä¸€äº›é‡åˆ°çš„é—®é¢˜ã€‚</p>
<h2>è®¾ç½®ä¸‹åˆ’çº¿</h2>
<p>ContractResolver  é»˜è®¤æ˜¯å°é©¼å³°ï¼Œæˆ‘æƒ³æ”¹æˆä¸‹åˆ’çº¿æ–¹å¼ï¼Œé‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œdictionaryçš„é”®æœªæ ¼å¼åŒ–</p>
<p>in controller åˆ›å»ºä¸€ä¸ªæ§åˆ¶å™¨</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpGet</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"getDictionary"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> IDictionary</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetDictionary</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">    IDictionary</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75">dics</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> Dictionary</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    dics</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Add</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Key"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Value"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    dics</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Add</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"KeyTest"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Value_Test"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75"> dics</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In Startup.cs</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">services</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddMvc</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">SetCompatibilityVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CompatibilityVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Version_2_2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddJsonOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">opt</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // è®¾ç½®ä¸‹åˆ’çº¿æ–¹å¼ï¼Œé¦–å­—æ¯æ˜¯å°å†™</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    opt</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">SerializerSettings</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">ContractResolver</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> DefaultContractResolver</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">        NamingStrategy</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> SnakeCaseNamingStrategy</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">});</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤æ—¶è¿è¡Œåï¼Œå¾—åˆ°çš„æ˜¯Key,è€Œä¸æ˜¯keyï¼Œæˆ‘æƒ³ä»–çš„é”®éƒ½å˜æˆä¸‹åˆ’çº¿æ–¹å¼çš„å°å†™</p>
<div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "Key"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Value"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "KeyTest"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Value_Test"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶ä»–æµ‹è¯•ï¼Œå¢åŠ å¤šçº§ï¼Œæµ‹è¯•æ­£å¸¸</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">HttpGet</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"get"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> dynamic</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> Get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> return</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">            Content</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">                Url</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Request</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Path</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">                NewUrlTest</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"test in new url test"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤æ—¶è¿è¡Œåï¼Œæ»¡è¶³è¦æ±‚ï¼Œå¤šå±‚ç»“æ„ä¹Ÿä¸ä¼šå½±å“</p>
<div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "content"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "url"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"/test/get"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">    "new_url_test"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"test in new url test"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>çœ‹äº†Newtonsoft.Jsonçš„githubï¼Œå¹¶åœ¨in this repository æœç´¢Dictionaryï¼Œçœ‹issuesä¸­çš„é…ç½®é¡¹å¦‚ä¸‹å³å¯æ»¡è¶³dictionaryçš„é”®ä¹Ÿè½¬å°å†™,<br>
ProcessDictionaryKeys åŠŸèƒ½ï¼šA flag indicating whether dictionary keys should be processed. Defaults to false.</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">services</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddMvc</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">SetCompatibilityVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CompatibilityVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Version_2_2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddJsonOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">opt</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    // è®¾ç½®ä¸‹åˆ’çº¿æ–¹å¼ï¼Œé¦–å­—æ¯æ˜¯å°å†™</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    opt</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">SerializerSettings</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">ContractResolver</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> DefaultContractResolver</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">        NamingStrategy</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> SnakeCaseNamingStrategy</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">            ProcessDictionaryKeys</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">});</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "key"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Value"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "key_test"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Value_Test"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>å®ç°æ—¶é—´æˆ³</h2>
<p>å‰å°è¦çš„æ ¼å¼ä¸º  <strong>1562904163734</strong>,åªæœ‰ä¸€ä¸ªæ•°å­—ï¼Œæˆ‘æœç´¢äº†ä¸€ä¸‹ï¼Œä¹Ÿæ²¡æ‰¾åˆ°ç›¸å…³çš„æ–‡æ¡£ï¼Œæœ¬èº«è¿™ä¸ªç±»åº“æœ‰ä¸€äº›æ—¶é—´æˆ³ï¼Œä¸è¿‡ä»–ä»¬éƒ½åŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼Œå¦‚/Date(1562904163734)/,å¥½åƒç±»ä¼¼è¿™æ ·ï¼Œä»–å¥½åƒåœ¨é€—æˆ‘ï¼Œä¸ºå•¥ä»–è¦åŠ Dateï¼Œæ€•æ˜¯æœ‰æ¯’å§ã€‚çœ‹åˆ°<br>
ä»–æœ‰Converterså±æ€§å¯é…ç½®ï¼Œå³é…ç½®è‡ªå·±çš„åºåˆ—åŒ–è¿”å›æ ¼å¼ã€‚</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">services</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddMvc</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">SetCompatibilityVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">CompatibilityVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Version_2_2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddJsonOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">opt</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //opt.SerializerSettings.DateFormatString = "yyyy-MM-dd HH:MM:ss";</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //è®¾ç½®æ—¶é—´æˆ³æ ¼å¼</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">    opt</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">SerializerSettings</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Converters</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> List</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">JsonConverter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">&gt;()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF">        new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> LinCmsTimeConverter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">});</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™é‡Œçš„æ—¶é—´æˆ³æ˜¯æ¯«ç§’çº§åˆ«</p>
<div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/// é…åˆLinCMSä¸­çš„æ—¶é—´æˆ³ åå°åªè¿”å› 1562904163734</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> LinCmsTimeConverter</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">DateTimeConverterBase</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> override</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> WriteJson</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">JsonWriter</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> writer</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">object</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">JsonSerializer</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> serializer</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        double</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> javaScriptTicks</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> is</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> DateTime</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> dateTime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">            javaScriptTicks</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> ConvertDateTimeInt</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">dateTime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        else</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">            if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2">!</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> is</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> DateTimeOffset</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> dateTimeOffset</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">                throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> JsonSerializationException</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Expected date object value."</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">            javaScriptTicks</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> ConvertDateTimeInt</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">dateTimeOffset</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToUniversalTime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">().</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">UtcDateTime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        writer</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">WriteValue</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">javaScriptTicks</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> override</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> object</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> ReadJson</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">JsonReader</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> reader</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">Type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> objectType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">object</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> existingValue</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">JsonSerializer</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> serializer</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> ConvertIntDateTime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">double</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">Parse</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">reader</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">ToString</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">()));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// æ—¥æœŸè½¬æ¢ä¸ºæ—¶é—´æˆ³ï¼ˆæ—¶é—´æˆ³å•ä½æ¯«ç§’ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">summary</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic"> name</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">=</span><span style="--shiki-light:#032F62;--shiki-light-font-style:inherit;--shiki-dark:#98C379;--shiki-dark-font-style:italic">"TimeStamp"</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">param</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /// </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&lt;</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">returns</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">returns</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#ABB2BF;--shiki-dark-font-style:italic">&gt;</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> DateTime</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> ConvertIntDateTime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">double</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> milliseconds</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> DateTime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">1970</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddMilliseconds</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">milliseconds</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> double</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> ConvertDateTimeInt</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">DateTime</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> aDt</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">aDt</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> -</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> DateTime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">1970</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)).</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">TotalMilliseconds</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>å‚è€ƒ</h2>
<ul>
<li><a href="https://github.com/JamesNK/Newtonsoft.Json/issues/2088" target="_blank" rel="noopener noreferrer">https://github.com/JamesNK/Newtonsoft.Json/issues/2088</a></li>
<li><a href="https://www.newtonsoft.com/json/help/html/P_Newtonsoft_Json_Serialization_NamingStrategy_ProcessDictionaryKeys.htm" target="_blank" rel="noopener noreferrer">https://www.newtonsoft.com/json/help/html/P_Newtonsoft_Json_Serialization_NamingStrategy_ProcessDictionaryKeys.htm</a></li>
<li><a href="https://blog.csdn.net/yw1688/article/details/38492583" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/yw1688/article/details/38492583</a></li>
<li><a href="https://www.jianshu.com/p/c53b1a2a121d" target="_blank" rel="noopener noreferrer">https://www.jianshu.com/p/c53b1a2a121d</a></li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>å¼€æºä»‹ç»</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/open-source-road.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/open-source-road.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">å¼€æºä»‹ç»</source>
      <description>å¼€æºä»‹ç» åœ°å€ï¼šhttps://github.com/luoyunchong/lin-cms-dotnetcore 1.ä»€ä¹ˆæ˜¯cmsï¼Ÿ Content Management Systemï¼Œå†…å®¹ç®¡ç†ç³»ç»Ÿã€‚ 2.dotnetcoreæ˜¯ä»€ä¹ˆ .NET Coreï¼Œæ˜¯ç”±Microsoftå¼€å‘ï¼Œç›®å‰åœ¨.NET Foundation(ä¸€ä¸ªéè¥åˆ©çš„å¼€æºç»„ç»‡)ä¸‹è¿›è¡Œç®¡ç†...</description>
      <pubDate>Fri, 28 Feb 2020 11:10:31 GMT</pubDate>
      <content:encoded><![CDATA[
<ul>
<li>åœ°å€ï¼š<a href="https://github.com/luoyunchong/lin-cms-dotnetcore" target="_blank" rel="noopener noreferrer">https://github.com/luoyunchong/lin-cms-dotnetcore</a></li>
</ul>
<p>1.ä»€ä¹ˆæ˜¯cmsï¼Ÿ</p>
<p>Content Management Systemï¼Œå†…å®¹ç®¡ç†ç³»ç»Ÿã€‚</p>
<p>2.dotnetcoreæ˜¯ä»€ä¹ˆ</p>
<p>.NET Coreï¼Œæ˜¯ç”±Microsoftå¼€å‘ï¼Œ<a href="http://xn--ldr31jfr8a.NET" target="_blank" rel="noopener noreferrer">ç›®å‰åœ¨.NET</a> Foundation(ä¸€ä¸ªéè¥åˆ©çš„å¼€æºç»„ç»‡)ä¸‹è¿›è¡Œç®¡ç†ï¼Œé‡‡ç”¨å®½æ¾çš„MITåè®®ï¼Œå¯æ„å»ºå„ç§è½¯ä»¶ï¼ŒåŒ…æ‹¬Webåº”ç”¨ç¨‹åºã€ç§»åŠ¨åº”ç”¨ç¨‹åºã€æ¡Œé¢åº”ç”¨ç¨‹åºã€äº‘æœåŠ¡ã€å¾®æœåŠ¡ã€APIã€æ¸¸æˆå’Œç‰©è”ç½‘åº”ç”¨ç¨‹åº</p>
<p>3.lin-cms æ˜¯ä»€ä¹ˆ</p>
<p>Lin-CMS æ˜¯æ—é—´æœ‰é£å›¢é˜Ÿç»è¿‡å¤§é‡é¡¹ç›®å®è·µæ‰€æç‚¼å‡ºçš„ä¸€å¥—å†…å®¹ç®¡ç†ç³»ç»Ÿæ¡†æ¶ã€‚Lin-CMS å¯ä»¥æœ‰æ•ˆçš„å¸®åŠ©å¼€å‘è€…æé«˜ CMS çš„å¼€å‘æ•ˆç‡, éœ€è¦å‰ç«¯ï¼Ÿè¯·è®¿é—®å‰ç«¯ä»“åº“ã€‚å®˜æ–¹å›¢é˜Ÿäº§å“äº†è§£è¯·è®¿é—®TaleLin</p>
<p>4.lin-cms-dotnetcoreæœ‰å“ªäº›ç‰¹ç‚¹ï¼Ÿ</p>
<p>å‰åç«¯åˆ†ç¦»ï¼Œæä¾›åç«¯æ¥å£ï¼Œæ›´å°‘çš„ä¾èµ–ï¼Œåç»­å°†å®ç°æ¨¡å—åŒ–å®‰è£…ä¸å¸è½½ã€‚</p>
<ul>
<li>ç”¨æˆ·ç®¡ç†ã€åˆ†ç»„ç®¡ç†ã€åˆ†ç»„æƒé™ç®¡ç†ã€æ—¥å¿—ç³»ç»Ÿã€æ–‡ä»¶ä¸Šä¼ ç­‰</li>
<li>æ›´å¤šåŠŸèƒ½ï¼ˆè‡ªå®šä¹‰æ‰©å±•-æ¨¡å—ç³»ç»Ÿï¼‰</li>
<li>åšå®¢æ¨¡å—ï¼Œç±»æ˜é‡‘ä¸“æ ï¼Œç”¨æˆ·ä¸­å¿ƒï¼Œæ ‡ç­¾ã€ä¸ªäººä¸“æ ã€æŠ€æœ¯é¢‘é“ï¼ˆé¦–é¡µåˆ†ç±»ï¼‰</li>
</ul>
<h2>è®¾è®¡å¦‚ä¸‹</h2>
<h4>å­—å…¸ç®¡ç†</h4>
<h3>æˆ‘åŸæœ¬æƒ³å®ç°è¿™æ ·çš„åŠŸèƒ½</h3>
<p>BaseType 1 å¯¹BaseItemå¤šã€‚</p>
<p>å¦‚ï¼šæ ‡ç­¾ç®¡ç†ï¼Œä¸€ä¸ªæ–‡ç« ä¸‹å¯ä»¥è®¾ç½®å¤šä¸ªæ ‡ç­¾ï¼ŒåŸæœ¬éœ€è¦è®¾è®¡è¡¨Tag,å­—æ®µä¹Ÿå¤§æŠµä¸ºId,Name,SortåŠå…³è”è¡¨ã€‚<br>
æˆ‘ä»¬ä½¿ç”¨BaseTypeã€BaseItemå®ç°ã€‚<br>
BaseTypeä¸­TypeCodeä¸ºtag,FullNameä¸ºæ ‡ç­¾ï¼Œidä¸º1æ—¶ã€‚<br>
BaseItemä¸­BaseTypeIdä¸º1ï¼ŒItemCodeä¸ºç¼–ç ,ItemNameä¸ºæ ‡ç­¾ã€‚ItemCodeä¸ºä¸é‡å¤çš„å­—ç¬¦ä¸²å³å¯ã€‚</p>
<p>å¦Tagä¸Articleçš„å…³è”è¡¨ï¼Œéœ€è¦å¦è®¾è®¡ä¸€ä¸ªè¡¨ã€‚</p>
<p>å½“æˆ‘ä»¬è¦å®ç°æ–‡ç« ç±»åˆ«çš„ä¸‹æ‹‰ï¼ŒåŸæœ¬éœ€è¦è®¾è®¡ä¸€ä¸ªè¡¨ArticleTypeï¼Œæœ‰å­—æ®µ,id,name,sortç­‰ã€‚<br>
æˆ‘ä»¬å¯ä»¥é€šè¿‡BaseTypeã€BaseItemæ¥å®ç°ï¼Œä»è€Œç®€åŒ–è¿™äº›åŸºç¡€æ•°æ®ã€‚<br>
BaseTypeæœ‰ä¸€æ¡æ•°æ®ï¼ŒTypeCodeä¸º å­—ç¬¦ä¸²categoryã€FullNameæ–‡ç« ç±»åˆ«ï¼ŒBaseItemå­˜å¤šä¸ªæ–‡ç« ç±»åˆ«(Javaã€å¤§æ•°æ®ã€Pythonã€C#ç­‰)ï¼Œç¼–ç ä¸åŒå³å¯ã€‚</p>
<ol>
<li>è¡¨ç»“æ„</li>
</ol>
<h4>base_type ï¼ˆå­—å…¸ç±»åˆ«ç®¡ç†ï¼‰</h4>
<p>| å­—æ®µ      | ç±»å‹        | å¤‡æ³¨     |<br>
|</p>
]]></content:encoded>
    </item>
    <item>
      <title>åŠŸèƒ½æ¨¡å—çš„è®¾è®¡</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/pm-design-modules.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/pm-design-modules.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">åŠŸèƒ½æ¨¡å—çš„è®¾è®¡</source>
      <description>åŠŸèƒ½æ¨¡å—çš„è®¾è®¡ åŸºç¡€æƒé™æ¨¡å— ç”¨æˆ·ä¿¡æ¯ï¼šé‚®ä»¶ã€ç”¨æˆ·åï¼ˆå”¯ä¸€ï¼‰ã€æ˜µç§°ã€å¤´åƒã€åˆ†ç»„ã€æ˜¯å¦æ¿€æ´»ã€æ‰‹æœºå·ã€æ˜¯å¦æ˜¯Adminã€ä¸ªæ€§ç­¾å æ³¨å†Œ/ç™»å½• ä¸Šä¼ å¤´åƒ ä¿®æ”¹å¯†ç  ç”¨æˆ·åŸºæœ¬ä¿¡æ¯ä¿®æ”¹ ç”¨æˆ·å¢åˆ æ”¹ï¼Œé…ç½®åˆ†ç»„ ç»‘å®šç¬¬ä¸‰æ–¹è´¦å· GitHubç™»å½• QQ ç™»å½• åˆ†ç»„ä¿¡æ¯ï¼šæ˜¯å¦é™æ€åˆ†ç»„ï¼ˆæ— æ³•åˆ é™¤ï¼Œæ— æ³•ä¿®æ”¹åˆ†ç»„ç¼–ç ï¼‰ã€åç§°å¯ä»¥ä¿®æ”¹ åˆ†ç»„å¢åˆ æ”¹ ç»„åˆ«é…ç½®æƒé™ æ–‡ä»¶ç®¡ç† æœ¬åœ°æ–‡...</description>
      <category>lin-cms-dotnetcore</category>
      <pubDate>Sun, 24 Nov 2019 12:44:22 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>åŸºç¡€æƒé™æ¨¡å—</h2>
<ul>
<li>ç”¨æˆ·ä¿¡æ¯ï¼šé‚®ä»¶ã€ç”¨æˆ·åï¼ˆå”¯ä¸€ï¼‰ã€æ˜µç§°ã€å¤´åƒã€åˆ†ç»„ã€æ˜¯å¦æ¿€æ´»ã€æ‰‹æœºå·ã€æ˜¯å¦æ˜¯Adminã€ä¸ªæ€§ç­¾å
<ul class="task-list-container">
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-0" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-0"> æ³¨å†Œ/ç™»å½•</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-1" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-1"> ä¸Šä¼ å¤´åƒ</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-2" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-2"> ä¿®æ”¹å¯†ç </label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-3" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-3"> ç”¨æˆ·åŸºæœ¬ä¿¡æ¯ä¿®æ”¹</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-4" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-4"> ç”¨æˆ·å¢åˆ æ”¹ï¼Œé…ç½®åˆ†ç»„</label></li>
</ul>
</li>
<li>ç»‘å®šç¬¬ä¸‰æ–¹è´¦å·
<ul class="task-list-container">
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-5" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-5"> GitHubç™»å½•</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-6" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-6"> QQ ç™»å½•</label></li>
</ul>
</li>
<li>åˆ†ç»„ä¿¡æ¯ï¼šæ˜¯å¦é™æ€åˆ†ç»„ï¼ˆæ— æ³•åˆ é™¤ï¼Œæ— æ³•ä¿®æ”¹åˆ†ç»„ç¼–ç ï¼‰ã€åç§°å¯ä»¥ä¿®æ”¹
<ul class="task-list-container">
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-7" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-7"> åˆ†ç»„å¢åˆ æ”¹</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-8" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-8"> ç»„åˆ«é…ç½®æƒé™</label></li>
</ul>
</li>
<li>æ–‡ä»¶ç®¡ç†
<ul class="task-list-container">
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-9" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-9"> æœ¬åœ°æ–‡ä»¶ä¸Šä¼ </label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-10" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-10"> ä¸ƒç‰›äº‘å­˜å‚¨</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-11" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-11"> æ–‡ä»¶å»é‡ï¼Œç§’ä¼ </label></li>
</ul>
</li>
<li>ç³»ç»Ÿæ—¥å¿—ï¼šè¯·æ±‚æ–¹æ³•ã€è·¯å¾„ã€httpè¿”å›ç ã€æ—¶é—´ã€ç”¨æˆ·æ˜µç§°ã€ç”¨æˆ·idã€è®¿é—®å“ªä¸ªæƒé™ã€ æ—¥å¿—ä¿¡æ¯
<ul class="task-list-container">
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-12" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-12"> è®°å½•ç³»ç»Ÿè¯·æ±‚çš„æ—¥å¿—</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-13" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-13"> å¼‚å¸¸æ—¥å¿—</label></li>
</ul>
</li>
<li>è®¾ç½®ç®¡ç†ï¼šname(é”®ï¼‰,value(å€¼),provider_name(æä¾›å),provider_keyï¼ˆæä¾›è€…å€¼ï¼‰
<ul class="task-list-container">
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-14" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-14"> è®¾ç½®æ–°å¢ä¿®æ”¹åˆ é™¤</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-15" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-15"> æ‰€æœ‰è®¾ç½®</label></li>
</ul>
</li>
</ul>
<p>æ¯”å¦‚å­˜æŸç”¨æˆ·é€‰æ‹©çš„æ˜¯markdownè¿˜æ˜¯å¯Œæ–‡æœ¬ã€‚</p>
<div class="language-txt line-numbers-mode" data-highlighter="shiki" data-ext="txt" data-title="txt" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>name="Article.Editor",</span></span>
<span class="line"><span>value="markdown" æˆ– "å¯Œæ–‡æœ¬"ï¼Œ</span></span>
<span class="line"><span>provider_nameä¸º"User",</span></span>
<span class="line"><span>provider_keyä¸ºç”¨æˆ·Id</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ–å­˜å‚¨ä¸ƒç‰›äº‘çš„æŸä¸€ä¸ªé…ç½®</p>
<div class="language-txt line-numbers-mode" data-highlighter="shiki" data-ext="txt" data-title="txt" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>name="Qiniu.AK",</span></span>
<span class="line"><span>value="asfadsfadf23rft66S4XM2GIK7FGmj7czuYkcAyNGDAc" ï¼Œ</span></span>
<span class="line"><span>provider_nameä¸º"Qiniu"æˆ–è‡ªå·±å®šä¹‰çš„å­—ç¬¦ä¸²</span></span>
<span class="line"><span>provider_keyä¸ºç©º</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>cms ç®¡ç†å‘˜ç»´æŠ¤æ¨¡å—</h2>
<ul>
<li>æ ‡ç­¾ç®¡ç†ï¼šåç§°ã€å›¾ç‰‡ï¼Œæ˜¯å¦å¯ç”¨/ç¦ç”¨ï¼Œæ’åºã€æ–‡ç« æ•°é‡ã€ç”¨æˆ·å…³æ³¨æ•°é‡ã€‚
<ul class="task-list-container">
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-16" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-16"> æ ‡ç­¾å¢åˆ æ”¹</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-17" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-17"> æ ‡ç­¾åˆ—è¡¨ï¼Œç¦ç”¨</label></li>
</ul>
</li>
<li>æŠ€æœ¯é¢‘é“ï¼šå°é¢å›¾ã€åç§°ã€æ˜¯å¦å¯ç”¨/ç¦ç”¨ã€æ’åºã€ç¼–ç ã€å¤‡æ³¨æè¿°ã€ä¸‹å±æ ‡ç­¾.ä¸€ä¸ªæŠ€æœ¯é¢‘é“å¯¹åº”å¤šä¸ªæ ‡ç­¾
<ul class="task-list-container">
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-18" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-18"> æŠ€æœ¯é¢‘é“å¢åˆ æ”¹</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-19" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-19"> åˆ—è¡¨ã€ç¦ç”¨</label></li>
</ul>
</li>
<li>éšç¬”ç®¡ç†ï¼š
<ul class="task-list-container">
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-20" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-20"> å®¡æ ¸éšç¬”/æ‹‰é»‘</label></li>
</ul>
</li>
<li>è¯„è®ºç®¡ç†
<ul class="task-list-container">
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-21" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-21"> åå°å®¡æ ¸é€šè¿‡/æ‹‰é»‘</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-22" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-22"> ç®¡ç†å‘˜åˆ é™¤è¯„è®º</label></li>
</ul>
</li>
<li>å­—å…¸ç®¡ç†
<ul class="task-list-container">
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-23" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-23"> å­—å…¸ç±»åˆ«ç®¡ç†</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-24" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-24"> å­—å…¸ç®¡ç†ï¼šå¦‚éšç¬”ç±»å‹ï¼ˆåŸåˆ›ã€è½¬è½½ã€ç¿»è¯‘ï¼‰</label></li>
</ul>
</li>
</ul>
<h2>cms ç”¨æˆ·ç«¯æ¨¡å—</h2>
<ul>
<li>
<p>æŠ€æœ¯é¢‘é“</p>
<ul class="task-list-container">
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-25" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-25"> é¦–é¡µå±•ç¤ºæŠ€æœ¯é¢‘é“</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-26" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-26"> é€‰æ‹©æŠ€æœ¯é¢‘é“åï¼Œå¯å†æ ¹æ®æ ‡ç­¾æŸ¥è¯¢æ–‡ç« </label></li>
</ul>
</li>
<li>
<p>åˆ†ç±»ä¸“æ ç®¡ç†:å‘å¸ƒéšç¬”æ—¶å¯é€‰æ‹©å•ä¸ªåˆ†ç±»ã€‚</p>
<ul class="task-list-container">
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-27" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-27"> åˆ†ç±»å¢åˆ æ”¹(éšç¬”æ•°é‡ã€å›¾ç‰‡ã€åç§°ã€æ’åº)</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-28" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-28"> åˆ†ç±»åˆ—è¡¨ï¼Œä»…æŸ¥çœ‹ã€ç¼–è¾‘è‡ªå·±åˆ›å»ºçš„åˆ†ç±»ä¸“æ </label></li>
</ul>
</li>
<li>
<p>æ ‡ç­¾ï¼šç»Ÿè®¡æ¯ä¸ªæ ‡ç­¾ä¸‹å¤šå°‘ä¸ªæ–‡ç« ã€å¤šå°‘äººå…³æ³¨</p>
<ul class="task-list-container">
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-29" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-29"> æ ‡ç­¾åˆ—è¡¨</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-30" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-30"> æ— é™åŠ è½½</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-31" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-31"> æœ€æ–°/æœ€çƒ­ æ ¹æ®æ ‡ç­¾åç§°æ¨¡ç³ŠæŸ¥è¯¢</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-32" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-32"> å·²å…³æ³¨çš„æ ‡ç­¾</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-33" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-33"> çƒ­é—¨æ ‡ç­¾</label></li>
</ul>
</li>
<li>
<p>éšç¬”</p>
<ul class="task-list-container">
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-34" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-34"> æ”¯æŒmarkdownï¼Œå¢åˆ æ”¹ï¼ˆä»…è‡ªå·±çš„éšç¬”ï¼‰,ä¿®æ­£åˆ†ç±»ä¸“æ ä¸­çš„éšç¬”æ•°é‡</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-35" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-35"> åˆ—è¡¨æ— é™åŠ è½½ï¼ŒæŒ‰æ ‡ç­¾æŸ¥è¯¢éšç¬”</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-36" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-36"> ç‚¹èµéšç¬”</label></li>
<li>éšç¬”è¯¦æƒ…é¡µ
<ul class="task-list-container">
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-37" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-37"> æ”¯æŒç›®å½•å¯¼èˆªï¼ˆæ»šåŠ¨æ—¶ï¼Œå›ºå®šè‡³é¡¶éƒ¨ä½ç½®ï¼‰ï¼Œå±•ç¤ºå­—æ•°ç»Ÿè®¡ã€é¢„è®¡é˜…è¯»æ—¶é•¿ï¼›</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-38" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-38"> ä½œè€…ä»‹ç»ï¼šå¤´åƒï¼Œæ˜µç§°ï¼Œç­¾åï¼Œéšç¬”æ•°ï¼›</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-39" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-39"> å±•ç¤ºæ–‡ç« ç±»å‹ï¼šåŸåˆ›ã€è½¬è½½ã€ç¿»è¯‘</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-40" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-40">  ç›¸å…³æ–‡ç« </label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-41" disabled="disabled"><label class="task-list-item-label" for="task-item-41">  æ¨èæ–‡ç« </label></li>
</ul>
</li>
</ul>
</li>
<li>
<p>è¯„è®º</p>
<ul class="task-list-container">
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-42" disabled="disabled"><label class="task-list-item-label" for="task-item-42"> ç”¨æˆ·å…³é—­è¯„è®ºæ—¶ï¼Œæ— æ³•å¯¹éšç¬”è¿›è¡Œè¯„è®º</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-43" disabled="disabled"><label class="task-list-item-label" for="task-item-43"> è¯„è®ºéšç¬”(å†…å®¹æ”¯æŒè¶…é“¾æ¥ã€emoji)</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-44" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-44"> åˆ é™¤è‡ªå·±çš„è¯„è®º</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-45" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-45"> ç‚¹èµè¯„è®º</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-46" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-46"> å›å¤è¯„è®º</label></li>
</ul>
</li>
<li>
<p>å…³æ³¨</p>
<ul class="task-list-container">
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-47" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-47"> å…³æ³¨/å–æ¶ˆå…³æ³¨ç”¨æˆ·</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-48" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-48"> å…³æ³¨/å–æ¶ˆå…³æ³¨æ ‡ç­¾</label></li>
</ul>
</li>
<li>
<p>ä¸ªäººä¸»é¡µ</p>
<ul>
<li>éšç¬”
<ul class="task-list-container">
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-49" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-49"> ç”¨æˆ·ä¸“æ åˆ†ç±»å±•ç¤º</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-50" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-50"> æœ€æ–°å‘å¸ƒçš„éšç¬”</label></li>
</ul>
</li>
<li>å…³æ³¨
<ul class="task-list-container">
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-51" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-51"> å…³æ³¨çš„äºº</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-52" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-52"> ç²‰ä¸</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-53" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-53"> å…³æ³¨çš„æ ‡ç­¾</label></li>
</ul>
</li>
</ul>
</li>
<li>
<p>è®¾ç½®</p>
<ul>
<li>ä¸ªäººä¸»é¡µè®¾ç½®
<ul class="task-list-container">
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-54" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-54"> ä¸ªäººèµ„æ–™æ›´æ–°</label></li>
</ul>
</li>
<li>å®‰å…¨è®¾ç½®
<ul class="task-list-container">
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-55" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-55"> å¯†ç ä¿®æ”¹</label></li>
</ul>
</li>
<li>åšå®¢è®¾ç½®
<ul class="task-list-container">
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-56" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-56"> é»˜è®¤ç¼–è¾‘å™¨è®¾ç½®(markdown/å¯Œæ–‡æœ¬)</label></li>
</ul>
</li>
</ul>
</li>
<li>
<p>æ¶ˆæ¯</p>
<ul class="task-list-container">
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-57" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-57"> ç‚¹èµéšç¬”ã€ç‚¹èµè¯„è®º</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-58" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-58"> è¯„è®ºéšç¬”ã€å›å¤è¯„è®º</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-59" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-59"> ç”¨æˆ·å…³æ³¨</label></li>
</ul>
</li>
</ul>
<h2>è¯„è®ºæ¨¡å—</h2>
<h3>ä¸»é¢˜å¼</h3>
<p>å°†è¯„è®ºåˆ†ä¸ºäºŒçº§ï¼Œç¬¬ä¸€çº§é‡‡ç”¨æ—¶é—´å€’åºï¼ŒäºŒçº§æŒ‰ç…§æ—¶é—´æ­£åºï¼Œæœ‰åŠ©äºç†è§£ä¸Šä¸‹æ–‡å…³ç³»ã€‚</p>
<p>ç”¨æˆ·æ“ä½œï¼š</p>
<ul>
<li>è¯„è®ºéšç¬”(å†…å®¹æ”¯æŒè¶…é“¾æ¥ã€emoji)</li>
<li>ç‚¹èµè¯„è®º/å–æ¶ˆç‚¹èµ</li>
<li>å›å¤è¯„è®º</li>
<li>åˆ é™¤è‡ªå·±çš„è¯„è®º</li>
</ul>
<p>è¿è¥æ“ä½œï¼š</p>
<ul>
<li>å®¡æ ¸é€šè¿‡/æ‹‰é»‘è¯„è®º</li>
<li>åˆ é™¤ä»»ä½•è¯„è®º</li>
<li>æ‹‰é»‘åçš„æ˜¾ç¤ºé€»è¾‘ã€‚ï¼ˆä¿ç•™å½“å‰åŒºå—ã€æ˜¾ç¤ºå†…å®¹ä¸ºï¼šè¯¥è¯„è®ºå› è¿è§„è¢«æ‹‰é»‘ï¼‰</li>
<li>åˆ é™¤ï¼šï¼ˆå¦‚æœæ˜¯äºŒçº§è¯„è®ºï¼Œç›´æ¥è½¯åˆ é™¤ï¼Œå¦‚æœæ˜¯ä¸€çº§è¯„è®ºï¼Œè½¯åˆ é™¤å­è¯„è®ºå’Œå½“å‰è¯„è®º-éœ€è¦æå‰æé†’ç”¨æˆ·ï¼‰<br>
äº¤äº’è®¾è®¡</li>
<li>è¯„è®ºçš„å­—æ•°é•¿åº¦ï¼ˆ500ï¼‰ã€emojiã€‚</li>
<li>ç‚¹èµäº¤äº’-åŠ¨ç”»ã€æ¶ˆæ¯é€šçŸ¥/æ¨é€</li>
<li>è¯„è®ºåŒºåŸŸå…ƒç´ ï¼Œéœ€è¦æœ‰æ˜ç¡®å¯ç‚¹å‡»çš„åŒºåŸŸï¼Œä¼šè·³è½¬åˆ°å“ªä¸ªåœ°æ–¹ã€‚</li>
</ul>
<h3>ä¼˜åŒ–</h3>
<ul>
<li>ç²¾é€‰è¯„è®º</li>
</ul>
<h3>è„‘å›¾åˆ†äº«</h3>
<p><a href="http://naotu.baidu.com/file/6532431a2e1f0c37c93c5ffd1dd5b49c?token=87690a9bc64fbae1" target="_blank" rel="noopener noreferrer">http://naotu.baidu.com/file/6532431a2e1f0c37c93c5ffd1dd5b49c?token=87690a9bc64fbae1</a></p>
<h3>åˆ†ç»„</h3>
<p>åˆ†ä¸ºä¸‰ç§</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>id  name        info</span></span>
<span class="line"><span>1 Admin     ç³»ç»Ÿç®¡ç†å‘˜</span></span>
<span class="line"><span>2 CmsAdmin å†…å®¹ç®¡ç†å‘˜</span></span>
<span class="line"><span>3 User     æ™®é€šç”¨æˆ·</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>å®¡è®¡æ—¥å¿—</h3>
<p>å¤§å¤šæ•°è¡¨å­˜åœ¨å¦‚ä¸‹8ä¸ªå­—æ®µï¼Œç”¨äºè®°å½•è¡Œçš„å˜åŒ–çŠ¶æ€ï¼Œis_deletedä¸ºè½¯åˆ é™¤ï¼Œæ‰§è¡Œåˆ é™¤æ“ä½œæ—¶ï¼Œå°†å…¶çŠ¶æ€ç½®ä¸ºtrueï¼Œé»˜è®¤å®ä½“ç±»ç»§æ‰¿ <strong>FullAuditEntity</strong>  å³å¯æ‹¥æœ‰ä»¥ä¸‹8ä¸ªå­—æ®µã€‚è¯¥è®¾è®¡å‚è€ƒABPä¸­çš„å®ç°ã€‚FullAuditEntityä¸ºæ³›å‹ï¼Œé»˜è®¤idä¸ºlongç±»å‹ï¼ŒFullAuditEntity&lt;Guid&gt;,å³å¯æ”¹å˜ä¸»é”®ç±»å‹ï¼Œé»˜è®¤LinUserè¡¨ä¸»é”®longï¼Œä¿æŒ<strong>create_user_id</strong>,<strong>delete_user_id</strong>,<strong>update_user_id</strong>éƒ½ä¸LinUserçš„ä¸»é”®ç›¸åŒ</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span></span></span>
<span class="line"><span>id                 bigint</span></span>
<span class="line"><span>create_user_id   bigint</span></span>
<span class="line"><span>create_time         datetime</span></span>
<span class="line"><span>is_deleted         bit</span></span>
<span class="line"><span>delete_user_id   bigint</span></span>
<span class="line"><span>delete_time         datetime</span></span>
<span class="line"><span>update_user_id     bigint</span></span>
<span class="line"><span>update_time         datetime</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>0.3.0ç‰ˆæœ¬æƒé™åŠŸèƒ½å‡çº§</h2>
<p>ä¸ºæ”¯æŒä¸€ä¸ªç”¨æˆ·å¤šä¸ªåˆ†ç»„ï¼Œä¸€ä¸ªåˆ†ç»„å¤šä¸ªæƒé™ï¼Œä¸€ä¸ªç”¨æˆ·å¯åˆ†å¤šç§æˆæƒç™»å½•æ–¹å¼ï¼Œæ ¹æ®lin-cms-springbooté¡¹ç›®åŠŸèƒ½æ¨¡å—å‡çº§ï¼Œä»‹ç»å¦‚ä¸‹ï¼š</p>
<ol>
<li>lin_permission  æƒé™è¡¨ï¼Œæœ¬ç³»ç»Ÿé€šè¿‡åå°„åœ¨ç³»ç»Ÿåˆæ¬¡å¯åŠ¨æ—¶ï¼Œå¯åŠ¨å¼‚æ­¥ä»»åŠ¡ï¼Œå°†ä¸å­˜åœ¨çš„æƒé™æ–°å¢åˆ°æ­¤è¡¨ä¸­ã€‚</li>
<li>lin_group_permission  åˆ†ç»„æƒé™è¡¨ï¼Œç”¨äºåˆ†ç»„ä¸æƒé™è¡¨çš„å…³è”</li>
<li>lin_user_group  ç”¨æˆ·åˆ†ç»„è¡¨ã€‚ç”¨äºç”¨æˆ·å’Œåˆ†ç»„è¡¨çš„å…³è”ã€‚å¯é…ç½®ä¸€ä¸ªç”¨æˆ·å±äºå¤šä¸ªåˆ†ç»„ã€‚</li>
<li>lin_user_identity ç”¨æˆ·æˆæƒä¿¡æ¯è¡¨ï¼Œç”¨äºå­˜å‚¨ä¸åŒç™»å½•ç±»å‹çš„ç”¨æˆ·ä¿¡æ¯ï¼Œå¦‚æ‰‹æœºå·ã€é‚®ä»¶ã€ç”¨æˆ·åã€ç¬¬ä¸‰æ–¹åº”ç”¨ï¼ˆå¾®ä¿¡ã€QQã€GitHubï¼‰çš„ç™»å½•</li>
</ol>
<h2>lin-cms å¼€æºåœ°å€åˆ†äº«</h2>
<ul>
<li>åç«¯æ¥å£ <a href="https://github.com/luoyunchong/lin-cms-dotnetcore" target="_blank" rel="noopener noreferrer">https://github.com/luoyunchong/lin-cms-dotnetcore</a></li>
<li>ç®¡ç†åå°UI <a href="https://github.com/luoyunchong/lin-cms-vue" target="_blank" rel="noopener noreferrer">https://github.com/luoyunchong/lin-cms-vue</a></li>
<li>å‰ç«¯UI<a href="https://github.com/luoyunchong/lin-cms-vvlog" target="_blank" rel="noopener noreferrer">https://github.com/luoyunchong/lin-cms-vvlog</a></li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>äº§å“è®¾è®¡</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/production-design.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/production-design.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">äº§å“è®¾è®¡</source>
      <description>äº§å“è®¾è®¡ äº§å“è®¾è®¡-è¯„è®ºæ¨¡å—çš„è®¾è®¡ 1.ä¸»é¢˜å¼ å°†è¯„è®ºåˆ†ä¸ºäºŒçº§ï¼Œç¬¬ä¸€çº§é‡‡ç”¨æ—¶é—´å€’åºï¼ŒäºŒçº§æŒ‰ç…§æ—¶é—´æ­£åºï¼Œæœ‰åŠ©äºç†è§£ä¸Šä¸‹æ–‡å…³ç³»ã€‚ ç”¨æˆ·æ“ä½œï¼š è¯„è®ºéšç¬”(å†…å®¹æ”¯æŒè¶…é“¾æ¥ã€emoji) ç‚¹èµè¯„è®º/å–æ¶ˆç‚¹èµ å›å¤è¯„è®º åˆ é™¤è‡ªå·±çš„è¯„è®º è¿è¥æ“ä½œï¼š å®¡æ ¸é€šè¿‡/æ‹‰é»‘è¯„è®º åˆ é™¤ä»»ä½•è¯„è®º æ‹‰é»‘åçš„æ˜¾ç¤ºé€»è¾‘ã€‚ï¼ˆä¿ç•™å½“å‰åŒºå—ã€æ˜¾ç¤ºå†…å®¹ä¸ºï¼šè¯¥è¯„è®ºå› è¿è§„è¢«æ‹‰é»‘ï¼‰ åˆ é™¤ï¼šï¼ˆå¦‚æœæ˜¯äºŒ...</description>
      <pubDate>Fri, 28 Feb 2020 11:10:31 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>äº§å“è®¾è®¡-è¯„è®ºæ¨¡å—çš„è®¾è®¡</h2>
<h3>1.ä¸»é¢˜å¼</h3>
<p>å°†è¯„è®ºåˆ†ä¸ºäºŒçº§ï¼Œç¬¬ä¸€çº§é‡‡ç”¨æ—¶é—´å€’åºï¼ŒäºŒçº§æŒ‰ç…§æ—¶é—´æ­£åºï¼Œæœ‰åŠ©äºç†è§£ä¸Šä¸‹æ–‡å…³ç³»ã€‚</p>
<p>ç”¨æˆ·æ“ä½œï¼š</p>
<ul class="task-list-container">
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-0" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-0"> è¯„è®ºéšç¬”(å†…å®¹æ”¯æŒè¶…é“¾æ¥ã€emoji)</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-1" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-1">  ç‚¹èµè¯„è®º/å–æ¶ˆç‚¹èµ</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-2" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-2">  å›å¤è¯„è®º</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-3" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-3">  åˆ é™¤è‡ªå·±çš„è¯„è®º</label></li>
</ul>
<p>è¿è¥æ“ä½œï¼š</p>
<ul class="task-list-container">
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-4" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-4">  å®¡æ ¸é€šè¿‡/æ‹‰é»‘è¯„è®º</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-5" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-5">  åˆ é™¤ä»»ä½•è¯„è®º</label></li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-6" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-6">  æ‹‰é»‘åçš„æ˜¾ç¤ºé€»è¾‘ã€‚ï¼ˆä¿ç•™å½“å‰åŒºå—ã€æ˜¾ç¤ºå†…å®¹ä¸ºï¼šè¯¥è¯„è®ºå› è¿è§„è¢«æ‹‰é»‘ï¼‰</label></li>
<li>åˆ é™¤ï¼šï¼ˆå¦‚æœæ˜¯äºŒçº§è¯„è®ºï¼Œç›´æ¥è½¯åˆ é™¤ï¼Œå¦‚æœæ˜¯ä¸€çº§è¯„è®ºï¼Œè½¯åˆ é™¤å­è¯„è®ºå’Œå½“å‰è¯„è®º-éœ€è¦æå‰æé†’ç”¨æˆ·ï¼‰<br>
äº¤äº’è®¾è®¡</li>
<li>è¯„è®ºçš„å­—æ•°é•¿åº¦ï¼ˆ500ï¼‰ã€emojiã€‚</li>
<li>ç‚¹èµäº¤äº’-åŠ¨ç”»ã€æ¶ˆæ¯é€šçŸ¥/æ¨é€</li>
<li>è¯„è®ºåŒºåŸŸå…ƒç´ ï¼Œéœ€è¦æœ‰æ˜ç¡®å¯ç‚¹å‡»çš„åŒºåŸŸï¼Œä¼šè·³è½¬åˆ°å“ªä¸ªåœ°æ–¹ã€‚</li>
</ul>
<h3>ä¼˜åŒ–</h3>
<ul>
<li>ç²¾é€‰è¯„è®º</li>
</ul>
<h2>æ’è¡Œæ¦œè§è§£</h2>
<p>æ’è¡Œæ¦œä»å¿ƒç†å­¦ä¸Šåˆ†æï¼Œä¸»è¦ä»å››ä¸ªæ–¹é¢å½±å“ç€æ‚¨ï¼š<strong>å¯»æ‰¾æƒå¨ ã€å‚ä¸æ¯”è¾ƒ ã€å…³æ³¨ä¸»æµ ã€è‡ªæˆ‘ç¡®è®¤ã€‚</strong></p>
<p>å¦‚ä½•è®¾è®¡ä¸€ä¸ªç®€å•çš„æ’è¡Œæ¦œå‘¢ã€‚ã€‚</p>
<p>åœ¨ä¸€ä¸ªåšå®¢éšç¬”ä¸­ï¼Œæˆ‘ä»¬è®¾è®¡ä¸€ä¸ª3å¤©ã€ä¸ƒå¤©ï¼ˆå‘¨æ¦œï¼‰ã€30å¤©ï¼ˆæœˆæ¦œï¼‰ã€å…¨éƒ¨çš„æ¦œå•ã€‚ä»¥æµè§ˆé‡ï¼ˆæƒé‡1ï¼‰ã€ç‚¹èµé‡ï¼ˆ20ï¼‰ã€è¯„è®ºé‡ï¼ˆ30)ã€‚æƒé‡å¯è‡ªå·±å®šä¹‰ã€‚</p>
<p>1.é»˜è®¤å–æœ€æ–°çš„éšç¬”</p>
<p>å‰å°ä¼ create_timeæ—¶ï¼Œä½¿ç”¨å¦‚ä¸‹sql</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>select * from `blog_article` order by create_time desc;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>2.ä¼ æ’åºæ–¹å¼ä¸ºæœ€è¿‘nå¤©çš„çƒ­æ¦œæ—¶ã€‚</p>
<p>å‚æ•°ï¼šTHREE_DAYS_HOTTESTï¼ˆä¸‰å¤©ï¼‰ã€WEEKLY_HOTTEST(ä¸ƒå¤©ï¼‰ã€MONTHLY_HOTTESTï¼ˆä¸€ä¸ªæœˆï¼‰ã€HOTTESTï¼ˆå…¨éƒ¨ï¼‰</p>
<p>mysql æŸ¥è¯¢å½“å‰æ—¥æœŸæ—¶é—´å‰ä¸‰å¤©æ•°æ®</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>select date_sub(now() ,interval 3 day);</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>æ ¹æ®æƒé‡æŸ¥è¯¢</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>select * from `blog_article` a </span></span>
<span class="line"><span>where a.`create_time`&gt;(select date_sub(now() ,interval 3 day))</span></span>
<span class="line"><span>order by (a.`view_hits` + a.`likes_quantity` * 20 + a.`comment_quantity` * 30) DESC, a.`create_time` DESC</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>åˆ›ä½œè€…ä¸­å¿ƒ</h2>
<h3>ç”¨æˆ·ä¸»é¡µ</h3>
<p>ç»Ÿè®¡å€¼ï¼šé˜…è¯»æ€»æ•°ï¼Œç‚¹èµæ€»æ•°ï¼Œå…³æ³¨è€…æ€»æ•°</p>
<h3>ä¸ªäººè®¾ç½®</h3>
<p>ç”¨æˆ·ä¿¡æ¯ã€å¯†ç ä¿®æ”¹</p>
<h2>æ›´å¤šå‚è€ƒ</h2>
<ul>
<li><a href="http://www.woshipm.com/pd/1255548.html" target="_blank" rel="noopener noreferrer">ä¸‡å­—é•¿æ–‡æ·±åº¦åˆ†æï¼šäº§å“æ’è¡Œæ¦œçš„è®¾è®¡å’Œç©æ³•</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/52322777" target="_blank" rel="noopener noreferrer">æƒ³çŸ¥é“è°æ˜¯ä½ çš„æœ€ä½³ç”¨æˆ·ï¼ŸåŸºäºRediså®ç°æ’è¡Œæ¦œå‘¨æœŸæ¦œä¸æœ€è¿‘NæœŸæ¦œ</a></li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>GitHubç¬¬ä¸‰æ–¹æˆæƒç™»å½•</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/spa-github-login.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/spa-github-login.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">GitHubç¬¬ä¸‰æ–¹æˆæƒç™»å½•</source>
      <description>ä½¿ç”¨ SPA+.NET Core3.1 å®ç° GitHub ç¬¬ä¸‰æ–¹æˆæƒç™»å½• ç±»ä¼¼ä½¿ç”¨ AspNet.Security.OAuth.GitHubï¼Œå‰ç«¯ä½¿ç”¨å¦‚ä¸‹ï¼šVUE+Vue-Router+axios AspNet.Security.OAuth.GitHub GitHub https://github.com/aspnet-contrib/AspNet....</description>
      <category>lin-cms-dotnetcore</category>
      <pubDate>Fri, 28 Feb 2020 11:10:31 GMT</pubDate>
      <content:encoded><![CDATA[<p>ä½¿ç”¨ <a href="http://SPA+.NET" target="_blank" rel="noopener noreferrer">SPA+.NET</a> Core3.1 å®ç° GitHub ç¬¬ä¸‰æ–¹æˆæƒç™»å½• ç±»ä¼¼ä½¿ç”¨ AspNet.Security.OAuth.GitHubï¼Œå‰ç«¯ä½¿ç”¨å¦‚ä¸‹ï¼šVUE+Vue-Router+axios</p>
<h2>AspNet.Security.OAuth.GitHub</h2>
<ul>
<li>GitHub <a href="https://github.com/aspnet-contrib/AspNet.Security.OAuth.Providers" target="_blank" rel="noopener noreferrer">https://github.com/aspnet-contrib/AspNet.Security.OAuth.Providers</a></li>
</ul>
<h2>GitHub æˆæƒç™»å½•</h2>
<p>ä»€ä¹ˆé…ç½®çš„è¿‡ç¨‹ä¸è¯´äº†ã€‚ã€‚æœ‰ä¸€æ¨ã€‚</p>
<ul>
<li><a href="https://www.jianshu.com/p/78d186aeb526" target="_blank" rel="noopener noreferrer">GitHub ç¬¬ä¸‰æ–¹ç™»å½•</a></li>
<li><a href="https://juejin.im/post/5dfb04cee51d45583a66c2f3" target="_blank" rel="noopener noreferrer">ç»™ä½ çš„ç½‘ç«™æ·»åŠ ç¬¬ä¸‰æ–¹ç™»å½•ä»¥åŠçŸ­ä¿¡éªŒè¯åŠŸèƒ½</a></li>
</ul>
<p>ä¸‹é¢ä¸ºç¤ºä¾‹</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>client_id:0be6b05fc717bfc4fb67</span></span>
<span class="line"><span>client_secret:xxxxxxxxxxxxxxx</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>Get</p>
<div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>https://github.com/login/oauth/authorize?client_id=0be6b05fc717bfc4fb67&amp;redirect_uri=https://localhost:5001/signin-github</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>ä¼šé‡å®šå‘åˆ°</p>
<p><a href="https://localhost:5001/signin-github?code=07537a84d12bbae08361" target="_blank" rel="noopener noreferrer">https://localhost:5001/signin-github?code=07537a84d12bbae08361</a></p>
<p>è¿™ä¸ª code æ”¾åˆ°ä¸‹é¢çš„è¯·æ±‚ä¸­ï¼Œè·å– access_token<br>
POST æ–¹å¼ï¼ˆPostMan å»è¯·æ±‚ï¼‰</p>
<div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>https://github.com/login/oauth/access_token?client_id=0be6b05fc717bfc4fb67&amp;client_secret=xxxxxxxxxxxxxxx&amp;code=07537a84d12bbae08361</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>Get æ–¹å¼</p>
<div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>https://api.github.com/user?access_token=787506afa3271d077b98f18af56d7cfdc8db43b4</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>ç„¶åå°±èƒ½è·å–ç”¨æˆ·ä¿¡æ¯</p>
<div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "login"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"luoyunchong"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "id"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">18613266</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "node_id"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"MDQ6VXNlcjE4NjEzMjY2"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "avatar_url"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"https://avatars1.githubusercontent.com/u/18613266?v=4"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "gravatar_id"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">""</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "url"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"https://api.github.com/users/luoyunchong"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "html_url"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"https://github.com/luoyunchong"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "followers_url"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"https://api.github.com/users/luoyunchong/followers"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "following_url"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"https://api.github.com/users/luoyunchong/following{/other_user}"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "gists_url"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"https://api.github.com/users/luoyunchong/gists{/gist_id}"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "starred_url"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"https://api.github.com/users/luoyunchong/starred{/owner}{/repo}"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "subscriptions_url"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"https://api.github.com/users/luoyunchong/subscriptions"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "organizations_url"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"https://api.github.com/users/luoyunchong/orgs"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "repos_url"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"https://api.github.com/users/luoyunchong/repos"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "events_url"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"https://api.github.com/users/luoyunchong/events{/privacy}"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "received_events_url"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"https://api.github.com/users/luoyunchong/received_events"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "type"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"User"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "site_admin"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">false</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "name"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"IGeekFan"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "company"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">null</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "blog"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"https://igeekfan.cn"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "location"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">null</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "email"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"luoyunchong@foxmail.com"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "hireable"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">null</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "bio"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"å­¦ä¹ ä¹‹è·¯æ¼«æ¼«æ— æœŸã€‚"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "public_repos"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">14</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "public_gists"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "followers"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">16</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "following"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">11</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "created_at"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"2016-04-22T10:33:44Z"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75">  "updated_at"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"2019-12-21T14:49:33Z"</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>.NET Core3.1</h2>
<p>ä»¥ä¸‹ä»£ç ä¸ºä¸»è¦ä»£ç ï¼Œå®Œæ•´ä»£ç çœ‹ä¸‹é¢çš„ DEMO é“¾æ¥ã€‚</p>
<p>ä½¿ç”¨ WebApi æ—¶ï¼Œçœ‹äº†ä¸€äº›é¡¹ç›®ï¼Œå…¨æ˜¯åŸºäº MVC ç»“æ„çš„ï¼Œéƒ½ä¸æ˜¯æˆ‘æƒ³è¦çš„ã€‚çœ‹äº†ä¸€äº›åšå®¢ä¸Šé¢ä»‹ç» ,æ­¥éª¤éƒ½æ˜¯åƒç¯‡ä¸€å¾‹ï¼Œéƒ½æ˜¯é…åˆå‰åç«¯åˆ†ç¦»çš„ã€‚</p>
<ul>
<li>å‰ç«¯è¿è¡Œåœ¨:<a href="http://localhost:8081" target="_blank" rel="noopener noreferrer">http://localhost:8081</a></li>
<li>åç«¯è¿è¡Œåœ¨:<a href="https://localhost:5001" target="_blank" rel="noopener noreferrer">https://localhost:5001</a></li>
</ul>
<h3>å‰åç«¯åˆ†ç¦»çš„ SPA é…åˆç¬¬ä¸‰æ–¹æˆæƒç™»å½•æµç¨‹å¦‚ä¸‹</h3>
<p>æœ¬åœ°æµ‹è¯•æ—¶ï¼ŒgitHub å›è°ƒåœ°å€è®¾ç½® http(s)ğŸ˜•/ip:ç«¯å£/signin-github</p>
<ul>
<li>å¦‚: <a href="https://localhost:5001/signin-github%E3%80%82" target="_blank" rel="noopener noreferrer">https://localhost:5001/signin-githubã€‚</a></li>
</ul>
<h4>1. ä¸Šé¢è¿™ä¸ªæ˜æ˜å¡«å†™çš„åç«¯çš„åœ°å€ï¼Œé‚£åç«¯æ€ä¹ˆæŠŠç»“æœé€šçŸ¥å‰ç«¯å‘¢ï¼Ÿ</h4>
<p>å‰ç«¯è¯·æ±‚<strong><a href="https://localhost:5001/signin?provider=GitHub&amp;redirectUrl=http://localhost:8080/login-result" target="_blank" rel="noopener noreferrer">https://localhost:5001/signin?provider=GitHub&amp;redirectUrl=http://localhost:8080/login-result</a></strong></p>
<ul>
<li>æä¾›å‚æ•° provider ä¸º GitHubï¼Œ</li>
<li>redirectUrl ä¸º GitHub æˆæƒç™»å½•åï¼Œå›è°ƒ signin-github åï¼Œåç«¯å†å»é‡å®šå‘çš„åœ°å€ï¼Œè¿™é‡Œå¡«å‰ç«¯çš„ä¸€ä¸ªè·¯ç”±ã€‚</li>
</ul>
<h4>2. åç«¯åªæä¾›äº† signinï¼Œsignin-callback è·¯ç”±ï¼Œæ²¡æœ‰ signin-githubï¼Œé‚£ github ä¸Šé…ç½®çš„è·¯ç”±æ˜¯æ€ä¹ˆå›è°ƒå›æ¥å‘¢ï¼Ÿ</h4>
<p><a href="https://docs.microsoft.com/zh-cn/aspnet/core/security/authentication/social/google-logins?view=aspnetcore-3.1" target="_blank" rel="noopener noreferrer">google-ç™»å½•ï¼Œå¾®è½¯æ–‡æ¡£</a>ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ª<strong>æ›´æ”¹é»˜è®¤å›è°ƒ URI</strong>,é€šè¿‡ AddGitHub ä¸­çš„ CallbackPath å±æ€§é…ç½®ã€‚</p>
<p>ä»‹ç»äº†å›è°ƒåœ°å€åº”é…ç½® signin-google,æ‰€ä»¥è¿™é‡Œåº”è¯¥æ˜¯ signin-githubï¼Œä»–æ˜¯å¯ä»¥é…ç½®çš„ï¼Œä¸éœ€è¦è‡ªå·±å†™ç¨‹åºå¤„ç† signin-google è¿™ä¸ªè·¯ç”±ï¼Œå†…éƒ¨æœ‰ä¸­é—´ä»¶å·²ç»å¤„ç†äº†ã€‚</p>
<h4>3. å›è°ƒåˆ° signin-github åï¼Œåç«¯æ€ä¹ˆå¤„ç†ï¼Œæ‰èƒ½è®©å‰ç«¯åˆ·æ–°ã€‚è·å–ç™»å½•åçš„ä¿¡æ¯å‘¢ã€‚</h4>
<p>å…·ä½“ä¸Šé¢çš„æ ¹æ® code è·å– access_tokenï¼Œæ ¹æ® access_token è·å–ç”¨æˆ·çš„ä¿¡æ¯çš„è¿‡ç¨‹ï¼Œè¿™äº›å¤„ç†çš„è¿‡ç¨‹ï¼Œéƒ½ä¸éœ€è¦æˆ‘ä»¬è‡ªå·±å¤„ç†ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ç›´æ¥è·å–ç”¨æˆ·ä¿¡æ¯ã€‚</p>
<p>ä¸€ä¸ªæ–¹æ³• SignIn,åªè¦<strong>return Challenge(properties, provider);</strong>ï¼Œ</p>
<ul>
<li>provider ä¸º GitHubï¼Œ</li>
<li>properties var properties = new AuthenticationProperties { RedirectUri = url };</li>
</ul>
<p>è¿™ä¸ª url ä¸ºå¦ä¸€ä¸ªè·å–ç”¨æˆ·ä¿¡æ¯çš„è·¯ç”±ï¼Œåªè¦æ‹¼æ¥å¥½åœ°å€å³å¯ã€‚</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>var authenticateResult = await _contextAccessor.HttpContext.AuthenticateAsync(provider);</span></span>
<span class="line"><span>string email = authenticateResult.Principal.FindFirst(ClaimTypes.Email)?.Value;</span></span>
<span class="line"><span>string name = authenticateResult.Principal.FindFirst(ClaimTypes.Name)?.Value;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>éœ€è¦æ³¨å…¥</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>private readonly IHttpContextAccessor _contextAccessor;</span></span>
<span class="line"><span>public AuthenticationController( IHttpContextAccessor contextAccessor)</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    _contextAccessor = contextAccessor;</span></span>
<span class="line"><span>}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>ä»£ç éƒ¨ç½²ï¼ˆç®€åŒ–ï¼‰</h3>
<p>æ‰“å¼€ NuGet åŒ…ç®¡ç†,å®‰è£…åŒ…</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>Install-Package AspNet.Security.OAuth.GitHub</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>appSettings.json</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>"Authentication": {</span></span>
<span class="line"><span>    "GitHub": {</span></span>
<span class="line"><span>      "ClientId": "0be6b05fc717bfc4fb67",</span></span>
<span class="line"><span>      "ClientSecret": "xxxxxxxxxxxxxxx"</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>add æ‰©å±•æ–¹æ³•</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>public static class JwtConfiguration</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    public static void AddJwtConfiguration(this IServiceCollection services, IConfiguration configuration)</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        services.AddAuthentication(opts =&gt;</span></span>
<span class="line"><span>            {</span></span>
<span class="line"><span>                opts.DefaultScheme = CookieAuthenticationDefaults.AuthenticationScheme;</span></span>
<span class="line"><span>                opts.DefaultAuthenticateScheme = JwtBearerDefaults.AuthenticationScheme;</span></span>
<span class="line"><span>            }).AddCookie(options =&gt;</span></span>
<span class="line"><span>        {</span></span>
<span class="line"><span>            options.LoginPath = "/signin";</span></span>
<span class="line"><span>            options.LogoutPath = "/signout";</span></span>
<span class="line"><span>        }).AddGitHub(options =&gt;</span></span>
<span class="line"><span>        {</span></span>
<span class="line"><span>            options.ClientId = configuration["Authentication:GitHub:ClientId"];</span></span>
<span class="line"><span>            options.ClientSecret = configuration["Authentication:GitHub:ClientSecret"];</span></span>
<span class="line"><span>        });</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚å¤´åƒï¼Œemailï¼Œæ˜¯æ²¡æœ‰è·å–çš„ã€‚</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>.AddGitHub(options =&gt;</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    options.ClientId = configuration["Authentication:GitHub:ClientId"];</span></span>
<span class="line"><span>    options.ClientSecret = configuration["Authentication:GitHub:ClientSecret"];</span></span>
<span class="line"><span>    //options.CallbackPath = new PathString("~/signin-github");//ä¸GitHubä¸Šçš„å›è°ƒåœ°å€ç›¸åŒï¼Œé»˜è®¤å³æ˜¯/signin-github</span></span>
<span class="line"><span>    options.Scope.Add("user:email");</span></span>
<span class="line"><span>    //authenticateResult.Principal.FindFirst(LinConsts.Claims.AvatarUrl)?.Value;  å¾—åˆ°GitHubå¤´åƒ</span></span>
<span class="line"><span>    options.ClaimActions.MapJsonKey(LinConsts.Claims.AvatarUrl, "avatar_url");</span></span>
<span class="line"><span>    options.ClaimActions.MapJsonKey(LinConsts.Claims.BIO, "bio");</span></span>
<span class="line"><span>    options.ClaimActions.MapJsonKey(LinConsts.Claims.BlogAddress, "blog");</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#å…¶ä¸­LinConstsç±»ä¸ºé™æ€å¸¸é‡</span></span>
<span class="line"><span>public static class LinConsts</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    public static class Claims</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        public const string BIO = "urn:github:bio";</span></span>
<span class="line"><span>        public const string AvatarUrl = "urn:github:avatar_url";</span></span>
<span class="line"><span>        public const string BlogAddress = "urn:github:blog";</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>startup.cs</p>
<p>ConfigureServices ä¸­é…ç½®æ­¤æœåŠ¡</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>    services.AddSingleton&lt;IHttpContextAccessor, HttpContextAccessor&gt;();</span></span>
<span class="line"><span>    services.AddJwtConfiguration(Configuration);</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ›å»º AuthenticationController.cs<br>
å¢åŠ  SignInï¼Œç”¨äºå¤„ç†ç”¨æˆ·æˆæƒæˆåŠŸåï¼Œé‡å®šå› signin-callback,å¹¶å°†å‚æ•°å¸¦å›ã€‚</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>        private readonly IHttpContextAccessor _contextAccessor;</span></span>
<span class="line"><span>        private readonly IConfiguration _configuration;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        public AuthenticationController(IHttpContextAccessor contextAccessor, IConfiguration configuration)</span></span>
<span class="line"><span>        {</span></span>
<span class="line"><span>            _contextAccessor = contextAccessor;</span></span>
<span class="line"><span>            _configuration = configuration;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        [HttpGet("~/signin")]</span></span>
<span class="line"><span>        public async Task&lt;IActionResult&gt; SignIn(string provider, string redirectUrl)</span></span>
<span class="line"><span>        {</span></span>
<span class="line"><span>            var request = _contextAccessor.HttpContext.Request;</span></span>
<span class="line"><span>            var url =</span></span>
<span class="line"><span>                $"{request.Scheme}://{request.Host}{request.PathBase}{request.Path}-callback?provider={provider}&amp;redirectUrl={redirectUrl}";</span></span>
<span class="line"><span>            var properties = new AuthenticationProperties { RedirectUri = url };</span></span>
<span class="line"><span>            properties.Items["LoginProviderKey"] = provider;</span></span>
<span class="line"><span>            return Challenge(properties, provider);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        }</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ signin æ–¹æ³•ä¸­ï¼Œç”¨æˆ·ç‚¹å‡»æˆæƒåï¼ˆç¬¬ä¸€æ¬¡ï¼‰ï¼Œä¼šæ ¹æ®å…¶ä¼ é€’çš„ URLï¼Œé‡å®šå‘åˆ°è¿™ä¸ªåœ°å€ï¼Œsignin-callback,å‚æ•°ä¹Ÿä¼šä¸€åŒæºå¸¦ã€‚provider ä¸º GitHub,redirectUrl ä¸ºï¼š<a href="http://localhost:8081/login-result" target="_blank" rel="noopener noreferrer">http://localhost:8081/login-result</a>.</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>[HttpGet("~/signin-callback")]</span></span>
<span class="line"><span>public async Task&lt;IActionResult&gt; Home(string provider = null, string redirectUrl = "")</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    var authenticateResult = await _contextAccessor.HttpContext.AuthenticateAsync(provider);</span></span>
<span class="line"><span>    if (!authenticateResult.Succeeded) return Redirect(redirectUrl);</span></span>
<span class="line"><span>    var openIdClaim = authenticateResult.Principal.FindFirst(ClaimTypes.NameIdentifier);</span></span>
<span class="line"><span>    if (openIdClaim == null || string.IsNullOrWhiteSpace(openIdClaim.Value))</span></span>
<span class="line"><span>        return Redirect(redirectUrl);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    //TODO è®°å½•æˆæƒæˆåŠŸåçš„ä¿¡æ¯</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    string email = authenticateResult.Principal.FindFirst(ClaimTypes.Email)?.Value;</span></span>
<span class="line"><span>    string name = authenticateResult.Principal.FindFirst(ClaimTypes.Name)?.Value;</span></span>
<span class="line"><span>    string gitHubName = authenticateResult.Principal.FindFirst(GitHubAuthenticationConstants.Claims.Name)?.Value;</span></span>
<span class="line"><span>    string gitHubUrl = authenticateResult.Principal.FindFirst(GitHubAuthenticationConstants.Claims.Url)?.Value;</span></span>
<span class="line"><span>    //startup ä¸­ AddGitHubé…ç½®é¡¹  options.ClaimActions.MapJsonKey(LinConsts.Claims.AvatarUrl, "avatar_url");</span></span>
<span class="line"><span>    string avatarUrl = authenticateResult.Principal.FindFirst(LinConsts.Claims.AvatarUrl)?.Value;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    return Redirect($"{redirectUrl}?openId={openIdClaim.Value}");</span></span>
<span class="line"><span>}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ—¶å€™æˆ‘ä»¬èƒ½è·å–ç”¨æˆ·ä¿¡æ¯äº†ã€‚é‚£ä¹ˆå‰ç«¯æ€ä¹ˆåŠå‘¢ã€‚æˆ‘ä»¬å†™ä¸ªæ–¹æ³•ï¼Œè·å–ç”¨æˆ·ä¿¡æ¯ï¼Œçœ‹çœ‹æ•ˆæœã€‚</p>
<ul>
<li>æµè§ˆå™¨ç›´æ¥æ‰“å¼€èƒ½å¾—åˆ° github çš„ idã€‚</li>
<li>axios GET è¯·æ±‚ <a href="https://localhost:5001/OpenId" target="_blank" rel="noopener noreferrer">https://localhost:5001/OpenId</a> å¾—åˆ° null</li>
</ul>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>[HttpGet("~/OpenId")]</span></span>
<span class="line"><span>public async Task&lt;string&gt; OpenId(string provider = null)</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>   var authenticateResult = await _contextAccessor.HttpContext.AuthenticateAsync(provider);</span></span>
<span class="line"><span>   if (!authenticateResult.Succeeded) return null;</span></span>
<span class="line"><span>   var openIdClaim = authenticateResult.Principal.FindFirst(ClaimTypes.NameIdentifier);</span></span>
<span class="line"><span>   return openIdClaim?.Value;</span></span>
<span class="line"><span>}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘è®°å¾—ä¹‹å‰ä¼  Token æ—¶ï¼Œåå°æ˜¯å¯ä»¥è¿™æ ·è·å–çš„ã€‚</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>[HttpGet("~/GetOpenIdByToken")]</span></span>
<span class="line"><span>public string GetOpenIdByToken()</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    return User.FindFirst(ClaimTypes.NameIdentifier)?.Value;</span></span>
<span class="line"><span>}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>LoginResult.vue åœ¨ created ç”Ÿå‘½å‘¨æœŸä¸­ã€‚éƒ½æ˜¯å¾—åˆ° null</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>axios({</span></span>
<span class="line"><span>  methods: "get",</span></span>
<span class="line"><span>  url: "https://localhost:5001/OpenId?provider=GitHub"</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>  .then(function(response) {</span></span>
<span class="line"><span>    // handle success</span></span>
<span class="line"><span>    console.log(response);</span></span>
<span class="line"><span>  })</span></span>
<span class="line"><span></span></span>
<span class="line"><span>axios({</span></span>
<span class="line"><span>  methods: "get",</span></span>
<span class="line"><span>  url: "https://localhost:5001/GetOpenIdByToken"</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>  .then(function(response) {</span></span>
<span class="line"><span>    // handle success</span></span>
<span class="line"><span>    console.log(response);</span></span>
<span class="line"><span>  })</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>ä¸ºä»€ä¹ˆå‘¢ï¼Ÿï¼Ÿï¼Ÿ</h3>
<p>å› ä¸ºå‰åç«¯åˆ†ç¦»ï¼Œä¸æ˜¯åŸºäº Cookies çš„ã€‚http æ˜¯æ— çŠ¶æ€çš„ã€‚æ¯æ¬¡è¯·æ±‚æ— æ³•åŒºåˆ†ç”¨æˆ·çš„ã€‚æˆ‘ä»¬å¯ä»¥æ ¹æ®å½“å‰çš„ ClaimsPrincipalï¼Œæ ¹æ® JWT ç”Ÿæˆç›¸åº”çš„ Tokenï¼Œaxios è¯·æ±‚æ—¶ï¼Œæ”¾åˆ° headers ä¸­ã€‚</p>
<p>å®‰è£…åŒ…</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>Install-Package Microsoft.AspNetCore.Authentication.JwtBearer</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>AppSettings.json é…ç½®æ”¹æˆ</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>"Authentication": {</span></span>
<span class="line"><span>"JwtBearer": {</span></span>
<span class="line"><span>  "SecurityKey": "JWTStudyWebsite_DI20DXU3",</span></span>
<span class="line"><span>  "Issuer": "JWTStudy",</span></span>
<span class="line"><span>  "Audience": "JWTStudyWebsite"</span></span>
<span class="line"><span>},</span></span>
<span class="line"><span>"GitHub": {</span></span>
<span class="line"><span>  "ClientId": "0be6b05fc717bfc4fb67",</span></span>
<span class="line"><span>  "ClientSecret": "xxxxxxxxxxxxxxx"</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ signin-callback è·¯ç”±ä¸­ï¼Œå¾—åˆ° authenticateResult.Principalï¼Œå…¶ä¸­é»˜è®¤åŒ…å«äº†(id,login,name,url)ï¼Œæˆæƒå¾—åˆ° eamilï¼Œå¦å¤– MapJsonKey æ‰©å±•äº†ä»¥ä¸‹å­—æ®µï¼ˆavatar_urlã€bioã€blog)</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> authenticateResult</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> _contextAccessor</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">HttpContext</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AuthenticateAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">provider</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> token</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">CreateToken</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">authenticateResult</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Principal</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>æ ¹æ® ClaimsPrincipal å€¼ç”Ÿæˆ token å€¼ã€‚</p>
<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">private</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF"> CreateToken</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">ClaimsPrincipal</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> claimsPrincipal</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> handler</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> JwtSecurityTokenHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> key</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> SymmetricSecurityKey</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        Encoding</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">UTF8</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">GetBytes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">_configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Authentication:JwtBearer:SecurityKey"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">]));</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> credentials</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> SigningCredentials</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">key</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">SecurityAlgorithms</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">HmacSha256</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75"> token</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B"> JwtSecurityToken</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        _configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Authentication:JwtBearer:Issuer"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        _configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">[</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379">"Authentication:JwtBearer:Audience"</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">        claimsPrincipal</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Claims</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">        expires</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">DateTime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B">Now</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">AddMinutes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">30</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B">        signingCredentials</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">credentials</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    );</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B"> handler</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">WriteToken</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">token</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™é‡Œçš„ claimsPrincipal æ˜¯ä»€ä¹ˆå‘¢ã€‚ç®€å•çš„è¯´å°±æ˜¯ä¸€ä¸ªå­˜æœ‰ github æˆæƒä¿¡æ¯çš„å¯¹è±¡ï¼Œå¯ä»¥è§£æå‡ºå¯¹åº”çš„ Clamisï¼Œè¿™é‡Œå…¶å®å°±æ˜¯ç”¨äº† Clamis çš„å±æ€§å€¼ã€‚</p>
<p>| Claim                            | ClaimsIdentity                                                | ClaimsPrincipal         |<br>
|</p>
]]></content:encoded>
    </item>
    <item>
      <title>å…¨å±€æ•æ„Ÿè¯å¤„ç†</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/stopwords.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/stopwords.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">å…¨å±€æ•æ„Ÿè¯å¤„ç†</source>
      <description>å…¨å±€æ•æ„Ÿè¯å¤„ç† åŸºäºToolGood.Wordsç±»åº“ï¼Œé…åˆæ•æ„Ÿå­—çš„æ–‡æœ¬æ–‡ä»¶ï¼Œå†™çš„APIæ¥å£ã€‚ https://github.com/luoyunchong/dotnetcore-examples/tree/master/aspnetcore-stopwords ä¸€å…±äºŒç§æ–¹å¼ 1.ToolGood.Words ç±»åº“é…åˆæ•æ„Ÿåº“ ToolGood.Words...</description>
      <pubDate>Fri, 28 Feb 2020 11:10:31 GMT</pubDate>
      <content:encoded><![CDATA[
<p>åŸºäºToolGood.Wordsç±»åº“ï¼Œé…åˆæ•æ„Ÿå­—çš„æ–‡æœ¬æ–‡ä»¶ï¼Œå†™çš„APIæ¥å£ã€‚</p>
<ul>
<li><a href="https://github.com/luoyunchong/dotnetcore-examples/tree/master/aspnetcore-stopwords" target="_blank" rel="noopener noreferrer">https://github.com/luoyunchong/dotnetcore-examples/tree/master/aspnetcore-stopwords</a></li>
</ul>
<p>ä¸€å…±äºŒç§æ–¹å¼</p>
<h2>1.ToolGood.Words</h2>
<p>ç±»åº“é…åˆæ•æ„Ÿåº“</p>
<ul>
<li><a href="https://github.com/toolgood/ToolGood.Words" target="_blank" rel="noopener noreferrer">ToolGood.Words</a></li>
</ul>
<p>ç®€å•ç”¨æ³•</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>[Fact]</span></span>
<span class="line"><span>public void IssuesTest_17()</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    var illegalWordsSearch = new IllegalWordsSearch();</span></span>
<span class="line"><span>    string s = "ä¸­å›½|zgäºº|abc";</span></span>
<span class="line"><span>    illegalWordsSearch.SetKeywords(s.Split('|'));</span></span>
<span class="line"><span>    var str = illegalWordsSearch.Replace("æˆ‘æ˜¯ä¸­ç¾å›½äººå‰å®³ä¸­å›½å®Œç¾ï½ï½‚ï½ƒddbå¥½çš„", '*');</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    Assert.Equal("æˆ‘æ˜¯ä¸­ç¾å›½äººå‰å®³**å®Œç¾***ddbå¥½çš„", str);</span></span>
<span class="line"><span>}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é…åˆæ•æ„Ÿåº“æ–‡æœ¬æ–‡ä»¶ï¼Œå†™çš„å·¥å…·ç±»</p>
<p>äºŒä¸ªæ–‡ä»¶æ”¾åˆ°wwwroot/_Illegalç›®å½•ä¸‹ï¼Œé€šè¿‡ReplaceStopWordsæ–¹æ³•è°ƒç”¨å³å¯å¯¹</p>
<ul>
<li><a href="https://github.com/toolgood/ToolGood.Words/blob/master/csharp/ToolGood.Words.Test/_Illegal/IllegalKeywords.txt" target="_blank" rel="noopener noreferrer">https://github.com/toolgood/ToolGood.Words/blob/master/csharp/ToolGood.Words.Test/_Illegal/IllegalKeywords.txt</a></li>
<li><a href="https://github.com/toolgood/ToolGood.Words/blob/master/csharp/ToolGood.Words.Test/_Illegal/IllegalUrls.txt" target="_blank" rel="noopener noreferrer">https://github.com/toolgood/ToolGood.Words/blob/master/csharp/ToolGood.Words.Test/_Illegal/IllegalUrls.txt</a></li>
</ul>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>public class ToolGoodUtils</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    //æ•æ„Ÿåº“åªè¦è¿™äºŒä¸ªæ–‡ä»¶å­˜åœ¨å³å¯</span></span>
<span class="line"><span>    //æœ¬åœ°æ•æ„Ÿåº“ç¼“å­˜-https://github.com/toolgood/ToolGood.Words/tree/master/csharp/ToolGood.Words.Test/_Illegal</span></span>
<span class="line"><span>    //å› ä¸ºéœ€è¦ä¸Šä¼ è‡³githubå¹¶åŒæ­¥gitee,å®‰å…¨èµ·è§ï¼Œæ‰€ä»¥æœªä¸Šä¼ è‡³gitï¼Œéœ€è¦è‡ªè¡Œä¸‹è½½å¹¶å¤åˆ¶</span></span>
<span class="line"><span>    private const string KeywordsPath = "wwwroot/_Illegal/IllegalKeywords.txt";</span></span>
<span class="line"><span>    private const string UrlsPath = "wwwroot/_Illegal/IllegalUrls.txt";</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    private const string InfoPath = "wwwroot/_Illegal/IllegalInfo.txt";</span></span>
<span class="line"><span>    private const string BitPath = "wwwroot/_Illegal/IllegalBit.iws";</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    private static IllegalWordsSearch _search;</span></span>
<span class="line"><span>    /// &lt;summary&gt;</span></span>
<span class="line"><span>    /// æœ¬åœ°æ•æ„Ÿåº“,æ–‡ä»¶ä¿®æ”¹åï¼Œé‡æ–°åˆ›å»ºç¼“å­˜Bit</span></span>
<span class="line"><span>    /// &lt;/summary&gt;</span></span>
<span class="line"><span>    /// &lt;returns&gt;&lt;/returns&gt;</span></span>
<span class="line"><span>    public static IllegalWordsSearch GetIllegalWordsSearch()</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        if (_search == null)</span></span>
<span class="line"><span>        {</span></span>
<span class="line"><span>            string ipath = Path.GetFullPath(InfoPath);</span></span>
<span class="line"><span>            if (File.Exists(ipath) == false)</span></span>
<span class="line"><span>            {</span></span>
<span class="line"><span>                _search = CreateIllegalWordsSearch();</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>            else</span></span>
<span class="line"><span>            {</span></span>
<span class="line"><span>                var texts = File.ReadAllText(ipath).Split('|');</span></span>
<span class="line"><span>                if (new FileInfo(Path.GetFullPath(KeywordsPath)).LastWriteTime.ToString("yyyy-MM-dd HH:mm:ss") !=</span></span>
<span class="line"><span>                    texts[0] ||</span></span>
<span class="line"><span>                    new FileInfo(Path.GetFullPath(UrlsPath)).LastWriteTime.ToString("yyyy-MM-dd HH:mm:ss") !=</span></span>
<span class="line"><span>                    texts[1]</span></span>
<span class="line"><span>                )</span></span>
<span class="line"><span>                {</span></span>
<span class="line"><span>                    _search = CreateIllegalWordsSearch();</span></span>
<span class="line"><span>                }</span></span>
<span class="line"><span>                else</span></span>
<span class="line"><span>                {</span></span>
<span class="line"><span>                    var s = new IllegalWordsSearch();</span></span>
<span class="line"><span>                    s.Load(Path.GetFullPath(BitPath));</span></span>
<span class="line"><span>                    _search = s;</span></span>
<span class="line"><span>                }</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        return _search;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    private static IllegalWordsSearch CreateIllegalWordsSearch()</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        string[] words1 = File.ReadAllLines(Path.GetFullPath(KeywordsPath), Encoding.UTF8);</span></span>
<span class="line"><span>        string[] words2 = File.ReadAllLines(Path.GetFullPath(UrlsPath), Encoding.UTF8);</span></span>
<span class="line"><span>        var words = new List&lt;string&gt;();</span></span>
<span class="line"><span>        foreach (var item in words1)</span></span>
<span class="line"><span>        {</span></span>
<span class="line"><span>            words.Add(item.Trim());</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        foreach (var item in words2)</span></span>
<span class="line"><span>        {</span></span>
<span class="line"><span>            words.Add(item.Trim());</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        var search = new IllegalWordsSearch();</span></span>
<span class="line"><span>        search.SetKeywords(words);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        search.Save(Path.GetFullPath(BitPath));</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        var text = new FileInfo(Path.GetFullPath(KeywordsPath)).LastWriteTime.ToString("yyyy-MM-dd HH:mm:ss") + "|"+ new FileInfo(Path.GetFullPath(UrlsPath)).LastWriteTime.ToString("yyyy-MM-dd HH:mm:ss");</span></span>
<span class="line"><span>        File.WriteAllText(Path.GetFullPath(InfoPath), text);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        return search;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>2. å¾ªç¯ä½¿ç”¨Replace</h2>
<p>æ–¹æ¡ˆï¼šé€šè¿‡ç»´æŠ¤æ•æ„Ÿåº“ï¼Œå¾ªç¯replace<br>
å¤§ä½¬åˆ†äº«ç»™æˆ‘çš„ï¼Œç¨å¾®æ”¹æˆäº†ä»æ–‡ä»¶ä¸­è·å–æ•æ„Ÿå­—ã€‚</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>public static class StopWords</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    static readonly ConcurrentDictionary&lt;string, bool&gt; FunNlpDataSensitive = new ConcurrentDictionary&lt;string, bool&gt;();</span></span>
<span class="line"><span>    static readonly ConcurrentDictionary&lt;int, string&gt; ReplaceNewValue = new ConcurrentDictionary&lt;int, string&gt;();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    private const string KeywordsPath = "wwwroot/_Illegal/IllegalKeywords.txt";</span></span>
<span class="line"><span>    private const string UrlsPath = "wwwroot/_Illegal/IllegalUrls.txt";</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>    static StopWords()</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        LoadDataFromFile();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    public static void LoadDataFromFile()</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        string words1 = File.ReadAllText(Path.GetFullPath(KeywordsPath), Encoding.UTF8);</span></span>
<span class="line"><span>        string words2 = File.ReadAllText(Path.GetFullPath(UrlsPath), Encoding.UTF8);</span></span>
<span class="line"><span>        LoadDataFromText(words1);</span></span>
<span class="line"><span>        LoadDataFromText(words2);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>    public static void LoadDataFromText(string text)</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        int oldcount = FunNlpDataSensitive.Count;</span></span>
<span class="line"><span>        foreach (string wd in text.Split('\n'))</span></span>
<span class="line"><span>        {</span></span>
<span class="line"><span>            string keykey = wd.Trim().Trim('\r', '\n').Trim();</span></span>
<span class="line"><span>            if (string.IsNullOrEmpty(keykey)) continue;</span></span>
<span class="line"><span>            FunNlpDataSensitive.TryAdd(keykey, true);</span></span>
<span class="line"><span>            if (ReplaceNewValue.ContainsKey(keykey.Length) == false)</span></span>
<span class="line"><span>                ReplaceNewValue.TryAdd(keykey.Length, "".PadRight(keykey.Length, '*'));</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        Console.WriteLine($"æ•æ„Ÿè¯åŠ è½½å®Œæ¯•ï¼Œå¢åŠ æ•°é‡ï¼š{FunNlpDataSensitive.Count - oldcount}");</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /// &lt;summary&gt;</span></span>
<span class="line"><span>    /// æ›¿æ¢æ‰€æœ‰æ•æ„Ÿè¯ä¸º *</span></span>
<span class="line"><span>    /// &lt;/summary&gt;</span></span>
<span class="line"><span>    /// &lt;param name="that"&gt;&lt;/param&gt;</span></span>
<span class="line"><span>    /// &lt;returns&gt;&lt;/returns&gt;</span></span>
<span class="line"><span>    public static string ReplaceStopWords(this string that)</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        foreach (var wd in FunNlpDataSensitive.Keys)</span></span>
<span class="line"><span>            that = that.Replace(wd, ReplaceNewValue.TryGetValue(wd.Length, out var tryval) ? tryval : "".PadRight(wd.Length, '*'));</span></span>
<span class="line"><span>        return that;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>FreeSqlå…¨å±€å¤„ç†æ•æ„Ÿè¯</h2>
<p>ä½¿ç”¨FreeSqlè¿™ä¸ªORMæ—¶ï¼Œå…¨å±€å¤„ç†stringç±»å‹çš„å€¼ï¼Œè¿›è¡Œæ•æ„Ÿè¯å¤„ç†ã€‚ä»£ç åœ¨StartUp.csçš„æ„é€ å‡½æ•°ä¸­ã€‚</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>//æ•æ„Ÿè¯å¤„ç†</span></span>
<span class="line"><span>IllegalWordsSearch illegalWords = ToolGoodUtils.GetIllegalWordsSearch();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Fsql.Aop.AuditValue += (s, e) =&gt;</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    if (e.Column.CsType == typeof(string) &amp;&amp; e.Value != null)</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        string oldVal = (string)e.Value;</span></span>
<span class="line"><span>        string newVal = illegalWords.Replace(oldVal);</span></span>
<span class="line"><span>        //ç¬¬äºŒç§å¤„ç†æ•æ„Ÿè¯çš„æ–¹å¼</span></span>
<span class="line"><span>        //string newVal = oldVal.ReplaceStopWords();</span></span>
<span class="line"><span>        if (newVal != oldVal)</span></span>
<span class="line"><span>        {</span></span>
<span class="line"><span>            e.Value = newVal;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>};</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>å‰ç«¯å‡†å¤‡</title>
      <link>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/vue-start.html</link>
      <guid>https://igeekfan.cn/igeekfan-docs/dotnetcore/lin-cms/vue-start.html</guid>
      <source url="https://igeekfan.cn/igeekfan-docs/rss.xml">å‰ç«¯å‡†å¤‡</source>
      <description>å‰ç«¯å‡†å¤‡ å¼€æºåœ°å€ ç®¡ç†ç«¯ UI https://github.com/luoyunchong/lin-cms-vue ç”¨æˆ·ç«¯ UI https://github.com/luoyunchong/lin-cms-vvlog åšå®¢æ¨¡å—çº¿ä¸Šåœ°å€ æœ¬é¡¹ç›® swagger åœ°å€ https://api.igeekfan.cn/swagger/index.htm...</description>
      <pubDate>Fri, 28 Feb 2020 11:10:31 GMT</pubDate>
      <content:encoded><![CDATA[
<h2>å¼€æºåœ°å€</h2>
<ul>
<li>ç®¡ç†ç«¯ UI <a href="https://github.com/luoyunchong/lin-cms-vue" target="_blank" rel="noopener noreferrer">https://github.com/luoyunchong/lin-cms-vue</a></li>
<li>ç”¨æˆ·ç«¯ UI <a href="https://github.com/luoyunchong/lin-cms-vvlog" target="_blank" rel="noopener noreferrer">https://github.com/luoyunchong/lin-cms-vvlog</a></li>
</ul>
<h2>åšå®¢æ¨¡å—çº¿ä¸Šåœ°å€</h2>
<ul>
<li>æœ¬é¡¹ç›® swagger åœ°å€ <a href="https://api.igeekfan.cn/swagger/index.html" target="_blank" rel="noopener noreferrer">https://api.igeekfan.cn/swagger/index.html</a></li>
<li>ç”¨æˆ·ç«¯ lin-cms-vvlog <a href="https://vvlog.igeekfan.cn" target="_blank" rel="noopener noreferrer">https://vvlog.igeekfan.cn</a>
<ul>
<li>æ™®é€šç”¨æˆ·ï¼š<a href="mailto:710277267@qq.com" target="_blank" rel="noopener noreferrer">710277267@qq.com</a></li>
<li>å¯†ç ï¼š123qwe</li>
</ul>
</li>
<li>ç®¡ç†å‘˜ lin-cms-vue <a href="https://cms.igeekfan.cn" target="_blank" rel="noopener noreferrer">https://cms.igeekfan.cn/</a>
<ul>
<li>ç®¡ç†å‘˜ï¼š admin</li>
<li>å¯†ç ï¼š123qwe</li>
</ul>
</li>
</ul>
<h2>å¿«é€Ÿä¸Šæ‰‹</h2>
<p>å¼€å‘å¿…å¤‡</p>
<ul>
<li><a href="https://nodejs.org/en/" target="_blank" rel="noopener noreferrer">Node.js 16+</a></li>
<li><a href="https://www.pnpm.cn/" target="_blank" rel="noopener noreferrer">pnpm</a></li>
</ul>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># clone the project</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">git</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> https://github.com/luoyunchong/lin-cms-vue.git</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> pnpm</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># install dependency</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> install</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># develop</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379"> serve</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>nginx é…ç½®</h2>
<ul>
<li>http 80 éƒ¨ç½²</li>
</ul>
<div class="language-nginx line-numbers-mode" data-highlighter="shiki" data-ext="nginx" data-title="nginx" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">server</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    listen </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">8080</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    root </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">/var/www/lin-cms-vue;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">   charset </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">utf-8;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">   location</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> / </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">       try_files </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">$</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">uri</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">uri</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">/ /index.html;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">     }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    error_page </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">  500</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 502</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 503</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 504</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  /50x.html;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    location</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#E06C75"> /50x.html </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        root </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  html;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>https</li>
</ul>
<p>ç›®å½•ï¼š<code>/etc/nginx/conf.d</code><br>
è¯ä¹¦ï¼šä¹Ÿæ”¾åˆ°<code>/etc/nginx/conf.d/cms.igeekfan.cn_nginx</code>ç›®å½•ä¸­</p>
<div class="language-nginx line-numbers-mode" data-highlighter="shiki" data-ext="nginx" data-title="nginx" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">server</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> {  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    listen </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">443</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  ssl;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    server_name </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">cms.igeekfan.cn;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    ssl_certificate </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">conf.d/cms.igeekfan.cn_nginx/cms.igeekfan.cn_bundle.crt; </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#è¯ä¹¦æ–‡ä»¶åç§°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    ssl_certificate_key </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">conf.d/cms.igeekfan.cn_nginx/cms.igeekfan.cn.key; </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#ç§é’¥æ–‡ä»¶åç§°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    ssl_session_timeout </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">5m</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    ssl_protocols </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">TLSv1 TLSv1.1 TLSv1.2; </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#è¯·æŒ‰ç…§è¿™ä¸ªåè®®é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    ssl_ciphers </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE; </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#è¯·æŒ‰ç…§è¿™ä¸ªå¥—ä»¶é…ç½®ï¼Œé…ç½®åŠ å¯†å¥—ä»¶ï¼Œå†™æ³•éµå¾ª openssl æ ‡å‡†ã€‚</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    ssl_prefer_server_ciphers </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">on</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    root </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">/var/www/lin-cms-vue;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    location</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF"> / </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">       try_files </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">$</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">uri</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">uri</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">/ /index.html; </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">   }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">        </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    error_page </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">  500</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 502</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 503</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 504</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  /50x.html;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    location</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#E06C75"> /50x.html </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">        root </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">  html;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">server</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    listen </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66">80</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    server_name </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">cms.igeekfan.cn;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66"> 301</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF"> https://$</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">server_name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">$</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75">request_uri</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>é…ç½®é¡¹</h2>
<ol>
<li>é…ç½® api åœ°å€ï¼š æ‰“å¼€é…ç½®æ–‡ä»¶ <code>.env.development</code></li>
</ol>
<h4>lin-cms-vvlog</h4>
<ul>
<li><code>VUE_APP_BASE_URL</code> é…ç½®åç«¯ api åœ°å€ï¼ˆå¿…å¡«ï¼‰</li>
<li><code>VUE_APP_CURRENT_URL</code> é…ç½®å½“å‰å‰ç«¯åœ°å€ï¼Œä»…ç”¨äºQQ\å¾®ä¿¡ç™»å½•\GitHubå¿«é€Ÿç™»å½•å›è°ƒåœ°å€</li>
</ul>
<p>ç”¨æˆ·åï¼š<strong>admin</strong> å¯†ç  <strong>123qwe</strong></p>
<h4>lin-cms-vue</h4>
<ul>
<li><code>VUE_APP_BASE_URL</code> é…ç½®åç«¯ api åœ°å€ï¼ˆå¿…å¡«ï¼‰</li>
<li><code>VUE_APP_VVLOG_URL</code> é…ç½®lin-cms-vvlogè¿è¡Œçš„åœ°å€ï¼Œæ–¹ä¾¿è·³è½¬è‡³lin-cms-vvlogé¡¹ç›®</li>
</ul>
<p>ç”¨æˆ·åï¼š<strong><a href="mailto:710277267@qq.com" target="_blank" rel="noopener noreferrer">710277267@qq.com</a></strong> å¯†ç  <strong>123qwe</strong></p>
]]></content:encoded>
    </item>
  </channel>
</rss>